var Iy=e=>{throw TypeError(e)};var qf=(e,t,n)=>t.has(e)||Iy("Cannot "+n);var L=(e,t,n)=>(qf(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?Iy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(qf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Rt=(e,t,n)=>(qf(e,t,"access private method"),n);var Ec=(e,t,n,r)=>({set _(s){be(e,t,s,n)},get _(){return L(e,t,r)}});function U2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Kw={exports:{}},Ad={},Yw={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),z2=Symbol.for("react.portal"),H2=Symbol.for("react.fragment"),W2=Symbol.for("react.strict_mode"),V2=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),K2=Symbol.for("react.forward_ref"),Y2=Symbol.for("react.suspense"),Q2=Symbol.for("react.memo"),X2=Symbol.for("react.lazy"),$y=Symbol.iterator;function J2(e){return e===null||typeof e!="object"?null:(e=$y&&e[$y]||e["@@iterator"],typeof e=="function"?e:null)}var Qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xw=Object.assign,Jw={};function Jo(e,t,n){this.props=e,this.context=t,this.refs=Jw,this.updater=n||Qw}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zw(){}Zw.prototype=Jo.prototype;function Yp(e,t,n){this.props=e,this.context=t,this.refs=Jw,this.updater=n||Qw}var Qp=Yp.prototype=new Zw;Qp.constructor=Yp;Xw(Qp,Jo.prototype);Qp.isPureReactComponent=!0;var Dy=Array.isArray,eb=Object.prototype.hasOwnProperty,Xp={current:null},tb={key:!0,ref:!0,__self:!0,__source:!0};function nb(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)eb.call(t,r)&&!tb.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Gl,type:e,key:a,ref:i,props:s,_owner:Xp.current}}function Z2(e,t){return{$$typeof:Gl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gl}function eP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ly=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eP(""+e.key):t.toString(36)}function yu(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gl:case z2:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Kf(i,0):r,Dy(s)?(n="",e!=null&&(n=e.replace(Ly,"$&/")+"/"),yu(s,t,n,"",function(u){return u})):s!=null&&(Jp(s)&&(s=Z2(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Ly,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Dy(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Kf(a,l);i+=yu(a,t,n,c,s)}else if(c=J2(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Kf(a,l++),i+=yu(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Pc(e,t,n){if(e==null)return e;var r=[],s=0;return yu(e,r,"","",function(a){return t.call(n,a,s++)}),r}function tP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},xu={transition:null},nP={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:xu,ReactCurrentOwner:Xp};function rb(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Pc,forEach:function(e,t,n){Pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pc(e,function(){t++}),t},toArray:function(e){return Pc(e,function(t){return t})||[]},only:function(e){if(!Jp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Jo;Ne.Fragment=H2;Ne.Profiler=V2;Ne.PureComponent=Yp;Ne.StrictMode=W2;Ne.Suspense=Y2;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP;Ne.act=rb;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xw({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Xp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)eb.call(t,c)&&!tb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Gl,type:e.type,key:s,ref:a,props:r,_owner:i}};Ne.createContext=function(e){return e={$$typeof:q2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:G2,_context:e},e.Consumer=e};Ne.createElement=nb;Ne.createFactory=function(e){var t=nb.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:K2,render:e}};Ne.isValidElement=Jp;Ne.lazy=function(e){return{$$typeof:X2,_payload:{_status:-1,_result:e},_init:tP}};Ne.memo=function(e,t){return{$$typeof:Q2,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=xu.transition;xu.transition={};try{e()}finally{xu.transition=t}};Ne.unstable_act=rb;Ne.useCallback=function(e,t){return Kt.current.useCallback(e,t)};Ne.useContext=function(e){return Kt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Kt.current.useEffect(e,t)};Ne.useId=function(){return Kt.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Kt.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Kt.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Kt.current.useReducer(e,t,n)};Ne.useRef=function(e){return Kt.current.useRef(e)};Ne.useState=function(e){return Kt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Kt.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Kt.current.useTransition()};Ne.version="18.3.1";Yw.exports=Ne;var m=Yw.exports;const P=qw(m),sb=U2({__proto__:null,default:P},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=m,sP=Symbol.for("react.element"),aP=Symbol.for("react.fragment"),oP=Object.prototype.hasOwnProperty,iP=rP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lP={key:!0,ref:!0,__self:!0,__source:!0};function ab(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)oP.call(t,r)&&!lP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sP,type:e,key:a,ref:i,props:s,_owner:iP.current}}Ad.Fragment=aP;Ad.jsx=ab;Ad.jsxs=ab;Kw.exports=Ad;var o=Kw.exports,ob={exports:{}},_n={},ib={exports:{}},lb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,A){var W=k.length;k.push(A);e:for(;0<W;){var V=W-1>>>1,J=k[V];if(0<s(J,A))k[V]=A,k[W]=J,W=V;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var A=k[0],W=k.pop();if(W!==A){k[0]=W;e:for(var V=0,J=k.length,ie=J>>>1;V<ie;){var he=2*(V+1)-1,Re=k[he],se=he+1,Z=k[se];if(0>s(Re,W))se<J&&0>s(Z,Re)?(k[V]=Z,k[se]=W,V=se):(k[V]=Re,k[he]=W,V=he);else if(se<J&&0>s(Z,W))k[V]=Z,k[se]=W,V=se;else break e}}return A}function s(k,A){var W=k.sortIndex-A.sortIndex;return W!==0?W:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,v=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=k)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function _(k){if(g=!1,b(k),!x)if(n(c)!==null)x=!0,H(S);else{var A=n(u);A!==null&&X(_,A.startTime-k)}}function S(k,A){x=!1,g&&(g=!1,y(N),N=-1),v=!0;var W=h;try{for(b(A),f=n(c);f!==null&&(!(f.expirationTime>A)||k&&!T());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var J=V(f.expirationTime<=A);A=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),b(A)}else r(c);f=n(c)}if(f!==null)var ie=!0;else{var he=n(u);he!==null&&X(_,he.startTime-A),ie=!1}return ie}finally{f=null,h=W,v=!1}}var C=!1,j=null,N=-1,E=5,M=-1;function T(){return!(e.unstable_now()-M<E)}function I(){if(j!==null){var k=e.unstable_now();M=k;var A=!0;try{A=j(!0,k)}finally{A?q():(C=!1,j=null)}}else C=!1}var q;if(typeof p=="function")q=function(){p(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=I,q=function(){K.postMessage(null)}}else q=function(){w(I,0)};function H(k){j=k,C||(C=!0,q())}function X(k,A){N=w(function(){k(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,H(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var W=h;h=A;try{return k()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=h;h=k;try{return A()}finally{h=W}},e.unstable_scheduleCallback=function(k,A,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,k){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,k={id:d++,callback:A,priorityLevel:k,startTime:W,expirationTime:J,sortIndex:-1},W>V?(k.sortIndex=W,t(u,k),n(c)===null&&k===n(u)&&(g?(y(N),N=-1):g=!0,X(_,W-V))):(k.sortIndex=J,t(c,k),x||v||(x=!0,H(S))),k},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(k){var A=h;return function(){var W=h;h=A;try{return k.apply(this,arguments)}finally{h=W}}}})(lb);ib.exports=lb;var cP=ib.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=m,bn=cP;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cb=new Set,pl={};function Ra(e,t){Lo(e,t),Lo(e+"Capture",t)}function Lo(e,t){for(pl[e]=t,e=0;e<t.length;e++)cb.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,dP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},Uy={};function fP(e){return am.call(Uy,e)?!0:am.call(Fy,e)?!1:dP.test(e)?Uy[e]=!0:(Fy[e]=!0,!1)}function hP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mP(e,t,n,r){if(t===null||typeof t>"u"||hP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yt(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zp=/[\-:]([a-z])/g;function eg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zp,eg);Nt[t]=new Yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zp,eg);Nt[t]=new Yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zp,eg);Nt[t]=new Yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tg(e,t,n,r){var s=Nt.hasOwnProperty(t)?Nt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mP(t,n,s,r)&&(n=null),r||s===null?fP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yr=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),ub=Symbol.for("react.provider"),db=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),im=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),fb=Symbol.for("react.offscreen"),By=Symbol.iterator;function Ni(e){return e===null||typeof e!="object"?null:(e=By&&e[By]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Yf;function Bi(e){if(Yf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yf=t&&t[1]||""}return`
`+Yf+e}var Qf=!1;function Xf(e,t){if(!e||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bi(e):""}function pP(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=Xf(e.type,!1),e;case 11:return e=Xf(e.type.render,!1),e;case 1:return e=Xf(e.type,!0),e;default:return""}}function cm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ro:return"Fragment";case no:return"Portal";case om:return"Profiler";case ng:return"StrictMode";case im:return"Suspense";case lm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case db:return(e.displayName||"Context")+".Consumer";case ub:return(e._context.displayName||"Context")+".Provider";case rg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sg:return t=e.displayName||null,t!==null?t:cm(e.type)||"Memo";case ls:t=e._payload,e=e._init;try{return cm(e(t))}catch{}}return null}function gP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cm(t);case 8:return t===ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Os(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vP(e){var t=hb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rc(e){e._valueTracker||(e._valueTracker=vP(e))}function mb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function um(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Os(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pb(e,t){t=t.checked,t!=null&&tg(e,"checked",t,!1)}function dm(e,t){pb(e,t);var n=Os(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fm(e,t.type,n):t.hasOwnProperty("defaultValue")&&fm(e,t.type,Os(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fm(e,t,n){(t!=="number"||Bu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zi=Array.isArray;function go(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Os(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(zi(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Os(n)}}function gb(e,t){var n=Os(t.value),r=Os(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ac,yb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yP=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(e){yP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),el[t]=el[e]})});function xb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||el.hasOwnProperty(e)&&el[e]?(""+t).trim():t+"px"}function wb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var xP=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pm(e,t){if(t){if(xP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function gm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=null;function ag(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ym=null,vo=null,yo=null;function Gy(e){if(e=Yl(e)){if(typeof ym!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Dd(t),ym(e.stateNode,e.type,t))}}function bb(e){vo?yo?yo.push(e):yo=[e]:vo=e}function _b(){if(vo){var e=vo,t=yo;if(yo=vo=null,Gy(e),t)for(e=0;e<t.length;e++)Gy(t[e])}}function Sb(e,t){return e(t)}function jb(){}var Jf=!1;function Cb(e,t,n){if(Jf)return e(t,n);Jf=!0;try{return Sb(e,t,n)}finally{Jf=!1,(vo!==null||yo!==null)&&(jb(),_b())}}function vl(e,t){var n=e.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var xm=!1;if(zr)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){xm=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{xm=!1}function wP(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var tl=!1,zu=null,Hu=!1,wm=null,bP={onError:function(e){tl=!0,zu=e}};function _P(e,t,n,r,s,a,i,l,c){tl=!1,zu=null,wP.apply(bP,arguments)}function SP(e,t,n,r,s,a,i,l,c){if(_P.apply(this,arguments),tl){if(tl){var u=zu;tl=!1,zu=null}else throw Error(B(198));Hu||(Hu=!0,wm=u)}}function Aa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qy(e){if(Aa(e)!==e)throw Error(B(188))}function jP(e){var t=e.alternate;if(!t){if(t=Aa(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return qy(s),e;if(a===r)return qy(s),t;a=a.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function kb(e){return e=jP(e),e!==null?Eb(e):null}function Eb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eb(e);if(t!==null)return t;e=e.sibling}return null}var Pb=bn.unstable_scheduleCallback,Ky=bn.unstable_cancelCallback,CP=bn.unstable_shouldYield,NP=bn.unstable_requestPaint,tt=bn.unstable_now,kP=bn.unstable_getCurrentPriorityLevel,og=bn.unstable_ImmediatePriority,Tb=bn.unstable_UserBlockingPriority,Wu=bn.unstable_NormalPriority,EP=bn.unstable_LowPriority,Rb=bn.unstable_IdlePriority,Od=null,Cr=null;function PP(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Od,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:AP,TP=Math.log,RP=Math.LN2;function AP(e){return e>>>=0,e===0?32:31-(TP(e)/RP|0)|0}var Oc=64,Mc=4194304;function Hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Hi(l):(a&=i,a!==0&&(r=Hi(a)))}else i=n&~s,i!==0?r=Hi(i):a!==0&&(r=Hi(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tr(t),s=1<<n,r|=e[n],t&=~s;return r}function OP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-tr(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=OP(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function bm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ab(){var e=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),e}function Zf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ql(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function IP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function ig(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Me=0;function Ob(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mb,lg,Ib,$b,Db,_m=!1,Ic=[],Ss=null,js=null,Cs=null,yl=new Map,xl=new Map,ds=[],$P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yy(e,t){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(t.pointerId)}}function Ei(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Yl(t),t!==null&&lg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function DP(e,t,n,r,s){switch(t){case"focusin":return Ss=Ei(Ss,e,t,n,r,s),!0;case"dragenter":return js=Ei(js,e,t,n,r,s),!0;case"mouseover":return Cs=Ei(Cs,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return yl.set(a,Ei(yl.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xl.set(a,Ei(xl.get(a)||null,e,t,n,r,s)),!0}return!1}function Lb(e){var t=ua(e.target);if(t!==null){var n=Aa(t);if(n!==null){if(t=n.tag,t===13){if(t=Nb(n),t!==null){e.blockedOn=t,Db(e.priority,function(){Ib(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vm=r,n.target.dispatchEvent(r),vm=null}else return t=Yl(n),t!==null&&lg(t),e.blockedOn=n,!1;t.shift()}return!0}function Qy(e,t,n){wu(e)&&n.delete(t)}function LP(){_m=!1,Ss!==null&&wu(Ss)&&(Ss=null),js!==null&&wu(js)&&(js=null),Cs!==null&&wu(Cs)&&(Cs=null),yl.forEach(Qy),xl.forEach(Qy)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,_m||(_m=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,LP)))}function wl(e){function t(s){return Pi(s,e)}if(0<Ic.length){Pi(Ic[0],e);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ss!==null&&Pi(Ss,e),js!==null&&Pi(js,e),Cs!==null&&Pi(Cs,e),yl.forEach(t),xl.forEach(t),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)Lb(n),n.blockedOn===null&&ds.shift()}var xo=Yr.ReactCurrentBatchConfig,Gu=!0;function FP(e,t,n,r){var s=Me,a=xo.transition;xo.transition=null;try{Me=1,cg(e,t,n,r)}finally{Me=s,xo.transition=a}}function UP(e,t,n,r){var s=Me,a=xo.transition;xo.transition=null;try{Me=4,cg(e,t,n,r)}finally{Me=s,xo.transition=a}}function cg(e,t,n,r){if(Gu){var s=Sm(e,t,n,r);if(s===null)ch(e,t,r,qu,n),Yy(e,r);else if(DP(s,e,t,n,r))r.stopPropagation();else if(Yy(e,r),t&4&&-1<$P.indexOf(e)){for(;s!==null;){var a=Yl(s);if(a!==null&&Mb(a),a=Sm(e,t,n,r),a===null&&ch(e,t,r,qu,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ch(e,t,r,null,n)}}var qu=null;function Sm(e,t,n,r){if(qu=null,e=ag(r),e=ua(e),e!==null)if(t=Aa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function Fb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kP()){case og:return 1;case Tb:return 4;case Wu:case EP:return 16;case Rb:return 536870912;default:return 16}default:return 16}}var xs=null,ug=null,bu=null;function Ub(){if(bu)return bu;var e,t=ug,n=t.length,r,s="value"in xs?xs.value:xs.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return bu=s.slice(e,1<r?1-r:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function Xy(){return!1}function Sn(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$c:Xy,this.isPropagationStopped=Xy,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=Sn(Zo),Kl=Qe({},Zo,{view:0,detail:0}),BP=Sn(Kl),eh,th,Ti,Md=Qe({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(eh=e.screenX-Ti.screenX,th=e.screenY-Ti.screenY):th=eh=0,Ti=e),eh)},movementY:function(e){return"movementY"in e?e.movementY:th}}),Jy=Sn(Md),zP=Qe({},Md,{dataTransfer:0}),HP=Sn(zP),WP=Qe({},Kl,{relatedTarget:0}),nh=Sn(WP),VP=Qe({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),GP=Sn(VP),qP=Qe({},Zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KP=Sn(qP),YP=Qe({},Zo,{data:0}),Zy=Sn(YP),QP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JP[e])?!!t[e]:!1}function fg(){return ZP}var eT=Qe({},Kl,{key:function(e){if(e.key){var t=QP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fg,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tT=Sn(eT),nT=Qe({},Md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ex=Sn(nT),rT=Qe({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fg}),sT=Sn(rT),aT=Qe({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oT=Sn(aT),iT=Qe({},Md,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lT=Sn(iT),cT=[9,13,27,32],hg=zr&&"CompositionEvent"in window,nl=null;zr&&"documentMode"in document&&(nl=document.documentMode);var uT=zr&&"TextEvent"in window&&!nl,Bb=zr&&(!hg||nl&&8<nl&&11>=nl),tx=" ",nx=!1;function zb(e,t){switch(e){case"keyup":return cT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var so=!1;function dT(e,t){switch(e){case"compositionend":return Hb(t);case"keypress":return t.which!==32?null:(nx=!0,tx);case"textInput":return e=t.data,e===tx&&nx?null:e;default:return null}}function fT(e,t){if(so)return e==="compositionend"||!hg&&zb(e,t)?(e=Ub(),bu=ug=xs=null,so=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bb&&t.locale!=="ko"?null:t.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hT[e.type]:t==="textarea"}function Wb(e,t,n,r){bb(r),t=Ku(t,"onChange"),0<t.length&&(n=new dg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rl=null,bl=null;function mT(e){t1(e,0)}function Id(e){var t=io(e);if(mb(t))return e}function pT(e,t){if(e==="change")return t}var Vb=!1;if(zr){var rh;if(zr){var sh="oninput"in document;if(!sh){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),sh=typeof sx.oninput=="function"}rh=sh}else rh=!1;Vb=rh&&(!document.documentMode||9<document.documentMode)}function ax(){rl&&(rl.detachEvent("onpropertychange",Gb),bl=rl=null)}function Gb(e){if(e.propertyName==="value"&&Id(bl)){var t=[];Wb(t,bl,e,ag(e)),Cb(mT,t)}}function gT(e,t,n){e==="focusin"?(ax(),rl=t,bl=n,rl.attachEvent("onpropertychange",Gb)):e==="focusout"&&ax()}function vT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Id(bl)}function yT(e,t){if(e==="click")return Id(t)}function xT(e,t){if(e==="input"||e==="change")return Id(t)}function wT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rr=typeof Object.is=="function"?Object.is:wT;function _l(e,t){if(rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!am.call(t,s)||!rr(e[s],t[s]))return!1}return!0}function ox(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ix(e,t){var n=ox(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ox(n)}}function qb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kb(){for(var e=window,t=Bu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bu(e.document)}return t}function mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bT(e){var t=Kb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qb(n.ownerDocument.documentElement,n)){if(r!==null&&mg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ix(n,a);var i=ix(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _T=zr&&"documentMode"in document&&11>=document.documentMode,ao=null,jm=null,sl=null,Cm=!1;function lx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cm||ao==null||ao!==Bu(r)||(r=ao,"selectionStart"in r&&mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&_l(sl,r)||(sl=r,r=Ku(jm,"onSelect"),0<r.length&&(t=new dg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ao)))}function Dc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oo={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},ah={},Yb={};zr&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function $d(e){if(ah[e])return ah[e];if(!oo[e])return e;var t=oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yb)return ah[e]=t[n];return e}var Qb=$d("animationend"),Xb=$d("animationiteration"),Jb=$d("animationstart"),Zb=$d("transitionend"),e1=new Map,cx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(e,t){e1.set(e,t),Ra(t,[e])}for(var oh=0;oh<cx.length;oh++){var ih=cx[oh],ST=ih.toLowerCase(),jT=ih[0].toUpperCase()+ih.slice(1);Bs(ST,"on"+jT)}Bs(Qb,"onAnimationEnd");Bs(Xb,"onAnimationIteration");Bs(Jb,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(Zb,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function ux(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,SP(r,t,void 0,e),e.currentTarget=null}function t1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ux(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ux(s,l,u),a=c}}}if(Hu)throw e=wm,Hu=!1,wm=null,e}function ze(e,t){var n=t[Tm];n===void 0&&(n=t[Tm]=new Set);var r=e+"__bubble";n.has(r)||(n1(t,e,2,!1),n.add(r))}function lh(e,t,n){var r=0;t&&(r|=4),n1(n,e,r,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Lc]){e[Lc]=!0,cb.forEach(function(n){n!=="selectionchange"&&(CT.has(n)||lh(n,!1,e),lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lc]||(t[Lc]=!0,lh("selectionchange",!1,t))}}function n1(e,t,n,r){switch(Fb(t)){case 1:var s=FP;break;case 4:s=UP;break;default:s=cg}n=s.bind(null,t,n,e),s=void 0,!xm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ch(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ua(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Cb(function(){var u=a,d=ag(n),f=[];e:{var h=e1.get(e);if(h!==void 0){var v=dg,x=e;switch(e){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":v=tT;break;case"focusin":x="focus",v=nh;break;case"focusout":x="blur",v=nh;break;case"beforeblur":case"afterblur":v=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=HP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=sT;break;case Qb:case Xb:case Jb:v=GP;break;case Zb:v=oT;break;case"scroll":v=BP;break;case"wheel":v=lT;break;case"copy":case"cut":case"paste":v=KP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ex}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var p=u,b;p!==null;){b=p;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=vl(p,y),_!=null&&g.push(jl(p,_,b)))),w)break;p=p.return}0<g.length&&(h=new v(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==vm&&(x=n.relatedTarget||n.fromElement)&&(ua(x)||x[Hr]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?ua(x):null,x!==null&&(w=Aa(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(g=Jy,_="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=ex,_="onPointerLeave",y="onPointerEnter",p="pointer"),w=v==null?h:io(v),b=x==null?h:io(x),h=new g(_,p+"leave",v,n,d),h.target=w,h.relatedTarget=b,_=null,ua(d)===u&&(g=new g(y,p+"enter",x,n,d),g.target=b,g.relatedTarget=w,_=g),w=_,v&&x)t:{for(g=v,y=x,p=0,b=g;b;b=Ba(b))p++;for(b=0,_=y;_;_=Ba(_))b++;for(;0<p-b;)g=Ba(g),p--;for(;0<b-p;)y=Ba(y),b--;for(;p--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ba(g),y=Ba(y)}g=null}else g=null;v!==null&&dx(f,h,v,g,!1),x!==null&&w!==null&&dx(f,w,x,g,!0)}}e:{if(h=u?io(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=pT;else if(rx(h))if(Vb)S=xT;else{S=vT;var C=gT}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=yT);if(S&&(S=S(e,u))){Wb(f,S,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&fm(h,"number",h.value)}switch(C=u?io(u):window,e){case"focusin":(rx(C)||C.contentEditable==="true")&&(ao=C,jm=u,sl=null);break;case"focusout":sl=jm=ao=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,lx(f,n,d);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":lx(f,n,d)}var j;if(hg)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else so?zb(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Bb&&n.locale!=="ko"&&(so||N!=="onCompositionStart"?N==="onCompositionEnd"&&so&&(j=Ub()):(xs=d,ug="value"in xs?xs.value:xs.textContent,so=!0)),C=Ku(u,N),0<C.length&&(N=new Zy(N,e,null,n,d),f.push({event:N,listeners:C}),j?N.data=j:(j=Hb(n),j!==null&&(N.data=j)))),(j=uT?dT(e,n):fT(e,n))&&(u=Ku(u,"onBeforeInput"),0<u.length&&(d=new Zy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}t1(f,t)})}function jl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=vl(e,n),a!=null&&r.unshift(jl(e,a,s)),a=vl(e,t),a!=null&&r.push(jl(e,a,s))),e=e.return}return r}function Ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dx(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=vl(n,a),c!=null&&i.unshift(jl(n,c,l))):s||(c=vl(n,a),c!=null&&i.push(jl(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var NT=/\r\n?/g,kT=/\u0000|\uFFFD/g;function fx(e){return(typeof e=="string"?e:""+e).replace(NT,`
`).replace(kT,"")}function Fc(e,t,n){if(t=fx(t),fx(e)!==t&&n)throw Error(B(425))}function Yu(){}var Nm=null,km=null;function Em(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,PT=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(e){return hx.resolve(null).then(e).catch(TT)}:Pm;function TT(e){setTimeout(function(){throw e})}function uh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),wl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wl(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),wr="__reactFiber$"+ei,Cl="__reactProps$"+ei,Hr="__reactContainer$"+ei,Tm="__reactEvents$"+ei,RT="__reactListeners$"+ei,AT="__reactHandles$"+ei;function ua(e){var t=e[wr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hr]||n[wr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mx(e);e!==null;){if(n=e[wr])return n;e=mx(e)}return t}e=n,n=e.parentNode}return null}function Yl(e){return e=e[wr]||e[Hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Dd(e){return e[Cl]||null}var Rm=[],lo=-1;function zs(e){return{current:e}}function He(e){0>lo||(e.current=Rm[lo],Rm[lo]=null,lo--)}function Ue(e,t){lo++,Rm[lo]=e.current,e.current=t}var Ms={},Ft=zs(Ms),nn=zs(!1),_a=Ms;function Fo(e,t){var n=e.type.contextTypes;if(!n)return Ms;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rn(e){return e=e.childContextTypes,e!=null}function Qu(){He(nn),He(Ft)}function px(e,t,n){if(Ft.current!==Ms)throw Error(B(168));Ue(Ft,t),Ue(nn,n)}function r1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,gP(e)||"Unknown",s));return Qe({},n,r)}function Xu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ms,_a=Ft.current,Ue(Ft,e),Ue(nn,nn.current),!0}function gx(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=r1(e,t,_a),r.__reactInternalMemoizedMergedChildContext=e,He(nn),He(Ft),Ue(Ft,e)):He(nn),Ue(nn,n)}var Lr=null,Ld=!1,dh=!1;function s1(e){Lr===null?Lr=[e]:Lr.push(e)}function OT(e){Ld=!0,s1(e)}function Hs(){if(!dh&&Lr!==null){dh=!0;var e=0,t=Me;try{var n=Lr;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lr=null,Ld=!1}catch(s){throw Lr!==null&&(Lr=Lr.slice(e+1)),Pb(og,Hs),s}finally{Me=t,dh=!1}}return null}var co=[],uo=0,Ju=null,Zu=0,Nn=[],kn=0,Sa=null,Fr=1,Ur="";function sa(e,t){co[uo++]=Zu,co[uo++]=Ju,Ju=e,Zu=t}function a1(e,t,n){Nn[kn++]=Fr,Nn[kn++]=Ur,Nn[kn++]=Sa,Sa=e;var r=Fr;e=Ur;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var a=32-tr(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Fr=1<<32-tr(t)+s|n<<s|r,Ur=a+e}else Fr=1<<a|n<<s|r,Ur=e}function pg(e){e.return!==null&&(sa(e,1),a1(e,1,0))}function gg(e){for(;e===Ju;)Ju=co[--uo],co[uo]=null,Zu=co[--uo],co[uo]=null;for(;e===Sa;)Sa=Nn[--kn],Nn[kn]=null,Ur=Nn[--kn],Nn[kn]=null,Fr=Nn[--kn],Nn[kn]=null}var yn=null,gn=null,We=!1,Zn=null;function o1(e,t){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,gn=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sa!==null?{id:Fr,overflow:Ur}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yn=e,gn=null,!0):!1;default:return!1}}function Am(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Om(e){if(We){var t=gn;if(t){var n=t;if(!vx(e,t)){if(Am(e))throw Error(B(418));t=Ns(n.nextSibling);var r=yn;t&&vx(e,t)?o1(r,n):(e.flags=e.flags&-4097|2,We=!1,yn=e)}}else{if(Am(e))throw Error(B(418));e.flags=e.flags&-4097|2,We=!1,yn=e}}}function yx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function Uc(e){if(e!==yn)return!1;if(!We)return yx(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Em(e.type,e.memoizedProps)),t&&(t=gn)){if(Am(e))throw i1(),Error(B(418));for(;t;)o1(e,t),t=Ns(t.nextSibling)}if(yx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gn=Ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=yn?Ns(e.stateNode.nextSibling):null;return!0}function i1(){for(var e=gn;e;)e=Ns(e.nextSibling)}function Uo(){gn=yn=null,We=!1}function vg(e){Zn===null?Zn=[e]:Zn.push(e)}var MT=Yr.ReactCurrentBatchConfig;function Ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Bc(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xx(e){var t=e._init;return t(e._payload)}function l1(e){function t(y,p){if(e){var b=y.deletions;b===null?(y.deletions=[p],y.flags|=16):b.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Ts(y,p),y.index=0,y.sibling=null,y}function a(y,p,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<p?(y.flags|=2,p):b):(y.flags|=2,p)):(y.flags|=1048576,p)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,b,_){return p===null||p.tag!==6?(p=yh(b,y.mode,_),p.return=y,p):(p=s(p,b),p.return=y,p)}function c(y,p,b,_){var S=b.type;return S===ro?d(y,p,b.props.children,_,b.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ls&&xx(S)===p.type)?(_=s(p,b.props),_.ref=Ri(y,p,b),_.return=y,_):(_=Pu(b.type,b.key,b.props,null,y.mode,_),_.ref=Ri(y,p,b),_.return=y,_)}function u(y,p,b,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=xh(b,y.mode,_),p.return=y,p):(p=s(p,b.children||[]),p.return=y,p)}function d(y,p,b,_,S){return p===null||p.tag!==7?(p=xa(b,y.mode,_,S),p.return=y,p):(p=s(p,b),p.return=y,p)}function f(y,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=yh(""+p,y.mode,b),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tc:return b=Pu(p.type,p.key,p.props,null,y.mode,b),b.ref=Ri(y,null,p),b.return=y,b;case no:return p=xh(p,y.mode,b),p.return=y,p;case ls:var _=p._init;return f(y,_(p._payload),b)}if(zi(p)||Ni(p))return p=xa(p,y.mode,b,null),p.return=y,p;Bc(y,p)}return null}function h(y,p,b,_){var S=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,p,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tc:return b.key===S?c(y,p,b,_):null;case no:return b.key===S?u(y,p,b,_):null;case ls:return S=b._init,h(y,p,S(b._payload),_)}if(zi(b)||Ni(b))return S!==null?null:d(y,p,b,_,null);Bc(y,b)}return null}function v(y,p,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(p,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tc:return y=y.get(_.key===null?b:_.key)||null,c(p,y,_,S);case no:return y=y.get(_.key===null?b:_.key)||null,u(p,y,_,S);case ls:var C=_._init;return v(y,p,b,C(_._payload),S)}if(zi(_)||Ni(_))return y=y.get(b)||null,d(p,y,_,S,null);Bc(p,_)}return null}function x(y,p,b,_){for(var S=null,C=null,j=p,N=p=0,E=null;j!==null&&N<b.length;N++){j.index>N?(E=j,j=null):E=j.sibling;var M=h(y,j,b[N],_);if(M===null){j===null&&(j=E);break}e&&j&&M.alternate===null&&t(y,j),p=a(M,p,N),C===null?S=M:C.sibling=M,C=M,j=E}if(N===b.length)return n(y,j),We&&sa(y,N),S;if(j===null){for(;N<b.length;N++)j=f(y,b[N],_),j!==null&&(p=a(j,p,N),C===null?S=j:C.sibling=j,C=j);return We&&sa(y,N),S}for(j=r(y,j);N<b.length;N++)E=v(j,y,N,b[N],_),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?N:E.key),p=a(E,p,N),C===null?S=E:C.sibling=E,C=E);return e&&j.forEach(function(T){return t(y,T)}),We&&sa(y,N),S}function g(y,p,b,_){var S=Ni(b);if(typeof S!="function")throw Error(B(150));if(b=S.call(b),b==null)throw Error(B(151));for(var C=S=null,j=p,N=p=0,E=null,M=b.next();j!==null&&!M.done;N++,M=b.next()){j.index>N?(E=j,j=null):E=j.sibling;var T=h(y,j,M.value,_);if(T===null){j===null&&(j=E);break}e&&j&&T.alternate===null&&t(y,j),p=a(T,p,N),C===null?S=T:C.sibling=T,C=T,j=E}if(M.done)return n(y,j),We&&sa(y,N),S;if(j===null){for(;!M.done;N++,M=b.next())M=f(y,M.value,_),M!==null&&(p=a(M,p,N),C===null?S=M:C.sibling=M,C=M);return We&&sa(y,N),S}for(j=r(y,j);!M.done;N++,M=b.next())M=v(j,y,N,M.value,_),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?N:M.key),p=a(M,p,N),C===null?S=M:C.sibling=M,C=M);return e&&j.forEach(function(I){return t(y,I)}),We&&sa(y,N),S}function w(y,p,b,_){if(typeof b=="object"&&b!==null&&b.type===ro&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tc:e:{for(var S=b.key,C=p;C!==null;){if(C.key===S){if(S=b.type,S===ro){if(C.tag===7){n(y,C.sibling),p=s(C,b.props.children),p.return=y,y=p;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ls&&xx(S)===C.type){n(y,C.sibling),p=s(C,b.props),p.ref=Ri(y,C,b),p.return=y,y=p;break e}n(y,C);break}else t(y,C);C=C.sibling}b.type===ro?(p=xa(b.props.children,y.mode,_,b.key),p.return=y,y=p):(_=Pu(b.type,b.key,b.props,null,y.mode,_),_.ref=Ri(y,p,b),_.return=y,y=_)}return i(y);case no:e:{for(C=b.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){n(y,p.sibling),p=s(p,b.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=xh(b,y.mode,_),p.return=y,y=p}return i(y);case ls:return C=b._init,w(y,p,C(b._payload),_)}if(zi(b))return x(y,p,b,_);if(Ni(b))return g(y,p,b,_);Bc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,b),p.return=y,y=p):(n(y,p),p=yh(b,y.mode,_),p.return=y,y=p),i(y)):n(y,p)}return w}var Bo=l1(!0),c1=l1(!1),ed=zs(null),td=null,fo=null,yg=null;function xg(){yg=fo=td=null}function wg(e){var t=ed.current;He(ed),e._currentValue=t}function Mm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){td=e,yg=fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function In(e){var t=e._currentValue;if(yg!==e)if(e={context:e,memoizedValue:t,next:null},fo===null){if(td===null)throw Error(B(308));fo=e,td.dependencies={lanes:0,firstContext:e}}else fo=fo.next=e;return t}var da=null;function bg(e){da===null?da=[e]:da.push(e)}function u1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bg(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wr(e,r)}function Wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cs=!1;function _g(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ks(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wr(e,n)}return s=r.interleaved,s===null?(t.next=t,bg(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wr(e,n)}function Su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ig(e,n)}}function wx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nd(e,t,n,r){var s=e.updateQueue;cs=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,v=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,v=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(v,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(v,f,h):x,h==null)break e;f=Qe({},f,h);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ca|=i,e.lanes=i,e.memoizedState=f}}function bx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Ql={},Nr=zs(Ql),Nl=zs(Ql),kl=zs(Ql);function fa(e){if(e===Ql)throw Error(B(174));return e}function Sg(e,t){switch(Ue(kl,t),Ue(Nl,e),Ue(Nr,Ql),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mm(t,e)}He(Nr),Ue(Nr,t)}function zo(){He(Nr),He(Nl),He(kl)}function f1(e){fa(kl.current);var t=fa(Nr.current),n=mm(t,e.type);t!==n&&(Ue(Nl,e),Ue(Nr,n))}function jg(e){Nl.current===e&&(He(Nr),He(Nl))}var Ke=zs(0);function rd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fh=[];function Cg(){for(var e=0;e<fh.length;e++)fh[e]._workInProgressVersionPrimary=null;fh.length=0}var ju=Yr.ReactCurrentDispatcher,hh=Yr.ReactCurrentBatchConfig,ja=0,Ye=null,dt=null,gt=null,sd=!1,al=!1,El=0,IT=0;function At(){throw Error(B(321))}function Ng(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function kg(e,t,n,r,s,a){if(ja=a,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ju.current=e===null||e.memoizedState===null?FT:UT,e=n(r,s),al){a=0;do{if(al=!1,El=0,25<=a)throw Error(B(301));a+=1,gt=dt=null,t.updateQueue=null,ju.current=BT,e=n(r,s)}while(al)}if(ju.current=ad,t=dt!==null&&dt.next!==null,ja=0,gt=dt=Ye=null,sd=!1,t)throw Error(B(300));return e}function Eg(){var e=El!==0;return El=0,e}function mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ye.memoizedState=gt=e:gt=gt.next=e,gt}function $n(){if(dt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=gt===null?Ye.memoizedState:gt.next;if(t!==null)gt=t,dt=e;else{if(e===null)throw Error(B(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?Ye.memoizedState=gt=e:gt=gt.next=e}return gt}function Pl(e,t){return typeof t=="function"?t(e):t}function mh(e){var t=$n(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=dt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((ja&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Ye.lanes|=d,Ca|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,rr(r,t.memoizedState)||(tn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Ye.lanes|=a,Ca|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ph(e){var t=$n(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);rr(a,t.memoizedState)||(tn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function h1(){}function m1(e,t){var n=Ye,r=$n(),s=t(),a=!rr(r.memoizedState,s);if(a&&(r.memoizedState=s,tn=!0),r=r.queue,Pg(v1.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Tl(9,g1.bind(null,n,r,s,t),void 0,null),vt===null)throw Error(B(349));ja&30||p1(n,t,s)}return s}function p1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function g1(e,t,n,r){t.value=n,t.getSnapshot=r,y1(t)&&x1(e)}function v1(e,t,n){return n(function(){y1(t)&&x1(e)})}function y1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch{return!0}}function x1(e){var t=Wr(e,1);t!==null&&nr(t,e,1,-1)}function _x(e){var t=mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=LT.bind(null,Ye,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function w1(){return $n().memoizedState}function Cu(e,t,n,r){var s=mr();Ye.flags|=e,s.memoizedState=Tl(1|t,n,void 0,r===void 0?null:r)}function Fd(e,t,n,r){var s=$n();r=r===void 0?null:r;var a=void 0;if(dt!==null){var i=dt.memoizedState;if(a=i.destroy,r!==null&&Ng(r,i.deps)){s.memoizedState=Tl(t,n,a,r);return}}Ye.flags|=e,s.memoizedState=Tl(1|t,n,a,r)}function Sx(e,t){return Cu(8390656,8,e,t)}function Pg(e,t){return Fd(2048,8,e,t)}function b1(e,t){return Fd(4,2,e,t)}function _1(e,t){return Fd(4,4,e,t)}function S1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j1(e,t,n){return n=n!=null?n.concat([e]):null,Fd(4,4,S1.bind(null,t,e),n)}function Tg(){}function C1(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ng(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function N1(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ng(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function k1(e,t,n){return ja&21?(rr(n,t)||(n=Ab(),Ye.lanes|=n,Ca|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n)}function $T(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=hh.transition;hh.transition={};try{e(!1),t()}finally{Me=n,hh.transition=r}}function E1(){return $n().memoizedState}function DT(e,t,n){var r=Ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P1(e))T1(t,n);else if(n=u1(e,t,n,r),n!==null){var s=Vt();nr(n,e,r,s),R1(n,t,r)}}function LT(e,t,n){var r=Ps(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P1(e))T1(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,rr(l,i)){var c=t.interleaved;c===null?(s.next=s,bg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=u1(e,t,s,r),n!==null&&(s=Vt(),nr(n,e,r,s),R1(n,t,r))}}function P1(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function T1(e,t){al=sd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function R1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ig(e,n)}}var ad={readContext:In,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},FT={readContext:In,useCallback:function(e,t){return mr().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:Sx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cu(4194308,4,S1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cu(4,2,e,t)},useMemo:function(e,t){var n=mr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=DT.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=mr();return e={current:e},t.memoizedState=e},useState:_x,useDebugValue:Tg,useDeferredValue:function(e){return mr().memoizedState=e},useTransition:function(){var e=_x(!1),t=e[0];return e=$T.bind(null,e[1]),mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,s=mr();if(We){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),vt===null)throw Error(B(349));ja&30||p1(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Sx(v1.bind(null,r,a,e),[e]),r.flags|=2048,Tl(9,g1.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=mr(),t=vt.identifierPrefix;if(We){var n=Ur,r=Fr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=El++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UT={readContext:In,useCallback:C1,useContext:In,useEffect:Pg,useImperativeHandle:j1,useInsertionEffect:b1,useLayoutEffect:_1,useMemo:N1,useReducer:mh,useRef:w1,useState:function(){return mh(Pl)},useDebugValue:Tg,useDeferredValue:function(e){var t=$n();return k1(t,dt.memoizedState,e)},useTransition:function(){var e=mh(Pl)[0],t=$n().memoizedState;return[e,t]},useMutableSource:h1,useSyncExternalStore:m1,useId:E1,unstable_isNewReconciler:!1},BT={readContext:In,useCallback:C1,useContext:In,useEffect:Pg,useImperativeHandle:j1,useInsertionEffect:b1,useLayoutEffect:_1,useMemo:N1,useReducer:ph,useRef:w1,useState:function(){return ph(Pl)},useDebugValue:Tg,useDeferredValue:function(e){var t=$n();return dt===null?t.memoizedState=e:k1(t,dt.memoizedState,e)},useTransition:function(){var e=ph(Pl)[0],t=$n().memoizedState;return[e,t]},useMutableSource:h1,useSyncExternalStore:m1,useId:E1,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Im(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ud={isMounted:function(e){return(e=e._reactInternals)?Aa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vt(),s=Ps(e),a=Br(r,s);a.payload=t,n!=null&&(a.callback=n),t=ks(e,a,s),t!==null&&(nr(t,e,s,r),Su(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vt(),s=Ps(e),a=Br(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ks(e,a,s),t!==null&&(nr(t,e,s,r),Su(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vt(),r=Ps(e),s=Br(n,r);s.tag=2,t!=null&&(s.callback=t),t=ks(e,s,r),t!==null&&(nr(t,e,r,n),Su(t,e,r))}};function jx(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!_l(n,r)||!_l(s,a):!0}function A1(e,t,n){var r=!1,s=Ms,a=t.contextType;return typeof a=="object"&&a!==null?a=In(a):(s=rn(t)?_a:Ft.current,r=t.contextTypes,a=(r=r!=null)?Fo(e,s):Ms),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ud,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ud.enqueueReplaceState(t,t.state,null)}function $m(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_g(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=In(a):(a=rn(t)?_a:Ft.current,s.context=Fo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Im(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ud.enqueueReplaceState(s,s.state,null),nd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ho(e,t){try{var n="",r=t;do n+=pP(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function gh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Dm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function O1(e,t,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){id||(id=!0,qm=r),Dm(e,t)},n}function M1(e,t,n){n=Br(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Dm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Dm(e,t),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Nx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=nR.bind(null,e,t,n),t.then(e,e))}function kx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ex(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Br(-1,1),t.tag=2,ks(n,t,1))),n.lanes|=1),e)}var HT=Yr.ReactCurrentOwner,tn=!1;function zt(e,t,n,r){t.child=e===null?c1(t,null,n,r):Bo(t,e.child,n,r)}function Px(e,t,n,r,s){n=n.render;var a=t.ref;return wo(t,s),r=kg(e,t,n,r,a,s),n=Eg(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vr(e,t,s)):(We&&n&&pg(t),t.flags|=1,zt(e,t,r,s),t.child)}function Tx(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Lg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,I1(e,t,a,r,s)):(e=Pu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(i,r)&&e.ref===t.ref)return Vr(e,t,s)}return t.flags|=1,e=Ts(a,r),e.ref=t.ref,e.return=t,t.child=e}function I1(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(_l(a,r)&&e.ref===t.ref)if(tn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,Vr(e,t,s)}return Lm(e,t,n,r,s)}function $1(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(mo,mn),mn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(mo,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ue(mo,mn),mn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ue(mo,mn),mn|=r;return zt(e,t,s,n),t.child}function D1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lm(e,t,n,r,s){var a=rn(n)?_a:Ft.current;return a=Fo(t,a),wo(t,s),n=kg(e,t,n,r,a,s),r=Eg(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vr(e,t,s)):(We&&r&&pg(t),t.flags|=1,zt(e,t,n,s),t.child)}function Rx(e,t,n,r,s){if(rn(n)){var a=!0;Xu(t)}else a=!1;if(wo(t,s),t.stateNode===null)Nu(e,t),A1(t,n,r),$m(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=rn(n)?_a:Ft.current,u=Fo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Cx(t,i,r,u),cs=!1;var h=t.memoizedState;i.state=h,nd(t,r,i,s),c=t.memoizedState,l!==r||h!==c||nn.current||cs?(typeof d=="function"&&(Im(t,n,d,r),c=t.memoizedState),(l=cs||jx(t,n,l,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,d1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=In(c):(c=rn(n)?_a:Ft.current,c=Fo(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Cx(t,i,r,c),cs=!1,h=t.memoizedState,i.state=h,nd(t,r,i,s);var x=t.memoizedState;l!==f||h!==x||nn.current||cs?(typeof v=="function"&&(Im(t,n,v,r),x=t.memoizedState),(u=cs||jx(t,n,u,r,h,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Fm(e,t,n,r,a,s)}function Fm(e,t,n,r,s,a){D1(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&gx(t,n,!1),Vr(e,t,a);r=t.stateNode,HT.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Bo(t,e.child,null,a),t.child=Bo(t,null,l,a)):zt(e,t,l,a),t.memoizedState=r.state,s&&gx(t,n,!0),t.child}function L1(e){var t=e.stateNode;t.pendingContext?px(e,t.pendingContext,t.pendingContext!==t.context):t.context&&px(e,t.context,!1),Sg(e,t.containerInfo)}function Ax(e,t,n,r,s){return Uo(),vg(s),t.flags|=256,zt(e,t,n,r),t.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function F1(e,t,n){var r=t.pendingProps,s=Ke.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ue(Ke,s&1),e===null)return Om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Hd(i,r,0,null),e=xa(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Bm(n),t.memoizedState=Um,e):Rg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return WT(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ts(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ts(l,a):(a=xa(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Bm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Um,r}return a=e.child,e=a.sibling,r=Ts(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rg(e,t){return t=Hd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zc(e,t,n,r){return r!==null&&vg(r),Bo(t,e.child,null,n),e=Rg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WT(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=gh(Error(B(422))),zc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Hd({mode:"visible",children:r.children},s,0,null),a=xa(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Bo(t,e.child,null,i),t.child.memoizedState=Bm(i),t.memoizedState=Um,a);if(!(t.mode&1))return zc(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(B(419)),r=gh(a,r,void 0),zc(e,t,i,r)}if(l=(i&e.childLanes)!==0,tn||l){if(r=vt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Wr(e,s),nr(r,e,s,-1))}return Dg(),r=gh(Error(B(421))),zc(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rR.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,gn=Ns(s.nextSibling),yn=t,We=!0,Zn=null,e!==null&&(Nn[kn++]=Fr,Nn[kn++]=Ur,Nn[kn++]=Sa,Fr=e.id,Ur=e.overflow,Sa=t),t=Rg(t,r.children),t.flags|=4096,t)}function Ox(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mm(e.return,t,n)}function vh(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function U1(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(zt(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ox(e,n,t);else if(e.tag===19)Ox(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vh(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vh(t,!0,n,null,a);break;case"together":vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VT(e,t,n){switch(t.tag){case 3:L1(t),Uo();break;case 5:f1(t);break;case 1:rn(t.type)&&Xu(t);break;case 4:Sg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ue(ed,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?F1(e,t,n):(Ue(Ke,Ke.current&1),e=Vr(e,t,n),e!==null?e.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return U1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,$1(e,t,n)}return Vr(e,t,n)}var B1,zm,z1,H1;B1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zm=function(){};z1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,fa(Nr.current);var a=null;switch(n){case"input":s=um(e,s),r=um(e,r),a=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),a=[];break;case"textarea":s=hm(e,s),r=hm(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yu)}pm(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};H1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ai(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function GT(e,t,n){var r=t.pendingProps;switch(gg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return rn(t.type)&&Qu(),Ot(t),null;case 3:return r=t.stateNode,zo(),He(nn),He(Ft),Cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zn!==null&&(Qm(Zn),Zn=null))),zm(e,t),Ot(t),null;case 5:jg(t);var s=fa(kl.current);if(n=t.type,e!==null&&t.stateNode!=null)z1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ot(t),null}if(e=fa(Nr.current),Uc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[wr]=t,r[Cl]=a,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<Wi.length;s++)ze(Wi[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":zy(r,a),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ze("invalid",r);break;case"textarea":Wy(r,a),ze("invalid",r)}pm(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fc(r.textContent,l,e),s=["children",""+l]):pl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":Rc(r),Hy(r,a,!0);break;case"textarea":Rc(r),Vy(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Yu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[wr]=t,e[Cl]=r,B1(e,t,!1,!1),t.stateNode=e;e:{switch(i=gm(n,r),n){case"dialog":ze("cancel",e),ze("close",e),s=r;break;case"iframe":case"object":case"embed":ze("load",e),s=r;break;case"video":case"audio":for(s=0;s<Wi.length;s++)ze(Wi[s],e);s=r;break;case"source":ze("error",e),s=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=r;break;case"details":ze("toggle",e),s=r;break;case"input":zy(e,r),s=um(e,r),ze("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),ze("invalid",e);break;case"textarea":Wy(e,r),s=hm(e,r),ze("invalid",e);break;default:s=r}pm(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?wb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yb(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gl(e,c):typeof c=="number"&&gl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ze("scroll",e):c!=null&&tg(e,a,c,i))}switch(n){case"input":Rc(e),Hy(e,r,!1);break;case"textarea":Rc(e),Vy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Os(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?go(e,!!r.multiple,a,!1):r.defaultValue!=null&&go(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)H1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=fa(kl.current),fa(Nr.current),Uc(t)){if(r=t.stateNode,n=t.memoizedProps,r[wr]=t,(a=r.nodeValue!==n)&&(e=yn,e!==null))switch(e.tag){case 3:Fc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=t,t.stateNode=r}return Ot(t),null;case 13:if(He(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&gn!==null&&t.mode&1&&!(t.flags&128))i1(),Uo(),t.flags|=98560,a=!1;else if(a=Uc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[wr]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),a=!1}else Zn!==null&&(Qm(Zn),Zn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?ft===0&&(ft=3):Dg())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return zo(),zm(e,t),e===null&&Sl(t.stateNode.containerInfo),Ot(t),null;case 10:return wg(t.type._context),Ot(t),null;case 17:return rn(t.type)&&Qu(),Ot(t),null;case 19:if(He(Ke),a=t.memoizedState,a===null)return Ot(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Ai(a,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rd(e),i!==null){for(t.flags|=128,Ai(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Ke,Ke.current&1|2),t.child}e=e.sibling}a.tail!==null&&tt()>Wo&&(t.flags|=128,r=!0,Ai(a,!1),t.lanes=4194304)}else{if(!r)if(e=rd(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ai(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!We)return Ot(t),null}else 2*tt()-a.renderingStartTime>Wo&&n!==1073741824&&(t.flags|=128,r=!0,Ai(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tt(),t.sibling=null,n=Ke.current,Ue(Ke,r?n&1|2:n&1),t):(Ot(t),null);case 22:case 23:return $g(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function qT(e,t){switch(gg(t),t.tag){case 1:return rn(t.type)&&Qu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zo(),He(nn),He(Ft),Cg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jg(t),null;case 13:if(He(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ke),null;case 4:return zo(),null;case 10:return wg(t.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var Hc=!1,Lt=!1,KT=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ho(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Hm(e,t,n){try{n()}catch(r){Je(e,t,r)}}var Mx=!1;function YT(e,t){if(Nm=Gu,e=Kb(),mg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=i),h===a&&++d===r&&(c=i),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:e,selectionRange:n},Gu=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:qn(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){Je(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return x=Mx,Mx=!1,x}function ol(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Hm(t,n,a)}s=s.next}while(s!==r)}}function Bd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function W1(e){var t=e.alternate;t!==null&&(e.alternate=null,W1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wr],delete t[Cl],delete t[Tm],delete t[RT],delete t[AT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V1(e){return e.tag===5||e.tag===3||e.tag===4}function Ix(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yu));else if(r!==4&&(e=e.child,e!==null))for(Vm(e,t,n),e=e.sibling;e!==null;)Vm(e,t,n),e=e.sibling}function Gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gm(e,t,n),e=e.sibling;e!==null;)Gm(e,t,n),e=e.sibling}var wt=null,Xn=!1;function Xr(e,t,n){for(n=n.child;n!==null;)G1(e,t,n),n=n.sibling}function G1(e,t,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Od,n)}catch{}switch(n.tag){case 5:Lt||ho(n,t);case 6:var r=wt,s=Xn;wt=null,Xr(e,t,n),wt=r,Xn=s,wt!==null&&(Xn?(e=wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Xn?(e=wt,n=n.stateNode,e.nodeType===8?uh(e.parentNode,n):e.nodeType===1&&uh(e,n),wl(e)):uh(wt,n.stateNode));break;case 4:r=wt,s=Xn,wt=n.stateNode.containerInfo,Xn=!0,Xr(e,t,n),wt=r,Xn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Hm(n,t,i),s=s.next}while(s!==r)}Xr(e,t,n);break;case 1:if(!Lt&&(ho(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,t,l)}Xr(e,t,n);break;case 21:Xr(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Xr(e,t,n),Lt=r):Xr(e,t,n);break;default:Xr(e,t,n)}}function $x(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new KT),t.forEach(function(r){var s=sR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:wt=l.stateNode,Xn=!1;break e;case 3:wt=l.stateNode.containerInfo,Xn=!0;break e;case 4:wt=l.stateNode.containerInfo,Xn=!0;break e}l=l.return}if(wt===null)throw Error(B(160));G1(a,i,s),wt=null,Xn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q1(t,e),t=t.sibling}function q1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(t,e),dr(e),r&4){try{ol(3,e,e.return),Bd(3,e)}catch(g){Je(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Je(e,e.return,g)}}break;case 1:Wn(t,e),dr(e),r&512&&n!==null&&ho(n,n.return);break;case 5:if(Wn(t,e),dr(e),r&512&&n!==null&&ho(n,n.return),e.flags&32){var s=e.stateNode;try{gl(s,"")}catch(g){Je(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&pb(s,a),gm(l,i);var u=gm(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?wb(s,f):d==="dangerouslySetInnerHTML"?yb(s,f):d==="children"?gl(s,f):tg(s,d,f,u)}switch(l){case"input":dm(s,a);break;case"textarea":gb(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?go(s,!!a.multiple,v,!1):h!==!!a.multiple&&(a.defaultValue!=null?go(s,!!a.multiple,a.defaultValue,!0):go(s,!!a.multiple,a.multiple?[]:"",!1))}s[Cl]=a}catch(g){Je(e,e.return,g)}}break;case 6:if(Wn(t,e),dr(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Je(e,e.return,g)}}break;case 3:if(Wn(t,e),dr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(g){Je(e,e.return,g)}break;case 4:Wn(t,e),dr(e);break;case 13:Wn(t,e),dr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Mg=tt())),r&4&&$x(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(u=Lt)||d,Wn(t,e),Lt=u):Wn(t,e),dr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ee=e,d=e.child;d!==null;){for(f=ee=d;ee!==null;){switch(h=ee,v=h.child,h.tag){case 0:case 11:case 14:case 15:ol(4,h,h.return);break;case 1:ho(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Je(r,n,g)}}break;case 5:ho(h,h.return);break;case 22:if(h.memoizedState!==null){Lx(f);continue}}v!==null?(v.return=h,ee=v):Lx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xb("display",i))}catch(g){Je(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Je(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wn(t,e),dr(e),r&4&&$x(e);break;case 21:break;default:Wn(t,e),dr(e)}}function dr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(V1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gl(s,""),r.flags&=-33);var a=Ix(e);Gm(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Ix(e);Vm(e,l,i);break;default:throw Error(B(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QT(e,t,n){ee=e,K1(e)}function K1(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var s=ee,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Hc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Lt;l=Hc;var u=Lt;if(Hc=i,(Lt=c)&&!u)for(ee=s;ee!==null;)i=ee,c=i.child,i.tag===22&&i.memoizedState!==null?Fx(s):c!==null?(c.return=i,ee=c):Fx(s);for(;a!==null;)ee=a,K1(a),a=a.sibling;ee=s,Hc=l,Lt=u}Dx(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ee=a):Dx(e)}}function Dx(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||Bd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bx(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bx(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Lt||t.flags&512&&Wm(t)}catch(h){Je(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Lx(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Fx(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bd(4,t)}catch(c){Je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Je(t,s,c)}}var a=t.return;try{Wm(t)}catch(c){Je(t,a,c)}break;case 5:var i=t.return;try{Wm(t)}catch(c){Je(t,i,c)}}}catch(c){Je(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var XT=Math.ceil,od=Yr.ReactCurrentDispatcher,Ag=Yr.ReactCurrentOwner,An=Yr.ReactCurrentBatchConfig,Pe=0,vt=null,rt=null,Ct=0,mn=0,mo=zs(0),ft=0,Rl=null,Ca=0,zd=0,Og=0,il=null,Zt=null,Mg=0,Wo=1/0,$r=null,id=!1,qm=null,Es=null,Wc=!1,ws=null,ld=0,ll=0,Km=null,ku=-1,Eu=0;function Vt(){return Pe&6?tt():ku!==-1?ku:ku=tt()}function Ps(e){return e.mode&1?Pe&2&&Ct!==0?Ct&-Ct:MT.transition!==null?(Eu===0&&(Eu=Ab()),Eu):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Fb(e.type)),e):1}function nr(e,t,n,r){if(50<ll)throw ll=0,Km=null,Error(B(185));ql(e,n,r),(!(Pe&2)||e!==vt)&&(e===vt&&(!(Pe&2)&&(zd|=n),ft===4&&fs(e,Ct)),sn(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Wo=tt()+500,Ld&&Hs()))}function sn(e,t){var n=e.callbackNode;MP(e,t);var r=Vu(e,e===vt?Ct:0);if(r===0)n!==null&&Ky(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ky(n),t===1)e.tag===0?OT(Ux.bind(null,e)):s1(Ux.bind(null,e)),PT(function(){!(Pe&6)&&Hs()}),n=null;else{switch(Ob(r)){case 1:n=og;break;case 4:n=Tb;break;case 16:n=Wu;break;case 536870912:n=Rb;break;default:n=Wu}n=n_(n,Y1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Y1(e,t){if(ku=-1,Eu=0,Pe&6)throw Error(B(327));var n=e.callbackNode;if(bo()&&e.callbackNode!==n)return null;var r=Vu(e,e===vt?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cd(e,r);else{t=r;var s=Pe;Pe|=2;var a=X1();(vt!==e||Ct!==t)&&($r=null,Wo=tt()+500,ya(e,t));do try{eR();break}catch(l){Q1(e,l)}while(!0);xg(),od.current=a,Pe=s,rt!==null?t=0:(vt=null,Ct=0,t=ft)}if(t!==0){if(t===2&&(s=bm(e),s!==0&&(r=s,t=Ym(e,s))),t===1)throw n=Rl,ya(e,0),fs(e,r),sn(e,tt()),n;if(t===6)fs(e,r);else{if(s=e.current.alternate,!(r&30)&&!JT(s)&&(t=cd(e,r),t===2&&(a=bm(e),a!==0&&(r=a,t=Ym(e,a))),t===1))throw n=Rl,ya(e,0),fs(e,r),sn(e,tt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:aa(e,Zt,$r);break;case 3:if(fs(e,r),(r&130023424)===r&&(t=Mg+500-tt(),10<t)){if(Vu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Vt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pm(aa.bind(null,e,Zt,$r),t);break}aa(e,Zt,$r);break;case 4:if(fs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-tr(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XT(r/1960))-r,10<r){e.timeoutHandle=Pm(aa.bind(null,e,Zt,$r),r);break}aa(e,Zt,$r);break;case 5:aa(e,Zt,$r);break;default:throw Error(B(329))}}}return sn(e,tt()),e.callbackNode===n?Y1.bind(null,e):null}function Ym(e,t){var n=il;return e.current.memoizedState.isDehydrated&&(ya(e,t).flags|=256),e=cd(e,t),e!==2&&(t=Zt,Zt=n,t!==null&&Qm(t)),e}function Qm(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function JT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!rr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~Og,t&=~zd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function Ux(e){if(Pe&6)throw Error(B(327));bo();var t=Vu(e,0);if(!(t&1))return sn(e,tt()),null;var n=cd(e,t);if(e.tag!==0&&n===2){var r=bm(e);r!==0&&(t=r,n=Ym(e,r))}if(n===1)throw n=Rl,ya(e,0),fs(e,t),sn(e,tt()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aa(e,Zt,$r),sn(e,tt()),null}function Ig(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Wo=tt()+500,Ld&&Hs())}}function Na(e){ws!==null&&ws.tag===0&&!(Pe&6)&&bo();var t=Pe;Pe|=1;var n=An.transition,r=Me;try{if(An.transition=null,Me=1,e)return e()}finally{Me=r,An.transition=n,Pe=t,!(Pe&6)&&Hs()}}function $g(){mn=mo.current,He(mo)}function ya(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ET(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(gg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qu();break;case 3:zo(),He(nn),He(Ft),Cg();break;case 5:jg(r);break;case 4:zo();break;case 13:He(Ke);break;case 19:He(Ke);break;case 10:wg(r.type._context);break;case 22:case 23:$g()}n=n.return}if(vt=e,rt=e=Ts(e.current,null),Ct=mn=t,ft=0,Rl=null,Og=zd=Ca=0,Zt=il=null,da!==null){for(t=0;t<da.length;t++)if(n=da[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}da=null}return e}function Q1(e,t){do{var n=rt;try{if(xg(),ju.current=ad,sd){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sd=!1}if(ja=0,gt=dt=Ye=null,al=!1,El=0,Ag.current=null,n===null||n.return===null){ft=1,Rl=t,rt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=kx(i);if(v!==null){v.flags&=-257,Ex(v,i,l,a,t),v.mode&1&&Nx(a,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Nx(a,u,t),Dg();break e}c=Error(B(426))}}else if(We&&l.mode&1){var w=kx(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ex(w,i,l,a,t),vg(Ho(c,l));break e}}a=c=Ho(c,l),ft!==4&&(ft=2),il===null?il=[a]:il.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=O1(a,c,t);wx(a,y);break e;case 1:l=c;var p=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Es===null||!Es.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=M1(a,l,t);wx(a,_);break e}}a=a.return}while(a!==null)}Z1(n)}catch(S){t=S,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function X1(){var e=od.current;return od.current=ad,e===null?ad:e}function Dg(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Ca&268435455)&&!(zd&268435455)||fs(vt,Ct)}function cd(e,t){var n=Pe;Pe|=2;var r=X1();(vt!==e||Ct!==t)&&($r=null,ya(e,t));do try{ZT();break}catch(s){Q1(e,s)}while(!0);if(xg(),Pe=n,od.current=r,rt!==null)throw Error(B(261));return vt=null,Ct=0,ft}function ZT(){for(;rt!==null;)J1(rt)}function eR(){for(;rt!==null&&!CP();)J1(rt)}function J1(e){var t=t_(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?Z1(e):rt=t,Ag.current=null}function Z1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qT(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,rt=null;return}}else if(n=GT(n,t,mn),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ft===0&&(ft=5)}function aa(e,t,n){var r=Me,s=An.transition;try{An.transition=null,Me=1,tR(e,t,n,r)}finally{An.transition=s,Me=r}return null}function tR(e,t,n,r){do bo();while(ws!==null);if(Pe&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(IP(e,a),e===vt&&(rt=vt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,n_(Wu,function(){return bo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=An.transition,An.transition=null;var i=Me;Me=1;var l=Pe;Pe|=4,Ag.current=null,YT(e,n),q1(n,e),bT(km),Gu=!!Nm,km=Nm=null,e.current=n,QT(n),NP(),Pe=l,Me=i,An.transition=a}else e.current=n;if(Wc&&(Wc=!1,ws=e,ld=s),a=e.pendingLanes,a===0&&(Es=null),PP(n.stateNode),sn(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(id)throw id=!1,e=qm,qm=null,e;return ld&1&&e.tag!==0&&bo(),a=e.pendingLanes,a&1?e===Km?ll++:(ll=0,Km=e):ll=0,Hs(),null}function bo(){if(ws!==null){var e=Ob(ld),t=An.transition,n=Me;try{if(An.transition=null,Me=16>e?16:e,ws===null)var r=!1;else{if(e=ws,ws=null,ld=0,Pe&6)throw Error(B(331));var s=Pe;for(Pe|=4,ee=e.current;ee!==null;){var a=ee,i=a.child;if(ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:ol(8,d,a)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var h=d.sibling,v=d.return;if(W1(d),d===u){ee=null;break}if(h!==null){h.return=v,ee=h;break}ee=v}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ee=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ee=i;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ee=y;break e}ee=a.return}}var p=e.current;for(ee=p;ee!==null;){i=ee;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ee=b;else e:for(i=p;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bd(9,l)}}catch(S){Je(l,l.return,S)}if(l===i){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(Pe=s,Hs(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Od,e)}catch{}r=!0}return r}finally{Me=n,An.transition=t}}return!1}function Bx(e,t,n){t=Ho(n,t),t=O1(e,t,1),e=ks(e,t,1),t=Vt(),e!==null&&(ql(e,1,t),sn(e,t))}function Je(e,t,n){if(e.tag===3)Bx(e,e,n);else for(;t!==null;){if(t.tag===3){Bx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){e=Ho(n,e),e=M1(t,e,1),t=ks(t,e,1),e=Vt(),t!==null&&(ql(t,1,e),sn(t,e));break}}t=t.return}}function nR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(Ct&n)===n&&(ft===4||ft===3&&(Ct&130023424)===Ct&&500>tt()-Mg?ya(e,0):Og|=n),sn(e,t)}function e_(e,t){t===0&&(e.mode&1?(t=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):t=1);var n=Vt();e=Wr(e,t),e!==null&&(ql(e,t,n),sn(e,n))}function rR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e_(e,n)}function sR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),e_(e,n)}var t_;t_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nn.current)tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tn=!1,VT(e,t,n);tn=!!(e.flags&131072)}else tn=!1,We&&t.flags&1048576&&a1(t,Zu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nu(e,t),e=t.pendingProps;var s=Fo(t,Ft.current);wo(t,n),s=kg(null,t,r,e,s,n);var a=Eg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(r)?(a=!0,Xu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_g(t),s.updater=Ud,t.stateNode=s,s._reactInternals=t,$m(t,r,e,n),t=Fm(null,t,r,!0,a,n)):(t.tag=0,We&&a&&pg(t),zt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=oR(r),e=qn(r,e),s){case 0:t=Lm(null,t,r,e,n);break e;case 1:t=Rx(null,t,r,e,n);break e;case 11:t=Px(null,t,r,e,n);break e;case 14:t=Tx(null,t,r,qn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),Lm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),Rx(e,t,r,s,n);case 3:e:{if(L1(t),e===null)throw Error(B(387));r=t.pendingProps,a=t.memoizedState,s=a.element,d1(e,t),nd(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ho(Error(B(423)),t),t=Ax(e,t,r,n,s);break e}else if(r!==s){s=Ho(Error(B(424)),t),t=Ax(e,t,r,n,s);break e}else for(gn=Ns(t.stateNode.containerInfo.firstChild),yn=t,We=!0,Zn=null,n=c1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===s){t=Vr(e,t,n);break e}zt(e,t,r,n)}t=t.child}return t;case 5:return f1(t),e===null&&Om(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Em(r,s)?i=null:a!==null&&Em(r,a)&&(t.flags|=32),D1(e,t),zt(e,t,i,n),t.child;case 6:return e===null&&Om(t),null;case 13:return F1(e,t,n);case 4:return Sg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):zt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),Px(e,t,r,s,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ue(ed,r._currentValue),r._currentValue=i,a!==null)if(rr(a.value,i)){if(a.children===s.children&&!nn.current){t=Vr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Br(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Mm(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(B(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Mm(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}zt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,wo(t,n),s=In(s),r=r(s),t.flags|=1,zt(e,t,r,n),t.child;case 14:return r=t.type,s=qn(r,t.pendingProps),s=qn(r.type,s),Tx(e,t,r,s,n);case 15:return I1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qn(r,s),Nu(e,t),t.tag=1,rn(r)?(e=!0,Xu(t)):e=!1,wo(t,n),A1(t,r,s),$m(t,r,s,n),Fm(null,t,r,!0,e,n);case 19:return U1(e,t,n);case 22:return $1(e,t,n)}throw Error(B(156,t.tag))};function n_(e,t){return Pb(e,t)}function aR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,r){return new aR(e,t,n,r)}function Lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oR(e){if(typeof e=="function")return Lg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rg)return 11;if(e===sg)return 14}return 2}function Ts(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Lg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ro:return xa(n.children,s,a,t);case ng:i=8,s|=8;break;case om:return e=En(12,n,t,s|2),e.elementType=om,e.lanes=a,e;case im:return e=En(13,n,t,s),e.elementType=im,e.lanes=a,e;case lm:return e=En(19,n,t,s),e.elementType=lm,e.lanes=a,e;case fb:return Hd(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ub:i=10;break e;case db:i=9;break e;case rg:i=11;break e;case sg:i=14;break e;case ls:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=En(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function xa(e,t,n,r){return e=En(7,e,r,t),e.lanes=n,e}function Hd(e,t,n,r){return e=En(22,e,r,t),e.elementType=fb,e.lanes=n,e.stateNode={isHidden:!1},e}function yh(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function xh(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fg(e,t,n,r,s,a,i,l,c){return e=new iR(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=En(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(a),e}function lR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function r_(e){if(!e)return Ms;e=e._reactInternals;e:{if(Aa(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(rn(n))return r1(e,n,t)}return t}function s_(e,t,n,r,s,a,i,l,c){return e=Fg(n,r,!0,e,s,a,i,l,c),e.context=r_(null),n=e.current,r=Vt(),s=Ps(n),a=Br(r,s),a.callback=t??null,ks(n,a,s),e.current.lanes=s,ql(e,s,r),sn(e,r),e}function Wd(e,t,n,r){var s=t.current,a=Vt(),i=Ps(s);return n=r_(n),t.context===null?t.context=n:t.pendingContext=n,t=Br(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ks(s,t,i),e!==null&&(nr(e,s,i,a),Su(e,s,i)),i}function ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ug(e,t){zx(e,t),(e=e.alternate)&&zx(e,t)}function cR(){return null}var a_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bg(e){this._internalRoot=e}Vd.prototype.render=Bg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Wd(e,t,null,null)};Vd.prototype.unmount=Bg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Na(function(){Wd(null,e,null,null)}),t[Hr]=null}};function Vd(e){this._internalRoot=e}Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=$b();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ds.length&&t!==0&&t<ds[n].priority;n++);ds.splice(n,0,e),n===0&&Lb(e)}};function zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hx(){}function uR(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=ud(i);a.call(u)}}var i=s_(t,r,e,0,null,!1,!1,"",Hx);return e._reactRootContainer=i,e[Hr]=i.current,Sl(e.nodeType===8?e.parentNode:e),Na(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ud(c);l.call(u)}}var c=Fg(e,0,!1,null,null,!1,!1,"",Hx);return e._reactRootContainer=c,e[Hr]=c.current,Sl(e.nodeType===8?e.parentNode:e),Na(function(){Wd(t,c,n,r)}),c}function qd(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=ud(i);l.call(c)}}Wd(t,i,e,s)}else i=uR(n,t,e,s,r);return ud(i)}Mb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hi(t.pendingLanes);n!==0&&(ig(t,n|1),sn(t,tt()),!(Pe&6)&&(Wo=tt()+500,Hs()))}break;case 13:Na(function(){var r=Wr(e,1);if(r!==null){var s=Vt();nr(r,e,1,s)}}),Ug(e,1)}};lg=function(e){if(e.tag===13){var t=Wr(e,134217728);if(t!==null){var n=Vt();nr(t,e,134217728,n)}Ug(e,134217728)}};Ib=function(e){if(e.tag===13){var t=Ps(e),n=Wr(e,t);if(n!==null){var r=Vt();nr(n,e,t,r)}Ug(e,t)}};$b=function(){return Me};Db=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};ym=function(e,t,n){switch(t){case"input":if(dm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Dd(r);if(!s)throw Error(B(90));mb(r),dm(r,s)}}}break;case"textarea":gb(e,n);break;case"select":t=n.value,t!=null&&go(e,!!n.multiple,t,!1)}};Sb=Ig;jb=Na;var dR={usingClientEntryPoint:!1,Events:[Yl,io,Dd,bb,_b,Ig]},Oi={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fR={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kb(e),e===null?null:e.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||cR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Od=Vc.inject(fR),Cr=Vc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(t))throw Error(B(200));return lR(e,t,null,n)};_n.createRoot=function(e,t){if(!zg(e))throw Error(B(299));var n=!1,r="",s=a_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fg(e,1,!1,null,null,n,!1,r,s),e[Hr]=t.current,Sl(e.nodeType===8?e.parentNode:e),new Bg(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=kb(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return Na(e)};_n.hydrate=function(e,t,n){if(!Gd(t))throw Error(B(200));return qd(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!zg(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=a_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=s_(t,null,e,1,n??null,s,!1,a,i),e[Hr]=t.current,Sl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Vd(t)};_n.render=function(e,t,n){if(!Gd(t))throw Error(B(200));return qd(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!Gd(e))throw Error(B(40));return e._reactRootContainer?(Na(function(){qd(null,null,e,!1,function(){e._reactRootContainer=null,e[Hr]=null})}),!0):!1};_n.unstable_batchedUpdates=Ig;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gd(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return qd(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function o_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o_)}catch(e){console.error(e)}}o_(),ob.exports=_n;var Oa=ob.exports;const i_=qw(Oa);var l_,Wx=Oa;l_=Wx.createRoot,Wx.hydrateRoot;const hR=1,mR=1e6;let wh=0;function pR(){return wh=(wh+1)%Number.MAX_SAFE_INTEGER,wh.toString()}const bh=new Map,Vx=e=>{if(bh.has(e))return;const t=setTimeout(()=>{bh.delete(e),cl({type:"REMOVE_TOAST",toastId:e})},mR);bh.set(e,t)},gR=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Vx(n):e.toasts.forEach(r=>{Vx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Tu=[];let Ru={toasts:[]};function cl(e){Ru=gR(Ru,e),Tu.forEach(t=>{t(Ru)})}function vR({...e}){const t=pR(),n=s=>cl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>cl({type:"DISMISS_TOAST",toastId:t});return cl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Ma(){const[e,t]=m.useState(Ru);return m.useEffect(()=>(Tu.push(t),()=>{const n=Tu.indexOf(t);n>-1&&Tu.splice(n,1)}),[e]),{...e,toast:vR,dismiss:n=>cl({type:"DISMISS_TOAST",toastId:n})}}function z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function yR(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Kd(...e){return t=>e.forEach(n=>yR(n,t))}function ve(...e){return m.useCallback(Kd(...e),e)}function xR(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,wR(s,...t)]}function wR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Gr=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),a=s.find(bR);if(a){const i=a.props.children,l=s.map(c=>c===a?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return o.jsx(Xm,{...r,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return o.jsx(Xm,{...r,ref:t,children:n})});Gr.displayName="Slot";var Xm=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=SR(n);return m.cloneElement(n,{..._R(r,n.props),ref:t?Kd(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Xm.displayName="SlotClone";var c_=({children:e})=>o.jsx(o.Fragment,{children:e});function bR(e){return m.isValidElement(e)&&e.type===c_}function _R(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function SR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Yd(e){const t=e+"CollectionProvider",[n,r]=xR(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:g}=v,w=P.useRef(null),y=P.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:y,collectionRef:w,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=P.forwardRef((v,x)=>{const{scope:g,children:w}=v,y=a(l,g),p=ve(x,y.collectionRef);return o.jsx(Gr,{ref:p,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=P.forwardRef((v,x)=>{const{scope:g,children:w,...y}=v,p=P.useRef(null),b=ve(x,p),_=a(u,g);return P.useEffect(()=>(_.itemMap.set(p,{ref:p,...y}),()=>void _.itemMap.delete(p))),o.jsx(Gr,{[d]:"",ref:b,children:w})});f.displayName=u;function h(v){const x=a(e+"CollectionConsumer",v);return P.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,r]}function jR(e,t){const n=m.createContext(t),r=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function jn(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:h,children:v,...x}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:w,children:v})};u.displayName=a+"Provider";function d(f,h){var g;const v=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,CR(s,...t)]}function CR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var NR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ne=NR.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?Gr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Hg(e,t){e&&Oa.flushSync(()=>e.dispatchEvent(t))}function Ve(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kR(e,t=globalThis==null?void 0:globalThis.document){const n=Ve(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ER="DismissableLayer",Jm="dismissableLayer.update",PR="dismissableLayer.pointerDownOutside",TR="dismissableLayer.focusOutside",Gx,u_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ia=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(u_),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),x=ve(t,j=>f(j)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),p=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=p>=y,S=AR(j=>{const N=j.target,E=[...u.branches].some(M=>M.contains(N));!_||E||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),C=OR(j=>{const N=j.target;[...u.branches].some(M=>M.contains(N))||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return kR(j=>{p===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Gx)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qx())},[d,u]),m.useEffect(()=>{const j=()=>v({});return document.addEventListener(Jm,j),()=>document.removeEventListener(Jm,j)},[]),o.jsx(ne.div,{...c,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:z(e.onFocusCapture,C.onFocusCapture),onBlurCapture:z(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:z(e.onPointerDownCapture,S.onPointerDownCapture)})});Ia.displayName=ER;var RR="DismissableLayerBranch",d_=m.forwardRef((e,t)=>{const n=m.useContext(u_),r=m.useRef(null),s=ve(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(ne.div,{...e,ref:s})});d_.displayName=RR;function AR(e,t=globalThis==null?void 0:globalThis.document){const n=Ve(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){f_(PR,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function OR(e,t=globalThis==null?void 0:globalThis.document){const n=Ve(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&f_(TR,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qx(){const e=new CustomEvent(Jm);document.dispatchEvent(e)}function f_(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Hg(s,a):s.dispatchEvent(a)}var MR=Ia,IR=d_,at=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$R="Portal",ti=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);at(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?i_.createPortal(o.jsx(ne.div,{...r,ref:t}),i):null});ti.displayName=$R;function DR(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var ht=e=>{const{present:t,children:n}=e,r=LR(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=ve(r.ref,FR(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};ht.displayName="Presence";function LR(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=DR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Gc(r.current);a.current=l==="mounted"?u:"none"},[l]),at(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,v=Gc(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),at(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const g=Gc(r.current).includes(v.animationName);if(v.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=v=>{v.target===t&&(a.current=Gc(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Gc(e){return(e==null?void 0:e.animationName)||"none"}function FR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=UR({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=Ve(n),c=m.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function UR({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=Ve(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var BR="VisuallyHidden",Xl=m.forwardRef((e,t)=>o.jsx(ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xl.displayName=BR;var zR=Xl,Wg="ToastProvider",[Vg,HR,WR]=Yd("Toast"),[h_,VB]=jn("Toast",[WR]),[VR,Qd]=h_(Wg),m_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wg}\`. Expected non-empty \`string\`.`),o.jsx(Vg.Provider,{scope:t,children:o.jsx(VR,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(v=>v+1),[]),onToastRemove:m.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};m_.displayName=Wg;var p_="ToastViewport",GR=["F8"],Zm="toast.viewportPause",ep="toast.viewportResume",g_=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=GR,label:s="Notifications ({hotkey})",...a}=e,i=Qd(p_,n),l=HR(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=ve(t,f,i.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;m.useEffect(()=>{const w=y=>{var b;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),m.useEffect(()=>{const w=c.current,y=f.current;if(x&&w&&y){const p=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(Zm);y.dispatchEvent(C),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(ep);y.dispatchEvent(C),i.isClosePausedRef.current=!1}},_=C=>{!w.contains(C.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",p),w.addEventListener("focusout",_),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const p=l().map(b=>{const _=b.ref.current,S=[_,...aA(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?p.reverse():p).flat()},[l]);return m.useEffect(()=>{const w=f.current;if(w){const y=p=>{var S,C,j;const b=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!b){const N=document.activeElement,E=p.shiftKey;if(p.target===w&&E){(S=u.current)==null||S.focus();return}const I=g({tabbingDirection:E?"backwards":"forwards"}),q=I.findIndex(F=>F===N);_h(I.slice(q+1))?p.preventDefault():E?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),o.jsxs(IR,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&o.jsx(tp,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});_h(w)}}),o.jsx(Vg.Slot,{scope:n,children:o.jsx(ne.ol,{tabIndex:-1,...a,ref:h})}),x&&o.jsx(tp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});_h(w)}})]})});g_.displayName=p_;var v_="ToastFocusProxy",tp=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Qd(v_,n);return o.jsx(Xl,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});tp.displayName=v_;var Xd="Toast",qR="toast.swipeStart",KR="toast.swipeMove",YR="toast.swipeCancel",QR="toast.swipeEnd",y_=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=e,[l=!0,c]=Gt({prop:r,defaultProp:s,onChange:a});return o.jsx(ht,{present:n||l,children:o.jsx(ZR,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Ve(e.onPause),onResume:Ve(e.onResume),onSwipeStart:z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:z(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:z(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});y_.displayName=Xd;var[XR,JR]=h_(Xd,{onClose(){}}),ZR=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...x}=e,g=Qd(Xd,n),[w,y]=m.useState(null),p=ve(t,F=>y(F)),b=m.useRef(null),_=m.useRef(null),S=s||g.duration,C=m.useRef(0),j=m.useRef(S),N=m.useRef(0),{onToastAdd:E,onToastRemove:M}=g,T=Ve(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),i()}),I=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(N.current),C.current=new Date().getTime(),N.current=window.setTimeout(T,F))},[T]);m.useEffect(()=>{const F=g.viewport;if(F){const K=()=>{I(j.current),u==null||u()},H=()=>{const X=new Date().getTime()-C.current;j.current=j.current-X,window.clearTimeout(N.current),c==null||c()};return F.addEventListener(Zm,H),F.addEventListener(ep,K),()=>{F.removeEventListener(Zm,H),F.removeEventListener(ep,K)}}},[g.viewport,S,c,u,I]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&I(S)},[a,S,g.isClosePausedRef,I]),m.useEffect(()=>(E(),()=>M()),[E,M]);const q=m.useMemo(()=>w?C_(w):null,[w]);return g.viewport?o.jsxs(o.Fragment,{children:[q&&o.jsx(eA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),o.jsx(XR,{scope:n,onClose:T,children:Oa.createPortal(o.jsx(Vg.ItemSlot,{scope:n,children:o.jsx(MR,{asChild:!0,onEscapeKeyDown:z(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:z(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:z(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:z(e.onPointerMove,F=>{if(!b.current)return;const K=F.clientX-b.current.x,H=F.clientY-b.current.y,X=!!_.current,k=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,W=k?A(0,K):0,V=k?0:A(0,H),J=F.pointerType==="touch"?10:2,ie={x:W,y:V},he={originalEvent:F,delta:ie};X?(_.current=ie,qc(KR,f,he,{discrete:!1})):Kx(ie,g.swipeDirection,J)?(_.current=ie,qc(qR,d,he,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>J||Math.abs(H)>J)&&(b.current=null)}),onPointerUp:z(e.onPointerUp,F=>{const K=_.current,H=F.target;if(H.hasPointerCapture(F.pointerId)&&H.releasePointerCapture(F.pointerId),_.current=null,b.current=null,K){const X=F.currentTarget,k={originalEvent:F,delta:K};Kx(K,g.swipeDirection,g.swipeThreshold)?qc(QR,v,k,{discrete:!0}):qc(YR,h,k,{discrete:!0}),X.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),eA=e=>{const{__scopeToast:t,children:n,...r}=e,s=Qd(Xd,t),[a,i]=m.useState(!1),[l,c]=m.useState(!1);return rA(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(ti,{asChild:!0,children:o.jsx(Xl,{...r,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},tA="ToastTitle",x_=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ne.div,{...r,ref:t})});x_.displayName=tA;var nA="ToastDescription",w_=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ne.div,{...r,ref:t})});w_.displayName=nA;var b_="ToastAction",__=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(j_,{altText:n,asChild:!0,children:o.jsx(Gg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${b_}\`. Expected non-empty \`string\`.`),null)});__.displayName=b_;var S_="ToastClose",Gg=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=JR(S_,n);return o.jsx(j_,{asChild:!0,children:o.jsx(ne.button,{type:"button",...r,ref:t,onClick:z(e.onClick,s.onClose)})})});Gg.displayName=S_;var j_=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function C_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),sA(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...C_(r))}}),t}function qc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Hg(s,a):s.dispatchEvent(a)}var Kx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function rA(e=()=>{}){const t=Ve(e);at(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function sA(e){return e.nodeType===e.ELEMENT_NODE}function aA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _h(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var oA=m_,N_=g_,k_=y_,E_=x_,P_=w_,T_=__,R_=Gg;function A_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=A_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function O_(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=A_(e))&&(r&&(r+=" "),r+=t);return r}const Yx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qx=O_,Jl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Qx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Yx(d)||Yx(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...a,...l}[g]):{...a,...l}[g]===w})?[...u,f,h]:u},[]);return Qx(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...lA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:M_("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const n=m.forwardRef(({className:r,...s},a)=>m.createElement(cA,{ref:a,iconNode:t,className:M_(`lucide-${iA(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ae("Ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ae("BriefcaseMedical",[["path",{d:"M12 11v4",key:"a6ujw6"}],["path",{d:"M14 13h-4",key:"1pl8zg"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M18 6v14",key:"1mu4gy"}],["path",{d:"M6 6v14",key:"1s15cj"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ae("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ae("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=ae("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ae("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=ae("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ae("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ae("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=ae("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qg="-",AA=e=>{const t=MA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Qg);return l[0]===""&&l.length!==1&&l.shift(),J_(l,t)||OA(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},J_=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?J_(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Qg);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},t0=/^\[(.+)\]$/,OA=e=>{if(t0.test(e)){const t=t0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},MA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return $A(Object.entries(e.classGroups),n).forEach(([a,i])=>{sp(i,r,a,t)}),r},sp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:n0(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(IA(s)){sp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{sp(i,n0(t,a),n,r)})})},n0=(e,t)=>{let n=e;return t.split(Qg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IA=e=>e.isThemeGetter,$A=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[n,s]}):e,DA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},Z_="!",LA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(r||l.slice(w,w+a)===t)){c.push(l.slice(d,w)),d=w+a;continue}if(y==="/"){f=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),v=h.startsWith(Z_),x=v?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:i}):i},FA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},UA=e=>({cache:DA(e.cacheSize),parseClassName:LA(e),...AA(e)}),BA=/\s+/,zA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(BA);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=n(u);let x=!!v,g=r(x?h.substring(0,v):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=FA(d).join(":"),y=f?w+Z_:w,p=y+g;if(a.includes(p))continue;a.push(p);const b=s(g,x);for(let _=0;_<b.length;++_){const S=b[_];a.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function HA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=eS(t))&&(r&&(r+=" "),r+=n);return r}const eS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=eS(e[r]))&&(n&&(n+=" "),n+=t);return n};function WA(e,...t){let n,r,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=UA(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=zA(c,n);return s(c,d),d}return function(){return a(HA.apply(null,arguments))}}const Be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},tS=/^\[(?:([a-z-]+):)?(.+)\]$/i,VA=/^\d+\/\d+$/,GA=new Set(["px","full","screen"]),qA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ar=e=>_o(e)||GA.has(e)||VA.test(e),Jr=e=>ai(e,"length",aO),_o=e=>!!e&&!Number.isNaN(Number(e)),Sh=e=>ai(e,"number",_o),Mi=e=>!!e&&Number.isInteger(Number(e)),JA=e=>e.endsWith("%")&&_o(e.slice(0,-1)),ye=e=>tS.test(e),Zr=e=>qA.test(e),ZA=new Set(["length","size","percentage"]),eO=e=>ai(e,ZA,nS),tO=e=>ai(e,"position",nS),nO=new Set(["image","url"]),rO=e=>ai(e,nO,iO),sO=e=>ai(e,"",oO),Ii=()=>!0,ai=(e,t,n)=>{const r=tS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},aO=e=>KA.test(e)&&!YA.test(e),nS=()=>!1,oO=e=>QA.test(e),iO=e=>XA.test(e),lO=()=>{const e=Be("colors"),t=Be("spacing"),n=Be("blur"),r=Be("brightness"),s=Be("borderColor"),a=Be("borderRadius"),i=Be("borderSpacing"),l=Be("borderWidth"),c=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),v=Be("gradientColorStops"),x=Be("gradientColorStopPositions"),g=Be("inset"),w=Be("margin"),y=Be("opacity"),p=Be("padding"),b=Be("saturate"),_=Be("scale"),S=Be("sepia"),C=Be("skew"),j=Be("space"),N=Be("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",ye,t],I=()=>[ye,t],q=()=>["",Ar,Jr],F=()=>["auto",_o,ye],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ye],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[_o,ye];return{cacheSize:500,separator:":",theme:{colors:[Ii],spacing:[Ar,Jr],blur:["none","",Zr,ye],brightness:V(),borderColor:[e],borderRadius:["none","","full",Zr,ye],borderSpacing:I(),borderWidth:q(),contrast:V(),grayscale:A(),hueRotate:V(),invert:A(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[JA,Jr],inset:T(),margin:T(),opacity:V(),padding:I(),saturate:V(),scale:V(),sepia:A(),skew:V(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Zr]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ye]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mi,ye]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Mi,ye]}],"grid-cols":[{"grid-cols":[Ii]}],"col-start-end":[{col:["auto",{span:["full",Mi,ye]},ye]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ii]}],"row-start-end":[{row:["auto",{span:[Mi,ye]},ye]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[Zr]},Zr]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sh]}],"font-family":[{font:[Ii]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",_o,Sh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ar,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ar,Jr]}],"underline-offset":[{"underline-offset":["auto",Ar,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),tO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Ar,ye]}],"outline-w":[{outline:[Ar,Jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ar,Jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zr,sO]}],"shadow-color":[{shadow:[Ii]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zr,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Mi,ye]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ar,Jr,Sh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cO=WA(lO);function re(...e){return cO(O_(e))}const uO=oA,rS=m.forwardRef(({className:e,...t},n)=>o.jsx(N_,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rS.displayName=N_.displayName;const dO=Jl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sS=m.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(k_,{ref:r,className:re(dO({variant:t}),e),...n}));sS.displayName=k_.displayName;const fO=m.forwardRef(({className:e,...t},n)=>o.jsx(T_,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));fO.displayName=T_.displayName;const aS=m.forwardRef(({className:e,...t},n)=>o.jsx(R_,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ec,{className:"h-4 w-4"})}));aS.displayName=R_.displayName;const oS=m.forwardRef(({className:e,...t},n)=>o.jsx(E_,{ref:n,className:re("text-sm font-semibold",e),...t}));oS.displayName=E_.displayName;const iS=m.forwardRef(({className:e,...t},n)=>o.jsx(P_,{ref:n,className:re("text-sm opacity-90",e),...t}));iS.displayName=P_.displayName;function hO(){const{toasts:e}=Ma();return o.jsxs(uO,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return o.jsxs(sS,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(oS,{children:n}),r&&o.jsx(iS,{children:r})]}),s,o.jsx(aS,{})]},t)}),o.jsx(rS,{})]})}var r0=["light","dark"],mO="(prefers-color-scheme: dark)",pO=m.createContext(void 0),gO={setTheme:e=>{},themes:[]},vO=()=>{var e;return(e=m.useContext(pO))!=null?e:gO};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?r0.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,w=!0)=>{let y=i?i[x]:x,p=g?x+"|| ''":`'${y}'`,b="";return s&&w&&!g&&r0.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?g||y?b+=`c.add(${p})`:b+="null":y&&(b+=`d[s](n,${p})`),b},v=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${mO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var yO=e=>{switch(e){case"success":return bO;case"info":return SO;case"warning":return _O;case"error":return jO;default:return null}},xO=Array(12).fill(0),wO=({visible:e})=>P.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},P.createElement("div",{className:"sonner-spinner"},xO.map((t,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),bO=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_O=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SO=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jO=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CO=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ap=1,NO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ap++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async a=>{if(EO(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ap++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},hn=new NO,kO=(e,t)=>{let n=(t==null?void 0:t.id)||ap++;return hn.addToast({title:e,...t,id:n}),n},EO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",PO=kO,TO=()=>hn.toasts,nt=Object.assign(PO,{success:hn.success,info:hn.info,warning:hn.warning,error:hn.error,custom:hn.custom,message:hn.message,promise:hn.promise,dismiss:hn.dismiss,loading:hn.loading},{getHistory:TO});function RO(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}RO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kc(e){return e.label!==void 0}var AO=3,OO="32px",MO=4e3,IO=356,$O=14,DO=20,LO=200;function FO(...e){return e.filter(Boolean).join(" ")}var UO=e=>{var t,n,r,s,a,i,l,c,u,d;let{invert:f,toast:h,unstyled:v,interacting:x,setHeights:g,visibleToasts:w,heights:y,index:p,toasts:b,expanded:_,removeToast:S,defaultRichColors:C,closeButton:j,style:N,cancelButtonStyle:E,actionButtonStyle:M,className:T="",descriptionClassName:I="",duration:q,position:F,gap:K,loadingIcon:H,expandByDefault:X,classNames:k,icons:A,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:V,cn:J}=e,[ie,he]=P.useState(!1),[Re,se]=P.useState(!1),[Z,me]=P.useState(!1),[pe,O]=P.useState(!1),[Q,D]=P.useState(0),[Y,Te]=P.useState(0),$=P.useRef(null),de=P.useRef(null),te=p===0,Pt=p+1<=w,je=h.type,Tt=h.dismissible!==!1,Tr=h.className||"",Xs=h.descriptionClassName||"",Ua=P.useMemo(()=>y.findIndex(G=>G.toastId===h.id)||0,[y,h.id]),_c=P.useMemo(()=>{var G;return(G=h.closeButton)!=null?G:j},[h.closeButton,j]),Sc=P.useMemo(()=>h.duration||q||MO,[h.duration,q]),Si=P.useRef(0),zn=P.useRef(0),jc=P.useRef(0),Rr=P.useRef(null),[Cc,Js]=F.split("-"),ji=P.useMemo(()=>y.reduce((G,le,ue)=>ue>=Ua?G:G+le.height,0),[y,Ua]),Nc=CO(),Vf=h.invert||f,Ci=je==="loading";zn.current=P.useMemo(()=>Ua*K+ji,[Ua,ji]),P.useEffect(()=>{he(!0)},[]),P.useLayoutEffect(()=>{if(!ie)return;let G=de.current,le=G.style.height;G.style.height="auto";let ue=G.getBoundingClientRect().height;G.style.height=le,Te(ue),g(Ee=>Ee.find(Se=>Se.toastId===h.id)?Ee.map(Se=>Se.toastId===h.id?{...Se,height:ue}:Se):[{toastId:h.id,height:ue,position:h.position},...Ee])},[ie,h.title,h.description,g,h.id]);let cr=P.useCallback(()=>{se(!0),D(zn.current),g(G=>G.filter(le=>le.toastId!==h.id)),setTimeout(()=>{S(h)},LO)},[h,S,g,zn]);P.useEffect(()=>{if(h.promise&&je==="loading"||h.duration===1/0||h.type==="loading")return;let G,le=Sc;return _||x||V&&Nc?(()=>{if(jc.current<Si.current){let ue=new Date().getTime()-Si.current;le=le-ue}jc.current=new Date().getTime()})():le!==1/0&&(Si.current=new Date().getTime(),G=setTimeout(()=>{var ue;(ue=h.onAutoClose)==null||ue.call(h,h),cr()},le)),()=>clearTimeout(G)},[_,x,X,h,Sc,cr,h.promise,je,V,Nc]),P.useEffect(()=>{let G=de.current;if(G){let le=G.getBoundingClientRect().height;return Te(le),g(ue=>[{toastId:h.id,height:le,position:h.position},...ue]),()=>g(ue=>ue.filter(Ee=>Ee.toastId!==h.id))}},[g,h.id]),P.useEffect(()=>{h.delete&&cr()},[cr,h.delete]);function Gf(){return A!=null&&A.loading?P.createElement("div",{className:"sonner-loader","data-visible":je==="loading"},A.loading):H?P.createElement("div",{className:"sonner-loader","data-visible":je==="loading"},H):P.createElement(wO,{visible:je==="loading"})}return P.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:de,className:J(T,Tr,k==null?void 0:k.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[je],(n=h==null?void 0:h.classNames)==null?void 0:n[je]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":ie,"data-promise":!!h.promise,"data-removed":Re,"data-visible":Pt,"data-y-position":Cc,"data-x-position":Js,"data-index":p,"data-front":te,"data-swiping":Z,"data-dismissible":Tt,"data-type":je,"data-invert":Vf,"data-swipe-out":pe,"data-expanded":!!(_||X&&ie),style:{"--index":p,"--toasts-before":p,"--z-index":b.length-p,"--offset":`${Re?Q:zn.current}px`,"--initial-height":X?"auto":`${Y}px`,...N,...h.style},onPointerDown:G=>{Ci||!Tt||($.current=new Date,D(zn.current),G.target.setPointerCapture(G.pointerId),G.target.tagName!=="BUTTON"&&(me(!0),Rr.current={x:G.clientX,y:G.clientY}))},onPointerUp:()=>{var G,le,ue,Ee;if(pe||!Tt)return;Rr.current=null;let Se=Number(((G=de.current)==null?void 0:G.style.getPropertyValue("--swipe-amount").replace("px",""))||0),yt=new Date().getTime()-((le=$.current)==null?void 0:le.getTime()),xt=Math.abs(Se)/yt;if(Math.abs(Se)>=DO||xt>.11){D(zn.current),(ue=h.onDismiss)==null||ue.call(h,h),cr(),O(!0);return}(Ee=de.current)==null||Ee.style.setProperty("--swipe-amount","0px"),me(!1)},onPointerMove:G=>{var le;if(!Rr.current||!Tt)return;let ue=G.clientY-Rr.current.y,Ee=G.clientX-Rr.current.x,Se=(Cc==="top"?Math.min:Math.max)(0,ue),yt=G.pointerType==="touch"?10:2;Math.abs(Se)>yt?(le=de.current)==null||le.style.setProperty("--swipe-amount",`${ue}px`):Math.abs(Ee)>yt&&(Rr.current=null)}},_c&&!h.jsx?P.createElement("button",{"aria-label":W,"data-disabled":Ci,"data-close-button":!0,onClick:Ci||!Tt?()=>{}:()=>{var G;cr(),(G=h.onDismiss)==null||G.call(h,h)},className:J(k==null?void 0:k.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||P.isValidElement(h.title)?h.jsx||h.title:P.createElement(P.Fragment,null,je||h.icon||h.promise?P.createElement("div",{"data-icon":"",className:J(k==null?void 0:k.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gf():null,h.type!=="loading"?h.icon||(A==null?void 0:A[je])||yO(je):null):null,P.createElement("div",{"data-content":"",className:J(k==null?void 0:k.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},P.createElement("div",{"data-title":"",className:J(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?P.createElement("div",{"data-description":"",className:J(I,Xs,k==null?void 0:k.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),P.isValidElement(h.cancel)?h.cancel:h.cancel&&Kc(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:G=>{var le,ue;Kc(h.cancel)&&Tt&&((ue=(le=h.cancel).onClick)==null||ue.call(le,G),cr())},className:J(k==null?void 0:k.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,P.isValidElement(h.action)?h.action:h.action&&Kc(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:G=>{var le,ue;Kc(h.action)&&(G.defaultPrevented||((ue=(le=h.action).onClick)==null||ue.call(le,G),cr()))},className:J(k==null?void 0:k.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function s0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var BO=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=AO,toastOptions:v,dir:x=s0(),gap:g=$O,loadingIcon:w,icons:y,containerAriaLabel:p="Notifications",pauseWhenPageIsHidden:b,cn:_=FO}=e,[S,C]=P.useState([]),j=P.useMemo(()=>Array.from(new Set([n].concat(S.filter(V=>V.position).map(V=>V.position)))),[S,n]),[N,E]=P.useState([]),[M,T]=P.useState(!1),[I,q]=P.useState(!1),[F,K]=P.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=P.useRef(null),X=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=P.useRef(null),A=P.useRef(!1),W=P.useCallback(V=>{var J;(J=S.find(ie=>ie.id===V.id))!=null&&J.delete||hn.dismiss(V.id),C(ie=>ie.filter(({id:he})=>he!==V.id))},[S]);return P.useEffect(()=>hn.subscribe(V=>{if(V.dismiss){C(J=>J.map(ie=>ie.id===V.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{i_.flushSync(()=>{C(J=>{let ie=J.findIndex(he=>he.id===V.id);return ie!==-1?[...J.slice(0,ie),{...J[ie],...V},...J.slice(ie+1)]:[V,...J]})})})}),[]),P.useEffect(()=>{if(c!=="system"){K(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{K(V?"dark":"light")})},[c]),P.useEffect(()=>{S.length<=1&&T(!1)},[S]),P.useEffect(()=>{let V=J=>{var ie,he;r.every(Re=>J[Re]||J.code===Re)&&(T(!0),(ie=H.current)==null||ie.focus()),J.code==="Escape"&&(document.activeElement===H.current||(he=H.current)!=null&&he.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[r]),P.useEffect(()=>{if(H.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,A.current=!1)}},[H.current]),S.length?P.createElement("section",{"aria-label":`${p} ${X}`,tabIndex:-1},j.map((V,J)=>{var ie;let[he,Re]=V.split("-");return P.createElement("ol",{key:V,dir:x==="auto"?s0():x,tabIndex:-1,ref:H,className:i,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":he,"data-x-position":Re,style:{"--front-toast-height":`${((ie=N[0])==null?void 0:ie.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||OO,"--width":`${IO}px`,"--gap":`${g}px`,...f},onBlur:se=>{A.current&&!se.currentTarget.contains(se.relatedTarget)&&(A.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||A.current||(A.current=!0,k.current=se.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{I||T(!1)},onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},S.filter(se=>!se.position&&J===0||se.position===V).map((se,Z)=>{var me,pe;return P.createElement(UO,{key:se.id,icons:y,index:Z,toast:se,defaultRichColors:u,duration:(me=v==null?void 0:v.duration)!=null?me:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:t,visibleToasts:h,closeButton:(pe=v==null?void 0:v.closeButton)!=null?pe:a,interacting:I,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:W,toasts:S.filter(O=>O.position==se.position),heights:N.filter(O=>O.position==se.position),setHeights:E,expandByDefault:s,gap:g,loadingIcon:w,expanded:M,pauseWhenPageIsHidden:b,cn:_})}))})):null};const zO=({...e})=>{const{theme:t="system"}=vO();return o.jsx(BO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var HO=sb.useId||(()=>{}),WO=0;function xn(e){const[t,n]=m.useState(HO());return at(()=>{e||n(r=>r??String(WO++))},[e]),e||(t?`radix-${t}`:"")}const VO=["top","right","bottom","left"],$s=Math.min,pn=Math.max,hd=Math.round,Yc=Math.floor,Ds=e=>({x:e,y:e}),GO={left:"right",right:"left",bottom:"top",top:"bottom"},qO={start:"end",end:"start"};function op(e,t,n){return pn(e,$s(t,n))}function qr(e,t){return typeof e=="function"?e(t):e}function Kr(e){return e.split("-")[0]}function oi(e){return e.split("-")[1]}function Xg(e){return e==="x"?"y":"x"}function Jg(e){return e==="y"?"height":"width"}function Ls(e){return["top","bottom"].includes(Kr(e))?"y":"x"}function Zg(e){return Xg(Ls(e))}function KO(e,t,n){n===void 0&&(n=!1);const r=oi(e),s=Zg(e),a=Jg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=md(i)),[i,md(i)]}function YO(e){const t=md(e);return[ip(e),t,ip(t)]}function ip(e){return e.replace(/start|end/g,t=>qO[t])}function QO(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:i;default:return[]}}function XO(e,t,n,r){const s=oi(e);let a=QO(Kr(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(ip)))),a}function md(e){return e.replace(/left|right|bottom|top/g,t=>GO[t])}function JO(e){return{top:0,right:0,bottom:0,left:0,...e}}function lS(e){return typeof e!="number"?JO(e):{top:e,right:e,bottom:e,left:e}}function pd(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function a0(e,t,n){let{reference:r,floating:s}=e;const a=Ls(t),i=Zg(t),l=Jg(i),c=Kr(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(oi(t)){case"start":v[i]-=h*(n&&u?-1:1);break;case"end":v[i]+=h*(n&&u?-1:1);break}return v}const ZO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=a0(u,r,c),h=r,v={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:p,y:b,data:_,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});d=p??d,f=b??f,v={...v,[w]:{...v[w],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=a0(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function Al(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=qr(t,e),x=lS(v),w=l[h?f==="floating"?"reference":"floating":f],y=pd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),p=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},S=pd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:b,strategy:c}):p);return{top:(y.top-S.top+x.top)/_.y,bottom:(S.bottom-y.bottom+x.bottom)/_.y,left:(y.left-S.left+x.left)/_.x,right:(S.right-y.right+x.right)/_.x}}const eM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=qr(e,t)||{};if(u==null)return{};const f=lS(d),h={x:n,y:r},v=Zg(s),x=Jg(v),g=await i.getDimensions(u),w=v==="y",y=w?"top":"left",p=w?"bottom":"right",b=w?"clientHeight":"clientWidth",_=a.reference[x]+a.reference[v]-h[v]-a.floating[x],S=h[v]-a.reference[v],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=C?C[b]:0;(!j||!await(i.isElement==null?void 0:i.isElement(C)))&&(j=l.floating[b]||a.floating[x]);const N=_/2-S/2,E=j/2-g[x]/2-1,M=$s(f[y],E),T=$s(f[p],E),I=M,q=j-g[x]-T,F=j/2-g[x]/2+N,K=op(I,F,q),H=!c.arrow&&oi(s)!=null&&F!==K&&a.reference[x]/2-(F<I?M:T)-g[x]/2<0,X=H?F<I?F-I:F-q:0;return{[v]:h[v]+X,data:{[v]:K,centerOffset:F-K-X,...H&&{alignmentOffset:X}},reset:H}}}),tM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=qr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Kr(s),p=Ls(l),b=Kr(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!g?[md(l)]:YO(l)),C=x!=="none";!h&&C&&S.push(...XO(l,g,x,_));const j=[l,...S],N=await Al(t,w),E=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&E.push(N[y]),f){const F=KO(s,i,_);E.push(N[F[0]],N[F[1]])}if(M=[...M,{placement:s,overflows:E}],!E.every(F=>F<=0)){var T,I;const F=(((T=a.flip)==null?void 0:T.index)||0)+1,K=j[F];if(K)return{data:{index:F,overflows:M},reset:{placement:K}};let H=(I=M.filter(X=>X.overflows[0]<=0).sort((X,k)=>X.overflows[1]-k.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(v){case"bestFit":{var q;const X=(q=M.filter(k=>{if(C){const A=Ls(k.placement);return A===p||A==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(A=>A>0).reduce((A,W)=>A+W,0)]).sort((k,A)=>k[1]-A[1])[0])==null?void 0:q[0];X&&(H=X);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function o0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function i0(e){return VO.some(t=>e[t]>=0)}const nM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=qr(e,t);switch(r){case"referenceHidden":{const a=await Al(t,{...s,elementContext:"reference"}),i=o0(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:i0(i)}}}case"escaped":{const a=await Al(t,{...s,altBoundary:!0}),i=o0(a,n.floating);return{data:{escapedOffsets:i,escaped:i0(i)}}}default:return{}}}}};async function rM(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Kr(n),l=oi(n),c=Ls(n)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,f=qr(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(v=l==="end"?x*-1:x),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const sM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await rM(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},aM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:y,y:p}=w;return{x:y,y:p}}},...c}=qr(e,t),u={x:n,y:r},d=await Al(t,c),f=Ls(Kr(s)),h=Xg(f);let v=u[h],x=u[f];if(a){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",p=v+d[w],b=v-d[y];v=op(p,v,b)}if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=x+d[w],b=x-d[y];x=op(p,x,b)}const g=l.fn({...t,[h]:v,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:i}}}}}},oM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qr(e,t),d={x:n,y:r},f=Ls(s),h=Xg(f);let v=d[h],x=d[f];const g=qr(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",_=a.reference[h]-a.floating[b]+w.mainAxis,S=a.reference[h]+a.reference[b]-w.mainAxis;v<_?v=_:v>S&&(v=S)}if(u){var y,p;const b=h==="y"?"width":"height",_=["top","left"].includes(Kr(s)),S=a.reference[f]-a.floating[b]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:w.crossAxis),C=a.reference[f]+a.reference[b]+(_?0:((p=i.offset)==null?void 0:p[f])||0)-(_?w.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[h]:v,[f]:x}}}},iM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=qr(e,t),d=await Al(t,u),f=Kr(s),h=oi(s),v=Ls(s)==="y",{width:x,height:g}=a.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,w=h==="end"?"top":"bottom");const p=g-d.top-d.bottom,b=x-d.left-d.right,_=$s(g-d[w],p),S=$s(x-d[y],b),C=!t.middlewareData.shift;let j=_,N=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=p),C&&!h){const M=pn(d.left,0),T=pn(d.right,0),I=pn(d.top,0),q=pn(d.bottom,0);v?N=x-2*(M!==0||T!==0?M+T:pn(d.left,d.right)):j=g-2*(I!==0||q!==0?I+q:pn(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:j});const E=await i.getDimensions(l.floating);return x!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function Jd(){return typeof window<"u"}function ii(e){return cS(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Er(e){var t;return(t=(cS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cS(e){return Jd()?e instanceof Node||e instanceof wn(e).Node:!1}function sr(e){return Jd()?e instanceof Element||e instanceof wn(e).Element:!1}function kr(e){return Jd()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function l0(e){return!Jd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}function tc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function lM(e){return["table","td","th"].includes(ii(e))}function Zd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ev(e){const t=tv(),n=sr(e)?ar(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cM(e){let t=Fs(e);for(;kr(t)&&!Vo(t);){if(ev(t))return t;if(Zd(t))return null;t=Fs(t)}return null}function tv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vo(e){return["html","body","#document"].includes(ii(e))}function ar(e){return wn(e).getComputedStyle(e)}function ef(e){return sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(ii(e)==="html")return e;const t=e.assignedSlot||e.parentNode||l0(e)&&e.host||Er(e);return l0(t)?t.host:t}function uS(e){const t=Fs(e);return Vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:kr(t)&&tc(t)?t:uS(t)}function Ol(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=uS(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=wn(s);if(a){const l=lp(i);return t.concat(i,i.visualViewport||[],tc(s)?s:[],l&&n?Ol(l):[])}return t.concat(s,Ol(s,[],n))}function lp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dS(e){const t=ar(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=kr(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=hd(n)!==a||hd(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function nv(e){return sr(e)?e:e.contextElement}function So(e){const t=nv(e);if(!kr(t))return Ds(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=dS(t);let i=(a?hd(n.width):n.width)/r,l=(a?hd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const uM=Ds(0);function fS(e){const t=wn(e);return!tv()||!t.visualViewport?uM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wn(e)?!1:t}function ka(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=nv(e);let i=Ds(1);t&&(r?sr(r)&&(i=So(r)):i=So(e));const l=dM(a,n,r)?fS(a):Ds(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=wn(a),v=r&&sr(r)?wn(r):r;let x=h,g=lp(x);for(;g&&r&&v!==x;){const w=So(g),y=g.getBoundingClientRect(),p=ar(g),b=y.left+(g.clientLeft+parseFloat(p.paddingLeft))*w.x,_=y.top+(g.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=_,x=wn(g),g=lp(x)}}return pd({width:d,height:f,x:c,y:u})}function fM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Er(r),l=t?Zd(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Ds(1);const d=Ds(0),f=kr(r);if((f||!f&&!a)&&((ii(r)!=="body"||tc(i))&&(c=ef(r)),kr(r))){const h=ka(r);u=So(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function hM(e){return Array.from(e.getClientRects())}function cp(e,t){const n=ef(e).scrollLeft;return t?t.left+n:ka(Er(e)).left+n}function mM(e){const t=Er(e),n=ef(e),r=e.ownerDocument.body,s=pn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=pn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+cp(e);const l=-n.scrollTop;return ar(r).direction==="rtl"&&(i+=pn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function pM(e,t){const n=wn(e),r=Er(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=tv();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}function gM(e,t){const n=ka(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=kr(e)?So(e):Ds(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function c0(e,t,n){let r;if(t==="viewport")r=pM(e,n);else if(t==="document")r=mM(Er(e));else if(sr(t))r=gM(t,n);else{const s=fS(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return pd(r)}function hS(e,t){const n=Fs(e);return n===t||!sr(n)||Vo(n)?!1:ar(n).position==="fixed"||hS(n,t)}function vM(e,t){const n=t.get(e);if(n)return n;let r=Ol(e,[],!1).filter(l=>sr(l)&&ii(l)!=="body"),s=null;const a=ar(e).position==="fixed";let i=a?Fs(e):e;for(;sr(i)&&!Vo(i);){const l=ar(i),c=ev(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tc(i)&&!c&&hS(e,i))?r=r.filter(d=>d!==i):s=l,i=Fs(i)}return t.set(e,r),r}function yM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Zd(t)?[]:vM(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=c0(t,d,s);return u.top=pn(f.top,u.top),u.right=$s(f.right,u.right),u.bottom=$s(f.bottom,u.bottom),u.left=pn(f.left,u.left),u},c0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xM(e){const{width:t,height:n}=dS(e);return{width:t,height:n}}function wM(e,t,n){const r=kr(t),s=Er(t),a=n==="fixed",i=ka(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ds(0);if(r||!r&&!a)if((ii(t)!=="body"||tc(s))&&(l=ef(t)),r){const v=ka(t,!0,a,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&(c.x=cp(s));let u=0,d=0;if(s&&!r&&!a){const v=s.getBoundingClientRect();d=v.top+l.scrollTop,u=v.left+l.scrollLeft-cp(s,v)}const f=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function jh(e){return ar(e).position==="static"}function u0(e,t){if(!kr(e)||ar(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Er(e)===n&&(n=n.ownerDocument.body),n}function mS(e,t){const n=wn(e);if(Zd(e))return n;if(!kr(e)){let s=Fs(e);for(;s&&!Vo(s);){if(sr(s)&&!jh(s))return s;s=Fs(s)}return n}let r=u0(e,t);for(;r&&lM(r)&&jh(r);)r=u0(r,t);return r&&Vo(r)&&jh(r)&&!ev(r)?n:r||cM(e)||n}const bM=async function(e){const t=this.getOffsetParent||mS,n=this.getDimensions,r=await n(e.floating);return{reference:wM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _M(e){return ar(e).direction==="rtl"}const SM={convertOffsetParentRelativeRectToViewportRelativeRect:fM,getDocumentElement:Er,getClippingRect:yM,getOffsetParent:mS,getElementRects:bM,getClientRects:hM,getDimensions:xM,getScale:So,isElement:sr,isRTL:_M};function jM(e,t){let n=null,r;const s=Er(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const v=Yc(d),x=Yc(s.clientWidth-(u+f)),g=Yc(s.clientHeight-(d+h)),w=Yc(u),p={rootMargin:-v+"px "+-x+"px "+-g+"px "+-w+"px",threshold:pn(0,$s(1,c))||1};let b=!0;function _(S){const C=S[0].intersectionRatio;if(C!==c){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(_,{...p,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,p)}n.observe(e)}return i(!0),a}function CM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=nv(e),d=s||a?[...u?Ol(u):[],...Ol(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const f=u&&l?jM(u,n):null;let h=-1,v=null;i&&(v=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),n()}),u&&!c&&v.observe(u),v.observe(t));let x,g=c?ka(e):null;c&&w();function w(){const y=ka(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,x=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(p=>{s&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const NM=sM,kM=aM,EM=tM,PM=iM,TM=nM,d0=eM,RM=oM,AM=(e,t,n)=>{const r=new Map,s={platform:SM,...n},a={...s.platform,_c:r};return ZO(e,t,{...s,platform:a})};var Au=typeof document<"u"?m.useLayoutEffect:m.useEffect;function gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!gd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function pS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function f0(e,t){const n=pS(e);return Math.round(t*n)/n}function Ch(e){const t=m.useRef(e);return Au(()=>{t.current=e}),t}function OM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=m.useState(r);gd(h,r)||v(r);const[x,g]=m.useState(null),[w,y]=m.useState(null),p=m.useCallback(k=>{k!==C.current&&(C.current=k,g(k))},[]),b=m.useCallback(k=>{k!==j.current&&(j.current=k,y(k))},[]),_=a||x,S=i||w,C=m.useRef(null),j=m.useRef(null),N=m.useRef(d),E=c!=null,M=Ch(c),T=Ch(s),I=Ch(u),q=m.useCallback(()=>{if(!C.current||!j.current)return;const k={placement:t,strategy:n,middleware:h};T.current&&(k.platform=T.current),AM(C.current,j.current,k).then(A=>{const W={...A,isPositioned:I.current!==!1};F.current&&!gd(N.current,W)&&(N.current=W,Oa.flushSync(()=>{f(W)}))})},[h,t,n,T,I]);Au(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const F=m.useRef(!1);Au(()=>(F.current=!0,()=>{F.current=!1}),[]),Au(()=>{if(_&&(C.current=_),S&&(j.current=S),_&&S){if(M.current)return M.current(_,S,q);q()}},[_,S,q,M,E]);const K=m.useMemo(()=>({reference:C,floating:j,setReference:p,setFloating:b}),[p,b]),H=m.useMemo(()=>({reference:_,floating:S}),[_,S]),X=m.useMemo(()=>{const k={position:n,left:0,top:0};if(!H.floating)return k;const A=f0(H.floating,d.x),W=f0(H.floating,d.y);return l?{...k,transform:"translate("+A+"px, "+W+"px)",...pS(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:W}},[n,l,H.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:q,refs:K,elements:H,floatingStyles:X}),[d,q,K,H,X])}const MM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?d0({element:r.current,padding:s}).fn(n):{}:r?d0({element:r,padding:s}).fn(n):{}}}},IM=(e,t)=>({...NM(e),options:[e,t]}),$M=(e,t)=>({...kM(e),options:[e,t]}),DM=(e,t)=>({...RM(e),options:[e,t]}),LM=(e,t)=>({...EM(e),options:[e,t]}),FM=(e,t)=>({...PM(e),options:[e,t]}),UM=(e,t)=>({...TM(e),options:[e,t]}),BM=(e,t)=>({...MM(e),options:[e,t]});var zM="Arrow",gS=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(ne.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});gS.displayName=zM;var HM=gS;function WM(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,VM(s,...t)]}function VM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function rv(e){const[t,n]=m.useState(void 0);return at(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var sv="Popper",[vS,Ws]=WM(sv),[GM,yS]=vS(sv),xS=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return o.jsx(GM,{scope:t,anchor:r,onAnchorChange:s,children:n})};xS.displayName=sv;var wS="PopperAnchor",bS=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=yS(wS,n),i=m.useRef(null),l=ve(t,i);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(ne.div,{...s,ref:l})});bS.displayName=wS;var av="PopperContent",[qM,KM]=vS(av),_S=m.forwardRef((e,t)=>{var Z,me,pe,O,Q,D;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:x,...g}=e,w=yS(av,n),[y,p]=m.useState(null),b=ve(t,Y=>p(Y)),[_,S]=m.useState(null),C=rv(_),j=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,E=r+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],I=T.length>0,q={padding:M,boundary:T.filter(QM),altBoundary:I},{refs:F,floatingStyles:K,placement:H,isPositioned:X,middlewareData:k}=OM({strategy:"fixed",placement:E,whileElementsMounted:(...Y)=>CM(...Y,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[IM({mainAxis:s+N,alignmentAxis:i}),c&&$M({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?DM():void 0,...q}),c&&LM({...q}),FM({...q,apply:({elements:Y,rects:Te,availableWidth:$,availableHeight:de})=>{const{width:te,height:Pt}=Te.reference,je=Y.floating.style;je.setProperty("--radix-popper-available-width",`${$}px`),je.setProperty("--radix-popper-available-height",`${de}px`),je.setProperty("--radix-popper-anchor-width",`${te}px`),je.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),_&&BM({element:_,padding:l}),XM({arrowWidth:j,arrowHeight:N}),h&&UM({strategy:"referenceHidden",...q})]}),[A,W]=CS(H),V=Ve(x);at(()=>{X&&(V==null||V())},[X,V]);const J=(Z=k.arrow)==null?void 0:Z.x,ie=(me=k.arrow)==null?void 0:me.y,he=((pe=k.arrow)==null?void 0:pe.centerOffset)!==0,[Re,se]=m.useState();return at(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:X?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(O=k.transformOrigin)==null?void 0:O.x,(Q=k.transformOrigin)==null?void 0:Q.y].join(" "),...((D=k.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(qM,{scope:n,placedSide:A,onArrowChange:S,arrowX:J,arrowY:ie,shouldHideArrow:he,children:o.jsx(ne.div,{"data-side":A,"data-align":W,...g,ref:b,style:{...g.style,animation:X?void 0:"none"}})})})});_S.displayName=av;var SS="PopperArrow",YM={top:"bottom",right:"left",bottom:"top",left:"right"},jS=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=KM(SS,r),i=YM[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(HM,{...s,ref:n,style:{...s.style,display:"block"}})})});jS.displayName=SS;function QM(e){return e!==null}var XM=e=>({name:"transformOrigin",options:e,fn(t){var w,y,p;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=CS(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,v=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=i?f:`${h}px`,g=`${-c}px`):u==="top"?(x=i?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=i?f:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=i?f:`${v}px`),{data:{x,y:g}}}});function CS(e){const[t,n="center"]=e.split("-");return[t,n]}var tf=xS,nc=bS,nf=_S,rf=jS,[sf,GB]=jn("Tooltip",[Ws]),af=Ws(),NS="TooltipProvider",JM=700,up="tooltip.open",[ZM,ov]=sf(NS),kS=e=>{const{__scopeTooltip:t,delayDuration:n=JM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(ZM,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};kS.displayName=NS;var of="Tooltip",[eI,lf]=sf(of),ES=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=e,c=ov(of,e.__scopeTooltip),u=af(t),[d,f]=m.useState(null),h=xn(),v=m.useRef(0),x=i??c.disableHoverableContent,g=l??c.delayDuration,w=m.useRef(!1),[y=!1,p]=Gt({prop:r,defaultProp:s,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(up))):c.onClose(),a==null||a(j)}}),b=m.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),_=m.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w.current=!1,p(!0)},[p]),S=m.useCallback(()=>{window.clearTimeout(v.current),v.current=0,p(!1)},[p]),C=m.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{w.current=!0,p(!0),v.current=0},g)},[g,p]);return m.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),o.jsx(tf,{...u,children:o.jsx(eI,{scope:t,contentId:h,open:y,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?C():_()},[c.isOpenDelayed,C,_]),onTriggerLeave:m.useCallback(()=>{x?S():(window.clearTimeout(v.current),v.current=0)},[S,x]),onOpen:_,onClose:S,disableHoverableContent:x,children:n})})};ES.displayName=of;var dp="TooltipTrigger",PS=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=lf(dp,n),a=ov(dp,n),i=af(n),l=m.useRef(null),c=ve(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(nc,{asChild:!0,...i,children:o.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:z(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:z(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:z(e.onBlur,s.onClose),onClick:z(e.onClick,s.onClose)})})});PS.displayName=dp;var tI="TooltipPortal",[qB,nI]=sf(tI,{forceMount:void 0}),Go="TooltipContent",TS=m.forwardRef((e,t)=>{const n=nI(Go,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,i=lf(Go,e.__scopeTooltip);return o.jsx(ht,{present:r||i.open,children:i.disableHoverableContent?o.jsx(RS,{side:s,...a,ref:t}):o.jsx(rI,{side:s,...a,ref:t})})}),rI=m.forwardRef((e,t)=>{const n=lf(Go,e.__scopeTooltip),r=ov(Go,e.__scopeTooltip),s=m.useRef(null),a=ve(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{l(null),f(!1)},[f]),v=m.useCallback((x,g)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},p=iI(y,w.getBoundingClientRect()),b=lI(y,p),_=cI(g.getBoundingClientRect()),S=dI([...b,..._]);l(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const x=w=>v(w,d),g=w=>v(w,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[c,d,v,h]),m.useEffect(()=>{if(i){const x=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!uI(y,i);p?h():b&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,i,u,h]),o.jsx(RS,{...e,ref:a})}),[sI,aI]=sf(of,{isInside:!1}),RS=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=lf(Go,n),u=af(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(up,d),()=>document.removeEventListener(up,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const v=h.target;v!=null&&v.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(nf,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(c_,{children:r}),o.jsx(sI,{scope:n,isInside:!0,children:o.jsx(zR,{id:c.contentId,role:"tooltip",children:s||r})})]})})});TS.displayName=Go;var AS="TooltipArrow",oI=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=af(n);return aI(AS,n).isInside?null:o.jsx(rf,{...s,...r,ref:t})});oI.displayName=AS;function iI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function cI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function uI(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function dI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fI(t)}function fI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var hI=kS,mI=ES,pI=PS,OS=TS;const Sr=hI,Pn=mI,Tn=pI,vn=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(OS,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));vn.displayName=OS.displayName;var cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uf=typeof window>"u"||"Deno"in globalThis;function Kn(){}function gI(e,t){return typeof e=="function"?e(t):e}function vI(e){return typeof e=="number"&&e>=0&&e!==1/0}function yI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function h0(e,t){return typeof e=="function"?e(t):e}function xI(e,t){return typeof e=="function"?e(t):e}function m0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==iv(i,t.options))return!1}else if(!Il(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function p0(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Ml(t.options.mutationKey)!==Ml(a))return!1}else if(!Il(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function iv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ml)(e)}function Ml(e){return JSON.stringify(e,(t,n)=>fp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Il(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Il(e[n],t[n])):!1}function MS(e,t){if(e===t)return e;const n=g0(e)&&g0(t);if(n||fp(e)&&fp(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,l=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=MS(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function g0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fp(e){if(!v0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!v0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function v0(e){return Object.prototype.toString.call(e)==="[object Object]"}function wI(e){return new Promise(t=>{setTimeout(t,e)})}function bI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?MS(e,t):t}function _I(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function SI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var lv=Symbol();function IS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ma,ms,Po,Fw,jI=(Fw=class extends cf{constructor(){super();Ae(this,ma);Ae(this,ms);Ae(this,Po);be(this,Po,t=>{if(!uf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,ms)||this.setEventListener(L(this,Po))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,ms))==null||t.call(this),be(this,ms,void 0))}setEventListener(t){var n;be(this,Po,t),(n=L(this,ms))==null||n.call(this),be(this,ms,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){L(this,ma)!==t&&(be(this,ma,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof L(this,ma)=="boolean"?L(this,ma):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ma=new WeakMap,ms=new WeakMap,Po=new WeakMap,Fw),$S=new jI,To,ps,Ro,Uw,CI=(Uw=class extends cf{constructor(){super();Ae(this,To,!0);Ae(this,ps);Ae(this,Ro);be(this,Ro,t=>{if(!uf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,ps)||this.setEventListener(L(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,ps))==null||t.call(this),be(this,ps,void 0))}setEventListener(t){var n;be(this,Ro,t),(n=L(this,ps))==null||n.call(this),be(this,ps,t(this.setOnline.bind(this)))}setOnline(t){L(this,To)!==t&&(be(this,To,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return L(this,To)}},To=new WeakMap,ps=new WeakMap,Ro=new WeakMap,Uw),vd=new CI;function NI(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function kI(e){return Math.min(1e3*2**e,3e4)}function DS(e){return(e??"online")==="online"?vd.isOnline():!0}var LS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nh(e){return e instanceof LS}function FS(e){let t=!1,n=0,r=!1,s;const a=NI(),i=g=>{var w;r||(h(new LS(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>$S.isFocused()&&(e.networkMode==="always"||vd.isOnline())&&e.canRun(),d=()=>DS(e.networkMode)&&e.canRun(),f=g=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),a.resolve(g))},h=g=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),a.reject(g))},v=()=>new Promise(g=>{var w;s=y=>{(r||u())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(r)return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var C;if(r)return;const p=e.retry??(uf?0:3),b=e.retryDelay??kI,_=typeof b=="function"?b(n,y):b,S=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,y);if(t||!S){h(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),wI(_).then(()=>u()?void 0:v()).then(()=>{t?h(y):x()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():v().then(x),a)}}function EI(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ht=EI(),pa,Bw,US=(Bw=class{constructor(){Ae(this,pa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vI(this.gcTime)&&be(this,pa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uf?1/0:5*60*1e3))}clearGcTimeout(){L(this,pa)&&(clearTimeout(L(this,pa)),be(this,pa,void 0))}},pa=new WeakMap,Bw),Ao,Oo,Cn,It,Wl,ga,Qn,Mr,zw,PI=(zw=class extends US{constructor(t){super();Ae(this,Qn);Ae(this,Ao);Ae(this,Oo);Ae(this,Cn);Ae(this,It);Ae(this,Wl);Ae(this,ga);be(this,ga,!1),be(this,Wl,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,Cn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,Ao,RI(this.options)),this.state=t.state??L(this,Ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,It))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Wl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Cn).remove(this)}setData(t,n){const r=bI(this.state.data,t,this.options);return Rt(this,Qn,Mr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Rt(this,Qn,Mr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=L(this,It))==null?void 0:r.promise;return(s=L(this,It))==null||s.cancel(t),n?n.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Ao))}isActive(){return this.observers.some(t=>xI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!yI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=L(this,It))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=L(this,It))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,Cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(L(this,It)&&(L(this,ga)?L(this,It).cancel({revert:!0}):L(this,It).cancelRetry()),this.scheduleGc()),L(this,Cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,Qn,Mr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,It))return L(this,It).continueRetry(),L(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,ga,!0),r.signal)})},a=()=>{const f=IS(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),be(this,ga,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),be(this,Oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Rt(this,Qn,Mr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,v,x,g;Nh(f)&&f.silent||Rt(this,Qn,Mr).call(this,{type:"error",error:f}),Nh(f)||((v=(h=L(this,Cn).config).onError)==null||v.call(h,f,this),(g=(x=L(this,Cn).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return be(this,It,FS({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,v,x,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(v=(h=L(this,Cn).config).onSuccess)==null||v.call(h,f,this),(g=(x=L(this,Cn).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Rt(this,Qn,Mr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Rt(this,Qn,Mr).call(this,{type:"pause"})},onContinue:()=>{Rt(this,Qn,Mr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),L(this,It).start()}},Ao=new WeakMap,Oo=new WeakMap,Cn=new WeakMap,It=new WeakMap,Wl=new WeakMap,ga=new WeakMap,Qn=new WeakSet,Mr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Nh(s)&&s.revert&&L(this,Oo)?{...L(this,Oo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,Cn).notify({query:this,type:"updated",action:t})})},zw);function TI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vr,Hw,AI=(Hw=class extends cf{constructor(t={}){super();Ae(this,vr);this.config=t,be(this,vr,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??iv(s,n);let i=this.get(a);return i||(i=new PI({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){L(this,vr).has(t.queryHash)||(L(this,vr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=L(this,vr).get(t.queryHash);n&&(t.destroy(),n===t&&L(this,vr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,vr).get(t)}getAll(){return[...L(this,vr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>m0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>m0(t,r)):n}notify(t){Ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},vr=new WeakMap,Hw),yr,Bt,va,xr,ss,Ww,OI=(Ww=class extends US{constructor(t){super();Ae(this,xr);Ae(this,yr);Ae(this,Bt);Ae(this,va);this.mutationId=t.mutationId,be(this,Bt,t.mutationCache),be(this,yr,[]),this.state=t.state||MI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,yr).includes(t)||(L(this,yr).push(t),this.clearGcTimeout(),L(this,Bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,yr,L(this,yr).filter(n=>n!==t)),this.scheduleGc(),L(this,Bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,yr).length||(this.state.status==="pending"?this.scheduleGc():L(this,Bt).remove(this))}continue(){var t;return((t=L(this,va))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,f,h,v,x,g,w,y,p,b,_,S,C,j;be(this,va,FS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,E)=>{Rt(this,xr,ss).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{Rt(this,xr,ss).call(this,{type:"pause"})},onContinue:()=>{Rt(this,xr,ss).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,Bt).canRun(this)}));const n=this.state.status==="pending",r=!L(this,va).canStart();try{if(!n){Rt(this,xr,ss).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=L(this,Bt).config).onMutate)==null?void 0:a.call(s,t,this));const E=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));E!==this.state.context&&Rt(this,xr,ss).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const N=await L(this,va).start();return await((u=(c=L(this,Bt).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,t,this.state.context)),await((v=(h=L(this,Bt).config).onSettled)==null?void 0:v.call(h,N,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,N,null,t,this.state.context)),Rt(this,xr,ss).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(w=L(this,Bt).config).onError)==null?void 0:y.call(w,N,t,this.state.context,this)),await((b=(p=this.options).onError)==null?void 0:b.call(p,N,t,this.state.context)),await((S=(_=L(this,Bt).config).onSettled)==null?void 0:S.call(_,void 0,N,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,N,t,this.state.context)),N}finally{Rt(this,xr,ss).call(this,{type:"error",error:N})}}finally{L(this,Bt).runNext(this)}}},yr=new WeakMap,Bt=new WeakMap,va=new WeakMap,xr=new WeakSet,ss=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ht.batch(()=>{L(this,yr).forEach(r=>{r.onMutationUpdate(t)}),L(this,Bt).notify({mutation:this,type:"updated",action:t})})},Ww);function MI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fn,Vl,Vw,II=(Vw=class extends cf{constructor(t={}){super();Ae(this,fn);Ae(this,Vl);this.config=t,be(this,fn,new Map),be(this,Vl,Date.now())}build(t,n,r){const s=new OI({mutationCache:this,mutationId:++Ec(this,Vl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Qc(t),r=L(this,fn).get(n)??[];r.push(t),L(this,fn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Qc(t);if(L(this,fn).has(n)){const s=(r=L(this,fn).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?L(this,fn).delete(n):L(this,fn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=L(this,fn).get(Qc(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=L(this,fn).get(Qc(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...L(this,fn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>p0(n,r))}findAll(t={}){return this.getAll().filter(n=>p0(t,n))}notify(t){Ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(t.map(n=>n.continue().catch(Kn))))}},fn=new WeakMap,Vl=new WeakMap,Vw);function Qc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function y0(e){return{onFetch:(t,n)=>{var d,f,h,v,x;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=IS(t.options,t.fetchOptions),p=async(b,_,S)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(C);const j=await y(C),{maxPages:N}=t.options,E=S?SI:_I;return{pages:E(b.pages,j,N),pageParams:E(b.pageParams,_,N)}};if(s&&a.length){const b=s==="backward",_=b?$I:x0,S={pages:a,pageParams:i},C=_(r,S);l=await p(S,C,b)}else{const b=e??a.length;do{const _=c===0?i[0]??r.initialPageParam:x0(r,l);if(c>0&&_==null)break;l=await p(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function x0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function $I(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Xe,gs,vs,Mo,Io,ys,$o,Do,Gw,DI=(Gw=class{constructor(e={}){Ae(this,Xe);Ae(this,gs);Ae(this,vs);Ae(this,Mo);Ae(this,Io);Ae(this,ys);Ae(this,$o);Ae(this,Do);be(this,Xe,e.queryCache||new AI),be(this,gs,e.mutationCache||new II),be(this,vs,e.defaultOptions||{}),be(this,Mo,new Map),be(this,Io,new Map),be(this,ys,0)}mount(){Ec(this,ys)._++,L(this,ys)===1&&(be(this,$o,$S.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Xe).onFocus())})),be(this,Do,vd.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Xe).onOnline())})))}unmount(){var e,t;Ec(this,ys)._--,L(this,ys)===0&&((e=L(this,$o))==null||e.call(this),be(this,$o,void 0),(t=L(this,Do))==null||t.call(this),be(this,Do,void 0))}isFetching(e){return L(this,Xe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,gs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=L(this,Xe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=L(this,Xe).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(h0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return L(this,Xe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=L(this,Xe).get(r.queryHash),a=s==null?void 0:s.state.data,i=gI(t,a);if(i!==void 0)return L(this,Xe).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Ht.batch(()=>L(this,Xe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=L(this,Xe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=L(this,Xe);Ht.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=L(this,Xe),r={type:"active",...e};return Ht.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ht.batch(()=>L(this,Xe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Kn).catch(Kn)}invalidateQueries(e={},t={}){return Ht.batch(()=>{if(L(this,Xe).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ht.batch(()=>L(this,Xe).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Kn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Kn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=L(this,Xe).build(this,t);return n.isStaleByTime(h0(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kn).catch(Kn)}fetchInfiniteQuery(e){return e.behavior=y0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kn).catch(Kn)}ensureInfiniteQueryData(e){return e.behavior=y0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vd.isOnline()?L(this,gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Xe)}getMutationCache(){return L(this,gs)}getDefaultOptions(){return L(this,vs)}setDefaultOptions(e){be(this,vs,e)}setQueryDefaults(e,t){L(this,Mo).set(Ml(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,Mo).values()];let n={};return t.forEach(r=>{Il(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){L(this,Io).set(Ml(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,Io).values()];let n={};return t.forEach(r=>{Il(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...L(this,vs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===lv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,vs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,Xe).clear(),L(this,gs).clear()}},Xe=new WeakMap,gs=new WeakMap,vs=new WeakMap,Mo=new WeakMap,Io=new WeakMap,ys=new WeakMap,$o=new WeakMap,Do=new WeakMap,Gw),LI=m.createContext(void 0),FI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(LI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}var bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bs||(bs={}));const w0="popstate";function UI(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return hp("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:zS(s)}return zI(t,n,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BI(){return Math.random().toString(36).substr(2,8)}function b0(e,t){return{usr:e.state,key:e.key,idx:t}}function hp(e,t,n,r){return n===void 0&&(n=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?li(t):t,{state:n,key:t&&t.key||r||BI()})}function zS(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function li(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l=bs.Pop,c=null,u=d();u==null&&(u=0,i.replaceState($l({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=bs.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:y})}function h(w,y){l=bs.Push;let p=hp(g.location,w,y);u=d()+1;let b=b0(p,u),_=g.createHref(p);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:g.location,delta:1})}function v(w,y){l=bs.Replace;let p=hp(g.location,w,y);u=d();let b=b0(p,u),_=g.createHref(p);i.replaceState(b,"",_),a&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:zS(w);return p=p.replace(/ $/,"%20"),st(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let g={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(w0,f),c=w,()=>{s.removeEventListener(w0,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:v,go(w){return i.go(w)}};return g}var _0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_0||(_0={}));function HI(e,t,n){return n===void 0&&(n="/"),WI(e,t,n,!1)}function WI(e,t,n,r){let s=typeof t=="string"?li(t):t,a=VS(s.pathname||"/",n);if(a==null)return null;let i=HS(e);VI(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=n4(a);l=e4(i[c],u,r)}return l}function HS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=wa([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(st(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HS(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:JI(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of WS(a.path))s(a,i,c)}),t}function WS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=WS(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function VI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ZI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GI=/^:[\w-]+$/,qI=3,KI=2,YI=1,QI=10,XI=-2,S0=e=>e==="*";function JI(e,t){let n=e.split("/"),r=n.length;return n.some(S0)&&(r+=XI),t&&(r+=KI),n.filter(s=>!S0(s)).reduce((s,a)=>s+(GI.test(a)?qI:a===""?YI:QI),r)}function ZI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function e4(e,t,n){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=j0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=j0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:wa([a,f.pathname]),pathnameBase:o4(wa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=wa([a,f.pathnameBase]))}return i}function j0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let g=l[f]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return v&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function t4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function n4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function VS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function r4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?li(e):e;return{pathname:n?n.startsWith("/")?n:s4(n,t):t,search:i4(r),hash:l4(s)}}function s4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GS(e,t){let n=a4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qS(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=li(e):(s=$l({},e),st(!s.pathname||!s.pathname.includes("?"),kh("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),kh("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),kh("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=r4(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wa=e=>e.join("/").replace(/\/\/+/g,"/"),o4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KS=["post","put","patch","delete"];new Set(KS);const u4=["get",...KS];new Set(u4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}const cv=m.createContext(null),d4=m.createContext(null),rc=m.createContext(null),df=m.createContext(null),Vs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),YS=m.createContext(null);function sc(){return m.useContext(df)!=null}function ci(){return sc()||st(!1),m.useContext(df).location}function QS(e){m.useContext(rc).static||m.useLayoutEffect(e)}function Un(){let{isDataRoute:e}=m.useContext(Vs);return e?C4():f4()}function f4(){sc()||st(!1);let e=m.useContext(cv),{basename:t,future:n,navigator:r}=m.useContext(rc),{matches:s}=m.useContext(Vs),{pathname:a}=ci(),i=JSON.stringify(GS(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return QS(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=qS(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wa([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,a,e])}function h4(){let{matches:e}=m.useContext(Vs),t=e[e.length-1];return t?t.params:{}}function m4(e,t){return p4(e,t)}function p4(e,t,n,r){sc()||st(!1);let{navigator:s}=m.useContext(rc),{matches:a}=m.useContext(Vs),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ci(),d;if(t){var f;let w=typeof t=="string"?li(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||st(!1),d=w}else d=u;let h=d.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=HI(e,{pathname:v}),g=w4(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:wa([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:wa([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&g?m.createElement(df.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bs.Pop}},g):g}function g4(){let e=j4(),t=c4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const v4=m.createElement(g4,null);class y4 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Vs.Provider,{value:this.props.routeContext},m.createElement(YS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x4(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(cv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Vs.Provider,{value:t},r)}function w4(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||st(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let v,x=!1,g=null,w=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||v4,c&&(u<0&&h===0?(x=!0,w=null):u===h&&(x=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),p=()=>{let b;return v?b=g:x?b=w:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(x4,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(y4,{location:n.location,revalidation:n.revalidation,component:g,error:v,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var XS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(XS||{}),yd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yd||{});function b4(e){let t=m.useContext(cv);return t||st(!1),t}function _4(e){let t=m.useContext(d4);return t||st(!1),t}function S4(e){let t=m.useContext(Vs);return t||st(!1),t}function JS(e){let t=S4(),n=t.matches[t.matches.length-1];return n.route.id||st(!1),n.route.id}function j4(){var e;let t=m.useContext(YS),n=_4(yd.UseRouteError),r=JS(yd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function C4(){let{router:e}=b4(XS.UseNavigateStable),t=JS(yd.UseNavigateStable),n=m.useRef(!1);return QS(()=>{n.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Dl({fromRouteId:t},a)))},[e,t])}function C0(e){let{to:t,replace:n,state:r,relative:s}=e;sc()||st(!1);let{future:a,static:i}=m.useContext(rc),{matches:l}=m.useContext(Vs),{pathname:c}=ci(),u=Un(),d=qS(t,GS(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Ut(e){st(!1)}function N4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=bs.Pop,navigator:a,static:i=!1,future:l}=e;sc()&&st(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:Dl({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof r=="string"&&(r=li(r));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:x="default"}=r,g=m.useMemo(()=>{let w=VS(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:v,key:x},navigationType:s}},[c,d,f,h,v,x,s]);return g==null?null:m.createElement(rc.Provider,{value:u},m.createElement(df.Provider,{children:n,value:g}))}function k4(e){let{children:t,location:n}=e;return m4(mp(t),n)}new Promise(()=>{});function mp(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let a=[...t,s];if(r.type===m.Fragment){n.push.apply(n,mp(r.props.children,a));return}r.type!==Ut&&st(!1),!r.props.index||!r.props.children||st(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=mp(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const E4="6";try{window.__reactRouterVersion=E4}catch{}const P4="startTransition",N0=sb[P4];function T4(e){let{basename:t,children:n,future:r,window:s}=e,a=m.useRef();a.current==null&&(a.current=UI({window:s,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&N0?N0(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(N4,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var k0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(k0||(k0={}));var E0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(E0||(E0={}));function R4(){const[e,t]=m.useState("auto"),[n,r]=m.useState(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return m.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),a=i=>{r(i.matches?"dark":"light")};if(s.addEventListener)return s.addEventListener("change",a),()=>s.removeEventListener("change",a);if("addListener"in s)return s.addListener(a),()=>{s.removeListener(a)}},[]),m.useEffect(()=>{(e==="auto"?n:e)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e,n]),{appearance:e,setAppearance:t,systemAppearance:n,effectiveAppearance:e==="auto"?n:e}}function A4(){const[e,t]=m.useState(navigator.onLine),[n,r]=m.useState(!1);return m.useEffect(()=>{const s=()=>{t(!0),r(!0),setTimeout(()=>r(!1),3e3)},a=()=>{t(!1)};return window.addEventListener("online",s),window.addEventListener("offline",a),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}},[]),{isOnline:e,hasReconnected:n}}const O4=({className:e})=>{const{isOnline:t,hasReconnected:n}=A4();return t&&!n?null:o.jsx("div",{className:re("fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 transition-all duration-300",t?"bg-green-500 text-white":"bg-red-500 text-white",t?"animate-fade-in":"animate-pulse",e),style:{minWidth:"200px",maxWidth:"90%"},children:t?o.jsxs(o.Fragment,{children:[o.jsx(RA,{className:"h-5 w-5"}),o.jsx("span",{children:"Back online"})]}):o.jsxs(o.Fragment,{children:[o.jsx(TA,{className:"h-5 w-5"}),o.jsx("span",{children:"You're offline. Some features may be unavailable."})]})})},M4="modulepreload",I4=function(e){return"/"+e},P0={},qo=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=I4(c),c in P0)return;P0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":M4,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},$4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qo(async()=>{const{default:r}=await Promise.resolve().then(()=>ui);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class uv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class D4 extends uv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class L4 extends uv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F4 extends uv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pp||(pp={}));var U4=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class B4{constructor(t,{headers:n={},customFetch:r,region:s=pp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=$4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return U4(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new D4(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new L4(d);if(!d.ok)throw new F4(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var en={},dv={},ff={},ac={},hf={},mf={},z4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ko=z4();const H4=Ko.fetch,ZS=Ko.fetch.bind(Ko),ej=Ko.Headers,W4=Ko.Request,V4=Ko.Response,ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:ej,Request:W4,Response:V4,default:ZS,fetch:H4},Symbol.toStringTag,{value:"Module"})),G4=B2(ui);var pf={};Object.defineProperty(pf,"__esModule",{value:!0});let q4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};pf.default=q4;var tj=Mn&&Mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mf,"__esModule",{value:!0});const K4=tj(G4),Y4=tj(pf);let Q4=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=K4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,v="OK")}catch{a.status===404&&g===""?(h=204,v="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,v="OK"),u&&this.shouldThrowOnError)throw new Y4.default(u)}return{error:u,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};mf.default=Q4;var X4=Mn&&Mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hf,"__esModule",{value:!0});const J4=X4(mf);let Z4=class extends J4.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hf.default=Z4;var e3=Mn&&Mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ac,"__esModule",{value:!0});const t3=e3(hf);let n3=class extends t3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ac.default=n3;var r3=Mn&&Mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ff,"__esModule",{value:!0});const $i=r3(ac);let s3=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new $i.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $i.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new $i.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new $i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $i.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ff.default=s3;var gf={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.version=void 0;vf.version="0.0.0-automated";Object.defineProperty(gf,"__esModule",{value:!0});gf.DEFAULT_HEADERS=void 0;const a3=vf;gf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${a3.version}`};var nj=Mn&&Mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dv,"__esModule",{value:!0});const o3=nj(ff),i3=nj(ac),l3=gf;let c3=class rj{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},l3.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new o3.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new rj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new i3.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};dv.default=c3;var di=Mn&&Mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(en,"__esModule",{value:!0});en.PostgrestError=en.PostgrestBuilder=en.PostgrestTransformBuilder=en.PostgrestFilterBuilder=en.PostgrestQueryBuilder=en.PostgrestClient=void 0;const sj=di(dv);en.PostgrestClient=sj.default;const aj=di(ff);en.PostgrestQueryBuilder=aj.default;const oj=di(ac);en.PostgrestFilterBuilder=oj.default;const ij=di(hf);en.PostgrestTransformBuilder=ij.default;const lj=di(mf);en.PostgrestBuilder=lj.default;const cj=di(pf);en.PostgrestError=cj.default;var u3=en.default={PostgrestClient:sj.default,PostgrestQueryBuilder:aj.default,PostgrestFilterBuilder:oj.default,PostgrestTransformBuilder:ij.default,PostgrestBuilder:lj.default,PostgrestError:cj.default};const{PostgrestClient:d3,PostgrestQueryBuilder:ZB,PostgrestFilterBuilder:e7,PostgrestTransformBuilder:t7,PostgrestBuilder:n7,PostgrestError:r7}=u3,f3="2.11.2",h3={"X-Client-Info":`realtime-js/${f3}`},m3="1.0.0",uj=1e4,p3=1e3;var jo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jo||(jo={}));var un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(un||(un={}));var Jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jn||(Jn={}));var gp;(function(e){e.websocket="websocket"})(gp||(gp={}));var la;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(la||(la={}));class g3{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class dj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const T0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,i)=>(a[i]=v3(i,e,t,s),a),{})},v3=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=n[e];return a&&!r.includes(a)?fj(a,i):vp(i)},fj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return b3(t,n)}switch(e){case Le.bool:return y3(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return x3(t);case Le.json:case Le.jsonb:return w3(t);case Le.timestamp:return _3(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return vp(t);default:return vp(t)}},vp=e=>e,y3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},b3=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const i=e.slice(1,n);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>fj(t,l))}return e},_3=e=>typeof e=="string"?e.replace(" ","T"):e,hj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Eh{constructor(t,n,r={},s=uj){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var R0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(R0||(R0={}));class ul{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ul.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=ul.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ul.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),g=f.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(A0||(A0={}));var O0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(O0||(O0={}));var Dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class fv{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eh(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new dj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ul(this),this.broadcastEndpointURL=hj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Dr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Dr.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Dr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<v;g++){const w=h[g],{filter:{event:y,schema:p,table:b,filter:_}}=w,S=d&&d[g];if(S&&S.event===y&&S.schema===p&&S.table===b&&S.filter===_)x.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Dr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Eh(this,Jn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eh(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Jn;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,g,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=v.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(v=>v.callback(h,r)):(a=this.bindings[i])===null||a===void 0||a.filter(v=>{var x,g,w,y,p,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const _=v.id,S=(x=v.filter)===null||x===void 0?void 0:x.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:w,commit_timestamp:y,type:p,errors:b}=x;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:p,new:{},old:{},errors:b}),this._getPayloadRecords(x))}v.callback(h,r)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&fv.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jn.close,{},t)}_onError(t){this._on(Jn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=T0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=T0(t.columns,t.old_record)),n}}const S3=()=>{},j3=typeof WebSocket<"u",C3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N3{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=h3,this.params={},this.timeout=uj,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=S3,this.conn=null,this.sendBuffer=[],this.serializer=new g3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>qo(async()=>{const{default:c}=await Promise.resolve().then(()=>ui);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${gp.websocket}`,this.httpEndpoint=hj(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,i)=>i(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(j3){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new k3(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),qo(async()=>{const{default:t}=await import("./browser-cxbEGs90.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:m3}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jo.connecting:return la.Connecting;case jo.open:return la.Open;case jo.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}channel(t,n={config:{}}){const r=new fv(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Jn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(p3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,a),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([C3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class k3{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class hv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class E3 extends hv{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yp extends hv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var P3=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const mj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qo(async()=>{const{default:r}=await Promise.resolve().then(()=>ui);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},T3=()=>P3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qo(()=>Promise.resolve().then(()=>ui),void 0)).Response:Response}),xp=e=>{if(Array.isArray(e))return e.map(n=>xp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=xp(r)}),t};var Da=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ph=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R3=(e,t,n)=>Da(void 0,void 0,void 0,function*(){const r=yield T3();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new E3(Ph(s),e.status||500))}).catch(s=>{t(new yp(Ph(s),s))}):t(new yp(Ph(e),e))}),A3=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function oc(e,t,n,r,s,a){return Da(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,A3(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>R3(c,l,r))})})}function xd(e,t,n,r){return Da(this,void 0,void 0,function*(){return oc(e,"GET",t,n,r)})}function us(e,t,n,r,s){return Da(this,void 0,void 0,function*(){return oc(e,"POST",t,r,s,n)})}function O3(e,t,n,r,s){return Da(this,void 0,void 0,function*(){return oc(e,"PUT",t,r,s,n)})}function M3(e,t,n,r){return Da(this,void 0,void 0,function*(){return oc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pj(e,t,n,r,s){return Da(this,void 0,void 0,function*(){return oc(e,"DELETE",t,r,s,n)})}var Xt=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const I3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $3{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=mj(s)}uploadOrUpdate(t,n,r,s){return Xt(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},M0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Xt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:M0.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Xt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield us(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new hv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield us(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}download(t,n){return Xt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield xd(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}info(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xp(r),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}exists(t){return Xt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield M3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pt(r)&&r instanceof yp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield pj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},I3),n),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const D3="2.7.1",L3={"X-Client-Info":`storage-js/${D3}`};var za=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class F3{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},L3),n),this.fetch=mj(r)}listBuckets(){return za(this,void 0,void 0,function*(){try{return{data:yield xd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}getBucket(t){return za(this,void 0,void 0,function*(){try{return{data:yield xd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return za(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return za(this,void 0,void 0,function*(){try{return{data:yield O3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return za(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return za(this,void 0,void 0,function*(){try{return{data:yield pj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}}class U3 extends F3{constructor(t,n={},r){super(t,n,r)}from(t){return new $3(this.url,this.headers,t,this.fetch)}}const B3="2.49.4";let Vi="";typeof Deno<"u"?Vi="deno":typeof document<"u"?Vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vi="react-native":Vi="node";const z3={"X-Client-Info":`supabase-js-${Vi}/${B3}`},H3={headers:z3},W3={schema:"public"},V3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G3={};var q3=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const K3=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZS:t=fetch,(...n)=>t(...n)},Y3=()=>typeof Headers>"u"?ej:Headers,Q3=(e,t,n)=>{const r=K3(n),s=Y3();return(a,i)=>q3(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},i),{headers:u}))})};var X3=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function J3(e){return e.replace(/\/$/,"")}function Z3(e,t){const{db:n,auth:r,realtime:s,global:a}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),a),accessToken:()=>X3(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const gj="2.69.1",Za=30*1e3,wp=3,Th=wp*Za,e5="http://localhost:9999",t5="supabase.auth.token",n5={"X-Client-Info":`gotrue-js/${gj}`},bp="X-Supabase-Api-Version",vj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s5=6e5;class mv extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class a5 extends mv{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function o5(e){return xe(e)&&e.name==="AuthApiError"}class yj extends mv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gs extends mv{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class as extends Gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i5(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Rh extends Gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xc extends Gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jc extends Gs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function l5(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class I0 extends Gs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _p extends Gs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ah(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class $0 extends Gs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dl extends Gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const D0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L0=` 	
\r=`.split(""),c5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<L0.length;t+=1)e[L0[t].charCodeAt(0)]=-2;for(let t=0;t<D0.length;t+=1)e[D0[t].charCodeAt(0)]=t;return e})();function xj(e,t,n){const r=c5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F0(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{f5(i,r,n)};for(let i=0;i<e.length;i+=1)xj(e.charCodeAt(i),s,a);return t.join("")}function u5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function d5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}u5(r,t)}}function f5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function h5(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xj(e.charCodeAt(s),n,r);return new Uint8Array(t)}function m5(e){const t=[];return d5(e,n=>t.push(n)),new Uint8Array(t)}function p5(e){return Math.round(Date.now()/1e3)+e}function g5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hr=()=>typeof window<"u"&&typeof document<"u",ea={tested:!1,writable:!1},fl=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ea.tested)return ea.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ea.tested=!0,ea.writable=!0}catch{ea.tested=!0,ea.writable=!1}return ea.writable};function v5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const wj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>qo(async()=>{const{default:r}=await Promise.resolve().then(()=>ui);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},y5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bj=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},eu=async(e,t)=>{await e.removeItem(t)};class yf{constructor(){this.promise=new yf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yf.promiseConstructor=Promise;function Oh(e){const t=e.split(".");if(t.length!==3)throw new dl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!r5.test(t[r]))throw new dl("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:h5(t[2]),raw:{header:t[0],payload:t[1]}}}async function x5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function w5(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function b5(e){return("0"+e.toString(16)).substr(-2)}function _5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,b5).join("")}async function S5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function j5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await S5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(e,t,n=!1){const r=_5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await bj(e,`${t}-code-verifier`,s);const a=await j5(r);return[a,r===a?"plain":"s256"]}const C5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N5(e){const t=e.headers.get(bp);if(!t||!t.match(C5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function k5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function E5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var P5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T5=[502,503,504];async function U0(e){var t;if(!y5(e))throw new _p(oa(e),0);if(T5.includes(e.status))throw new _p(oa(e),e.status);let n;try{n=await e.json()}catch(a){throw new yj(oa(a),a)}let r;const s=N5(e);if(s&&s.getTime()>=vj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $0(oa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new as}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new $0(oa(n),e.status,n.weak_password.reasons);throw new a5(oa(n),e.status||500,r)}const R5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ke(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[bp]||(a[bp]=vj["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await A5(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function A5(e,t,n,r,s,a){const i=R5(t,r,s,a);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new _p(oa(c),0)}if(l.ok||await U0(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await U0(c)}}function os(e){var t;let n=null;$5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=p5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function B0(e){const t=os(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function O5(e){return{data:e,error:null}}function M5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=P5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function I5(e){return e}function $5(e){return e.access_token&&e.refresh_token&&e.expires_in}var D5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class L5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=wj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hs})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=D5(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:M5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hs})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:I5});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hs})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hs})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hs})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const F5={getItem:e=>fl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fl()&&globalThis.localStorage.removeItem(e)}};function z0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function U5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wa={debug:!!(globalThis&&fl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _j extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class B5 extends _j{}async function z5(e,t,n){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new B5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}U5();const H5={url:e5,storageKey:t5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:n5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function H0(e,t,n){return await n()}class Ll{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ll.nextInstanceID,Ll.nextInstanceID+=1,this.instanceID>0&&hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},H5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new L5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wj(s.fetch),this.lock=s.lock||H0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=z5:this.lock=H0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:fl()?this.storage=F5:(this.memoryStorage={},this.storage=z0(this.memoryStorage)):(this.memoryStorage={},this.storage=z0(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=v5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),hr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),l5(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new yj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:os}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Ha(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:x},xform:os})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:os})}else throw new Xc("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:i,options:l}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:B0})}else if("phone"in t){const{phone:a,password:i,options:l}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:B0})}else throw new Xc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Rh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:i}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:os});if(await eu(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(xe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:i}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:os}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Rh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ha(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Xc("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:os});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Ha(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:O5})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new as;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:i}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:i,error:l}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Xc("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Th:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hs}):await this._useSession(async n=>{var r,s,a;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new as}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:hs})})}catch(n){if(xe(n))return i5(n)&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new as;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ha(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:hs});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new as;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:i}=Oh(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new as;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!hr())throw new Jc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I0("No code detected.");const{data:p,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Jc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const v=h-d;v*1e3<=Za&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(o5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=g5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ha(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return hr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)throw i;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await w5(async s=>(s>0&&await x5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:os})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Ah(a)&&Date.now()+i-r<Za})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),hr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Zc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Th;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Th}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Ah(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new as;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yf;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new as;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),xe(a)){const i={session:null,error:a};return Ah(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bj(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await eu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Za);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Za);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Za}ms, refresh threshold is ${wp} ticks`),s<=wp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _j)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=await Ha(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Oh(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+s5>Date.now()))return r;const{data:s,error:a}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new dl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new dl("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};r=v.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Oh(r);if(k5(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:s,signature:i},error:null}}const u=E5(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,m5(`${l}.${c}`)))throw new dl("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}Ll.nextInstanceID=0;const W5=Ll;class V5 extends W5{constructor(t){super(t)}}var G5=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class q5{constructor(t,n,r){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=J3(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:W3,realtime:G3,auth:Object.assign(Object.assign({},V3),{storageKey:c}),global:H3},d=Z3(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Q3(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new d3(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new B4(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new U3(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return G5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V5({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new N3(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K5=(e,t,n)=>new q5(e,t,n),Y5="https://uloayyhcpjmxljbhfysg.supabase.co",Sj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVsb2F5eWhjcGpteGxqYmhmeXNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0NDU4NDUsImV4cCI6MjA2MTAyMTg0NX0.qED8NMgurHVBxQYz3YL3KfdySsev4alMRxDCi1J_-1Y",ut=K5(Y5,Sj),Q5=()=>!!Sj,jj=m.createContext({user:null,isLoading:!0,isAdmin:!1,login:async()=>({error:null}),signup:async()=>({error:null,data:null}),logout:async()=>{},resetPassword:async()=>({error:null}),updatePassword:async()=>({error:null}),refreshUser:async()=>{}}),X5=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(!0),[a,i]=m.useState(!1);m.useEffect(()=>{(async()=>{const{data:{session:y}}=await ut.auth.getSession();n((y==null?void 0:y.user)??null),y!=null&&y.user&&l(y.user.id),s(!1)})();const{data:{subscription:w}}=ut.auth.onAuthStateChange(async(y,p)=>{n((p==null?void 0:p.user)??null),p!=null&&p.user&&l(p.user.id),s(!1)});return()=>{w.unsubscribe()}},[]);const l=async g=>{try{const{data:w,error:y}=await ut.from("user_roles").select("role").eq("user_id",g).maybeSingle();if(y){console.error("Error fetching user role:",y),i(!1);return}i((w==null?void 0:w.role)==="admin")}catch(w){console.error("Error checking admin status:",w),i(!1)}},x={user:t,isLoading:r,isAdmin:a,login:async(g,w)=>{try{s(!0);const{data:y,error:p}=await ut.auth.signInWithPassword({email:g,password:w});return y.user&&l(y.user.id),{error:p}}finally{s(!1)}},signup:async(g,w,y)=>{try{s(!0);const{data:p,error:b}=await ut.auth.signUp({email:g,password:w,options:{data:y}});return p.user&&l(p.user.id),{error:b,data:p}}finally{s(!1)}},logout:async()=>{try{s(!0),await ut.auth.signOut(),n(null),i(!1)}finally{s(!1)}},resetPassword:async g=>{try{s(!0);const{error:w}=await ut.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/reset-password`});return{error:w}}finally{s(!1)}},updatePassword:async g=>{try{s(!0);const{error:w}=await ut.auth.updateUser({password:g});return{error:w}}finally{s(!1)}},refreshUser:async()=>{try{const{data:g}=await ut.auth.getUser();g!=null&&g.user&&(n(g.user),l(g.user.id))}catch(g){console.error("Error refreshing user:",g)}}};return o.jsx(jj.Provider,{value:x,children:e})},xf=()=>m.useContext(jj),ta=({children:e,requireAdmin:t=!1})=>{const{user:n,isLoading:r,isAdmin:s}=xf(),a=ci();return m.useEffect(()=>{console.log("ProtectedRoute state:",{path:a.pathname,isLoading:r,isAuthenticated:!!n,isAdmin:s,requireAdmin:t})},[r,n,s,t,a.pathname]),r?(console.log("Auth is still loading..."),o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-ems-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-ems-600",children:"Loading authentication..."})]})})):n?t&&!s?(console.log("Admin access required but user is not admin"),o.jsx(C0,{to:"/dashboard",replace:!0})):(console.log("User authenticated, rendering protected content"),o.jsx(o.Fragment,{children:e})):(console.log("User not authenticated, redirecting to login"),o.jsx(C0,{to:"/login",state:{from:a},replace:!0}))},J5=Jl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-95 transition-transform duration-100",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-ems-600 to-ems-500 text-white hover:from-ems-700 hover:to-ems-600",icon:"h-9 w-9 p-0"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"},mobile:{true:"active:opacity-80",false:""}},defaultVariants:{variant:"default",size:"default",mobile:!1}}),U=m.forwardRef(({className:e,variant:t,size:n,mobile:r,asChild:s=!1,...a},i)=>{const l=s?Gr:"button";return o.jsx(l,{className:re(J5({variant:t,size:n,mobile:r,className:e})),ref:i,...a})});U.displayName="Button";const Z5=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pv=()=>{window.navigator&&"vibrate"in window.navigator&&window.navigator.vibrate(10)},$e=P.forwardRef(({children:e,className:t,variant:n="default",feedbackColor:r,onClick:s,...a},i)=>{const[l,c]=m.useState(!1),u=()=>{c(!0),pv()},d=()=>{c(!1)},f=h=>{s&&s(h)};return o.jsxs("button",{ref:i,className:re("ios-touch-target relative transition-opacity",l&&n==="default"&&"opacity-80",l&&n==="subtle"&&"bg-gray-100 dark:bg-gray-800",t),onTouchStart:u,onTouchEnd:d,onMouseDown:u,onMouseUp:d,onMouseLeave:()=>l&&c(!1),onClick:f,style:{minWidth:"44px",minHeight:"44px",touchAction:"manipulation"},...a,children:[e,l&&r&&o.jsx("div",{className:"absolute inset-0 rounded-full opacity-20 pointer-events-none",style:{backgroundColor:r}})]})});$e.displayName="TouchFeedback";const e$=({visible:e,x:t,y:n,color:r="rgba(0, 0, 0, 0.1)",size:s=100,duration:a=500})=>{const[i,l]=m.useState(!1);return m.useEffect(()=>{if(e){l(!0);const c=setTimeout(()=>l(!1),a);return()=>clearTimeout(c)}},[e,a]),!e&&!i?null:o.jsx("div",{className:"fixed pointer-events-none z-50 rounded-full animate-scale-fade",style:{width:`${s}px`,height:`${s}px`,left:`${t-s/2}px`,top:`${n-s/2}px`,backgroundColor:r,opacity:i?.2:0,transform:`scale(${i?1:0})`,transition:`opacity ${a}ms ease-out, transform ${a}ms ease-out`}})};if(!document.querySelector("#ios-feedback-styles")){const e=document.createElement("style");e.id="ios-feedback-styles",e.innerHTML=`
    @keyframes scale-fade {
      0% { transform: scale(0); opacity: 0.3; }
      100% { transform: scale(1); opacity: 0; }
    }
    .animate-scale-fade {
      animation: scale-fade 0.5s ease-out forwards;
    }
    .ios-touch-target {
      -webkit-tap-highlight-color: transparent;
    }
  `,document.head.appendChild(e)}const t$=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,a]=m.useState(!1);m.useEffect(()=>{const c=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",c),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(a(!0),document.documentElement.classList.add("dark")),()=>{window.removeEventListener("scroll",c)}},[]);const i=()=>{a(!s),document.documentElement.classList.toggle("dark")},l=()=>{r(!n)};return o.jsxs("nav",{className:re("fixed top-0 left-0 right-0 z-50 transition-all duration-300 px-6 py-4",e?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-md":"bg-transparent"),role:"navigation","aria-label":"Main Navigation",children:[o.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[o.jsx("a",{href:"/",className:"flex items-center","aria-label":"Go to homepage",children:o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white bg-gradient-to-r from-ems-600 to-purple-600 dark:from-ems-400 dark:to-purple-400 bg-clip-text text-transparent",children:"NarrativeIQ"})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[o.jsx("a",{href:"#features",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400","aria-label":"View features",children:"Features"}),o.jsx("a",{href:"#testimonials",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400","aria-label":"View testimonials",children:"Testimonials"}),o.jsx("a",{href:"#faq",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400","aria-label":"View frequently asked questions",children:"FAQ"}),o.jsx("a",{href:"/login",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400","aria-label":"Log in to your account",children:"Login"}),o.jsx($e,{onClick:i,feedbackColor:"#6366f1",className:"ml-2","aria-label":s?"Switch to light mode":"Switch to dark mode",children:o.jsxs(U,{variant:"outline",size:"icon",children:[s?o.jsx(rp,{className:"h-4 w-4"}):o.jsx(np,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsx("a",{href:"/subscribe",children:o.jsx($e,{feedbackColor:"#4f46e5","aria-label":"Subscribe to our service",children:o.jsx(U,{className:"button-gradient",children:"Subscribe Now"})})})]}),o.jsxs("div",{className:"flex md:hidden items-center space-x-4",children:[o.jsx($e,{onClick:i,feedbackColor:"#6366f1","aria-label":s?"Switch to light mode":"Switch to dark mode",children:o.jsx(U,{variant:"outline",size:"icon",children:s?o.jsx(rp,{className:"h-4 w-4"}):o.jsx(np,{className:"h-4 w-4"})})}),o.jsx($e,{onClick:l,feedbackColor:"#4f46e5","aria-label":n?"Close menu":"Open menu","aria-expanded":n,"aria-controls":"mobile-menu",children:o.jsx(U,{variant:"ghost",size:"icon",children:n?o.jsx(ec,{className:"h-5 w-5"}):o.jsx(Yg,{className:"h-5 w-5"})})})]})]}),n&&o.jsxs("div",{id:"mobile-menu",className:"md:hidden absolute top-full left-0 right-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md shadow-lg py-4 px-6 flex flex-col space-y-4",children:[o.jsx("a",{href:"#features",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400 py-2",children:"Features"}),o.jsx("a",{href:"#testimonials",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400 py-2",children:"Testimonials"}),o.jsx("a",{href:"#faq",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400 py-2",children:"FAQ"}),o.jsx("a",{href:"/login",className:"text-gray-700 dark:text-gray-200 hover:text-ems-600 dark:hover:text-ems-400 py-2",children:"Login"}),o.jsx("a",{href:"/subscribe",children:o.jsx(U,{className:"button-gradient w-full",children:"Subscribe Now"})})]})]})},n$=()=>{const e=m.useRef(null),[t,n]=m.useState({x:0,y:0}),[r,s]=m.useState(0),[a,i]=m.useState(!1),[l,c]=m.useState(!1),u=["Subscribe Now","Generate NFIRS Reports","Create EMS Narratives","Save Documentation Time"];m.useEffect(()=>{const f=v=>{if(!e.current)return;const x=(window.innerWidth-v.pageX*2)/100,g=(window.innerHeight-v.pageY*2)/100;e.current.style.backgroundPosition=`${x}px ${g}px`,n({x:v.clientX,y:v.clientY})};document.addEventListener("mousemove",f);const h=setInterval(()=>{s(v=>(v+1)%u.length)},5e3);return setTimeout(()=>{c(!0)},500),()=>{document.removeEventListener("mousemove",f),clearInterval(h)}},[]);const d=()=>{pv(),i(!0),setTimeout(()=>i(!1),500)};return o.jsxs("div",{ref:e,className:"min-h-[90vh] flex items-center relative parallax-bg overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -left-40 w-80 h-80 bg-ems-400/30 dark:bg-ems-400/10 rounded-full filter blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute top-40 -right-20 w-60 h-60 bg-purple-400/20 dark:bg-purple-600/20 rounded-full filter blur-3xl animate-pulse-slow animation-delay-2000"}),o.jsx("div",{className:"absolute bottom-40 left-20 w-40 h-40 bg-ems-600/20 dark:bg-ems-600/10 rounded-full filter blur-2xl animate-float"})]}),o.jsx("div",{className:"container mx-auto px-6 py-24 relative z-10",children:o.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[o.jsx("div",{className:r$("inline-block mb-6 px-6 py-2 bg-ems-600/10 dark:bg-ems-500/20 rounded-full backdrop-blur-sm","transform transition-all duration-700",l?"scale-100 opacity-100":"scale-95 opacity-0"),children:o.jsx("span",{className:"text-ems-700 dark:text-ems-300 font-medium",children:"AI-enhanced Fire & EMS reports"})}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 text-gray-900 dark:text-white animate-fadeIn",children:o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-ems-600 to-purple-600 dark:from-ems-400 dark:to-purple-400",children:"Fire / EMS Narrative Generator"})}),o.jsx("p",{className:"text-xl md:text-2xl mb-8 text-gray-700 dark:text-gray-200 max-w-2xl mx-auto animate-fadeIn",children:"Create compliant, structured Fire and EMS reports instantly with our AI-powered generator. From NFIRS reports to PCR narratives, save time and improve accuracy."}),o.jsxs("div",{className:"mb-8 animate-fadeIn",children:[o.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[o.jsx("span",{className:"text-ems-600 dark:text-ems-400",children:"$10"}),"/month, cancel anytime"]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Unlimited narratives, 24/7 access"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 animate-fadeIn",children:[o.jsxs("a",{href:"/subscribe",className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-ems-600/20 to-purple-600/20 rounded-xl filter blur-md animate-pulse-slow"}),o.jsx($e,{onClick:d,feedbackColor:"#4f46e5",children:o.jsx(U,{className:"button-gradient text-lg px-8 py-6 rounded-xl shadow-lg shadow-ems-600/20 dark:shadow-ems-500/20 relative z-10","aria-label":"Subscribe to our service","aria-describedby":"subscription-desc",children:u[r]})}),o.jsx("span",{id:"subscription-desc",className:"sr-only",children:"Start your subscription to the Fire and EMS Narrative Generator"})]}),o.jsx("a",{href:"/login",children:o.jsx($e,{onClick:d,feedbackColor:"#6366f1",children:o.jsx(U,{variant:"outline",className:"text-lg px-8 py-6 rounded-xl","aria-label":"Log in to your account",children:"Log In"})})})]}),o.jsxs("div",{className:"mt-8 text-sm text-gray-500 dark:text-gray-400 flex justify-center space-x-6",children:[o.jsx("a",{href:"#",className:"underline hover:text-ems-500 dark:hover:text-ems-400",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"underline hover:text-ems-500 dark:hover:text-ems-400",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"underline hover:text-ems-500 dark:hover:text-ems-400",children:"Contact Support"})]})]})}),o.jsx(e$,{visible:a,x:t.x,y:t.y,color:"#4f46e5"})]})};function r$(...e){return e.filter(Boolean).join(" ")}const s$=({title:e,description:t,icon:n,index:r})=>o.jsx($e,{feedbackColor:"#6366f1","aria-label":`Feature: ${e}`,"aria-describedby":`feature-desc-${r}`,children:o.jsxs("div",{className:re("glass-card p-6 flex flex-col h-full transition-all hover:translate-y-[-5px] duration-300","animate-fadeIn opacity-0"),style:{animationDelay:`${r*150}ms`},children:[o.jsx("div",{className:"p-3 bg-ems-100 dark:bg-ems-800/40 rounded-lg mb-4 text-ems-600 dark:text-ems-400",children:n}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900 dark:text-white",children:e}),o.jsx("p",{id:`feature-desc-${r}`,className:"text-gray-600 dark:text-gray-300",children:t})]})}),a$=()=>{const e=[{title:"AI-Powered Narratives",description:"Generate detailed, accurate EMS & Fire narratives using advanced AI technology.",icon:o.jsx(dA,{size:24})},{title:"Time-Saving",description:"Reduce documentation time by up to 70% with automated narrative generation.",icon:o.jsx(Kg,{size:24})},{title:"HIPAA Compliant",description:"All data is processed securely in compliance with healthcare standards.",icon:o.jsx(kA,{size:24})},{title:"Protocol Following",description:"Ensures all narratives follow required Fire & EMS protocols and guidelines.",icon:o.jsx(B_,{size:24})},{title:"NFIRS Reports",description:"Generate compliant National Fire Incident Reporting System documentation.",icon:o.jsx(bA,{size:24})},{title:"EMS PCR Narratives",description:"Create professional Patient Care Report narratives with consistent terminology.",icon:o.jsx(H_,{size:24})},{title:"Cloud Access",description:"Access your narratives from any device, anywhere with cloud storage.",icon:o.jsx(gA,{size:24})},{title:"Narrative Templates",description:"Choose from various templates for different fire and medical scenarios.",icon:o.jsx(Is,{size:24})},{title:"Data Integration",description:"Easily integrate with other Fire & EMS software systems and databases.",icon:o.jsx(yA,{size:24})},{title:"Secure Authentication",description:"Admin access and multi-factor authentication for enhanced security.",icon:o.jsx(fd,{size:24})}];return o.jsx("section",{id:"features",className:"section-padding bg-gray-50 dark:bg-gray-900","aria-labelledby":"features-heading",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-12",children:[o.jsx("h2",{id:"features-heading",className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"Powerful Features"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Our Fire & EMS Narrative Generator uses advanced AI to create accurate, compliant reports in seconds."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:e.map((t,n)=>o.jsx(s$,{title:t.title,description:t.description,icon:t.icon,index:n},n))})]})})};var gv="Avatar",[o$,s7]=jn(gv),[i$,Cj]=o$(gv),Nj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=m.useState("idle");return o.jsx(i$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(ne.span,{...r,ref:t})})});Nj.displayName=gv;var kj="AvatarImage",Ej=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=Cj(kj,n),l=l$(r,a.referrerPolicy),c=Ve(u=>{s(u),i.onImageLoadingStatusChange(u)});return at(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ne.img,{...a,ref:t,src:r}):null});Ej.displayName=kj;var Pj="AvatarFallback",Tj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=Cj(Pj,n),[i,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(ne.span,{...s,ref:t}):null});Tj.displayName=Pj;function l$(e,t){const[n,r]=m.useState("idle");return at(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&r(l)};return r("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var Rj=Nj,Aj=Ej,Oj=Tj;const Mj=m.forwardRef(({className:e,...t},n)=>o.jsx(Rj,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Mj.displayName=Rj.displayName;const c$=m.forwardRef(({className:e,...t},n)=>o.jsx(Aj,{ref:n,className:re("aspect-square h-full w-full",e),...t}));c$.displayName=Aj.displayName;const Ij=m.forwardRef(({className:e,...t},n)=>o.jsx(Oj,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ij.displayName=Oj.displayName;const u$=({quote:e,author:t,role:n,initials:r,index:s})=>o.jsxs("div",{className:"glass-card p-6 rounded-xl animate-fadeIn opacity-0",style:{animationDelay:`${s*200}ms`},children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-4xl font-serif text-ems-400 leading-none mr-2",children:'"'}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:e})]}),o.jsxs("div",{className:"flex items-center mt-4",children:[o.jsx(Mj,{className:"h-10 w-10 mr-3 border-2 border-ems-100 dark:border-ems-800",children:o.jsx(Ij,{className:"bg-ems-100 dark:bg-ems-800 text-ems-600 dark:text-ems-400",children:r})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})]})]})]}),d$=()=>{const e=[{quote:"This tool has completely transformed our documentation process. I can generate accurate narratives in seconds that used to take me 20 minutes.",author:"Michael Johnson",role:"Paramedic, Boston EMS",initials:"MJ"},{quote:"As an EMS supervisor, I've seen a dramatic improvement in report quality and consistency across our team since implementing this tool.",author:"Sarah Martinez",role:"EMS Supervisor, San Diego FD",initials:"SM"},{quote:"The accuracy is impressive. The AI understands medical terminology perfectly and generates narratives that follow all our protocols.",author:"David Wilson",role:"Flight Medic, AirMed",initials:"DW"},{quote:"This saves me hours each week. The subscription pays for itself many times over just in the time savings alone.",author:"Jennifer Thomas",role:"EMT, Chicago EMS",initials:"JT"}];return o.jsx("section",{id:"testimonials",className:"section-padding bg-white dark:bg-gray-800",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"What EMS Professionals Say"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Trusted by emergency medical services professionals nationwide."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,n)=>o.jsx(u$,{quote:t.quote,author:t.author,role:t.role,initials:t.initials,index:n},n))})]})})},f$=({question:e,answer:t,index:n})=>{const[r,s]=m.useState(!1),a=()=>{s(!r),pv()};return o.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-4 animate-fadeIn opacity-0",style:{animationDelay:`${n*100}ms`},children:[o.jsx($e,{onClick:a,feedbackColor:"#6366f1",children:o.jsxs("button",{className:"flex justify-between items-center w-full text-left focus:outline-none","aria-expanded":r,"aria-controls":`faq-answer-${n}`,children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e}),r?o.jsx(U_,{className:"h-5 w-5 text-ems-600 dark:text-ems-400"}):o.jsx(ri,{className:"h-5 w-5 text-ems-600 dark:text-ems-400"})]})}),r&&o.jsx("div",{id:`faq-answer-${n}`,className:"mt-2 text-gray-600 dark:text-gray-300 transition-all duration-300",children:o.jsx("p",{children:t})})]})},h$=()=>{const e=[{question:"What is the Fire & EMS Narrative Generator?",answer:"The Fire & EMS Narrative Generator is an AI-powered tool that helps emergency service professionals create accurate, compliant, and detailed narratives quickly and efficiently. It supports both Fire incident reports (NFIRS) and EMS patient care narratives (PCRs)."},{question:"How does it handle NFIRS reporting requirements?",answer:"Our system understands National Fire Incident Reporting System (NFIRS) requirements and helps generate compliant narratives that include all required elements, proper terminology, and consistent formatting according to department standards."},{question:"How much time can I save using this tool?",answer:"Most users report saving 15-20 minutes per report, which can translate to hours saved per shift depending on call volume. Fire departments with high call volumes often see the greatest time savings."},{question:"Is my patient and incident data secure and HIPAA compliant?",answer:"Yes, we take data security very seriously. Our system is fully HIPAA compliant, utilizes end-to-end encryption, and we never store patient-identifiable information."},{question:"Can I customize the narratives to my agency's specific protocols?",answer:"Yes, the system can be customized to follow your specific agency protocols and reporting requirements for both Fire and EMS documentation."},{question:"Does it work with existing ePCR and Fire reporting software?",answer:"Yes, our narrative generator creates text that can be copied and pasted into most electronic patient care reporting and fire incident reporting software systems."},{question:"How does the subscription work?",answer:"We offer a simple $10/month subscription with unlimited narrative generation for both Fire and EMS reports. You can cancel anytime with no long-term commitment."},{question:"Is there an admin access option for my organization?",answer:"Yes, we offer an admin panel for supervisors and organization administrators to manage team access and review generated narratives."}];return o.jsx("section",{id:"faq",className:"section-padding bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:"Frequently Asked Questions"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Everything you need to know about our Fire & EMS Narrative Generator."})]}),o.jsx("div",{className:"max-w-3xl mx-auto",children:e.map((t,n)=>o.jsx(f$,{question:t.question,answer:t.answer,index:n},n))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx($e,{feedbackColor:"#6366f1",children:o.jsx("a",{href:"#",className:"inline-flex items-center text-ems-600 dark:text-ems-400 hover:underline","aria-label":"Contact support for more questions",children:o.jsx("span",{children:"Don't see your question? Contact our support team"})})})})]})})},m$=()=>{const e=new Date().getFullYear();return o.jsx("footer",{className:"bg-gray-900 text-white py-12",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsx("h3",{className:"text-xl font-bold mb-4 text-ems-400",children:"EMS Narrative Generator"}),o.jsx("p",{className:"text-gray-400 mb-4 max-w-md",children:"AI-powered documentation tool for emergency medical services professionals. Save time and improve accuracy with our advanced narrative generation system."}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["© ",e," EMS Narrative Generator. All rights reserved."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4 text-ems-100",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#features",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Features"})}),o.jsx("li",{children:o.jsx("a",{href:"#testimonials",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Testimonials"})}),o.jsx("li",{children:o.jsx("a",{href:"#faq",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"FAQ"})}),o.jsx("li",{children:o.jsx("a",{href:"/subscribe",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Subscribe"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-4 text-ems-100",children:"Resources"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"/login",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Login"})}),o.jsx("li",{children:o.jsx("a",{href:"/dashboard",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Dashboard"})}),o.jsx("li",{children:o.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-ems-400 transition-colors",children:"Terms of Service"})})]})]})]})})})},p$=()=>(m.useEffect(()=>{console.log("Index page loaded");const e=document.getElementById("root");console.log("Root element found:",!!e)},[]),o.jsxs("div",{className:"min-h-screen",children:[o.jsx(t$,{}),o.jsx(n$,{}),o.jsx(a$,{}),o.jsx(d$,{}),o.jsx(h$,{}),o.jsx(m$,{})]})),ce=m.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ce.displayName="Input";var g$="Label",$j=m.forwardRef((e,t)=>o.jsx(ne.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$j.displayName=g$;var Dj=$j;const v$=Jl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),R=m.forwardRef(({className:e,...t},n)=>o.jsx(Dj,{ref:n,className:re(v$(),e),...t}));R.displayName=Dj.displayName;const Mh=768;function fi(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Mh-1}px)`),r=()=>{t(window.innerWidth<Mh)};return n.addEventListener("change",r),t(window.innerWidth<Mh),()=>n.removeEventListener("change",r)},[]),!!e}const qt=m.forwardRef(({className:e,glass:t=!1,...n},r)=>{const s=fi();return o.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",t?"bg-white/10 backdrop-blur-lg border-white/20":"",s?"rounded-xl":"",e),...n})});qt.displayName="Card";const Dn=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));Dn.displayName="CardHeader";const Ln=m.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ln.displayName="CardTitle";const Fn=m.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Fn.displayName="CardDescription";const an=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));an.displayName="CardContent";const ic=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));ic.displayName="CardFooter";const y$=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),[i,l]=m.useState(""),{toast:c}=Ma(),u=Un(),d=ci(),{login:f,user:h,isAdmin:v}=xf();m.useEffect(()=>{var g,w;if(h){const y=((w=(g=d.state)==null?void 0:g.from)==null?void 0:w.pathname)||"/dashboard";u(y)}},[h,u,d]);const x=async g=>{g.preventDefault(),l(""),a(!0);try{const{error:w}=await f(e,n);if(w){l(w.message);return}c({title:v?"Admin access granted":"Login successful",description:v?"Welcome to the admin dashboard":"Welcome back!"})}catch(w){l(w.message||"An error occurred during login")}finally{a(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsxs(U,{variant:"ghost",onClick:()=>u("/"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),"Back to Home"]})}),o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(qt,{className:"border-0 shadow-xl glass-card",children:[o.jsxs(Dn,{className:"text-center",children:[o.jsx(Ln,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome Back"}),o.jsx(Fn,{className:"text-gray-600 dark:text-gray-300",children:"Sign in to access your dashboard"})]}),o.jsx(an,{children:o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i&&o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-3 rounded-md flex items-center gap-2 text-sm",children:[o.jsx(Zl,{className:"h-4 w-4"}),i]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"email",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(W_,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),o.jsx(ce,{id:"email",type:"email",placeholder:"Enter your email",className:"pl-10",value:e,onChange:g=>t(g.target.value),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(R,{htmlFor:"password",children:"Password"}),o.jsx("a",{href:"/forgot-password",className:"text-sm text-ems-600 dark:text-ems-400 hover:underline",children:"Forgot password?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(fd,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),o.jsx(ce,{id:"password",type:"password",placeholder:"Enter your password",className:"pl-10",value:n,onChange:g=>r(g.target.value),required:!0})]})]}),o.jsx(U,{type:"submit",className:"w-full",variant:"gradient",disabled:s,children:s?"Signing in...":"Sign In"})]})}),o.jsx(ic,{className:"flex flex-col space-y-2 border-t border-gray-200 dark:border-gray-700 pt-4",children:o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[o.jsx("span",{children:"Don't have an account? "}),o.jsx("a",{href:"/subscribe",className:"text-ems-600 dark:text-ems-400 hover:underline",children:"Subscribe now"})]})})]})})]})},x$=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(!1),[s,a]=m.useState(""),[i,l]=m.useState(!1),{toast:c}=Ma(),u=Un(),{resetPassword:d}=xf(),f=async h=>{h.preventDefault(),a(""),r(!0);try{const{error:v}=await d(e);if(v){a(v.message);return}l(!0),c({title:"Reset link sent",description:"Check your email for password reset instructions."})}catch(v){a(v.message||"An error occurred")}finally{r(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsxs(U,{variant:"ghost",onClick:()=>u("/login"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),"Back to Login"]})}),o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(qt,{className:"border-0 shadow-xl glass-card",children:[o.jsxs(Dn,{className:"text-center",children:[o.jsx(Ln,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),o.jsx(Fn,{className:"text-gray-600 dark:text-gray-300",children:"Enter your email to receive a password reset link"})]}),o.jsx(an,{children:i?o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 p-4 rounded-md flex flex-col items-center gap-3 text-center",children:[o.jsx("div",{className:"bg-green-100 dark:bg-green-800/30 p-2 rounded-full",children:o.jsx(ni,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-medium",children:"Reset Link Sent"}),o.jsx("p",{className:"text-sm opacity-80",children:"Please check your email for instructions on how to reset your password."}),o.jsx(U,{onClick:()=>u("/login"),variant:"secondary",className:"mt-2",children:"Return to Login"})]}):o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s&&o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-3 rounded-md flex items-center gap-2 text-sm",children:[o.jsx(Zl,{className:"h-4 w-4"}),s]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"email",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(W_,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),o.jsx(ce,{id:"email",type:"email",placeholder:"Enter your email",className:"pl-10",value:e,onChange:h=>t(h.target.value),required:!0})]})]}),o.jsx(U,{type:"submit",className:"w-full",variant:"gradient",disabled:n,children:n?"Sending...":"Send Reset Link"})]})}),o.jsx(ic,{className:"flex flex-col space-y-2 border-t border-gray-200 dark:border-gray-700 pt-4",children:o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[o.jsx("span",{children:"Remember your password? "}),o.jsx("a",{href:"/login",className:"text-ems-600 dark:text-ems-400 hover:underline",children:"Sign in"})]})})]})})]})},w$=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),[i,l]=m.useState(""),[c,u]=m.useState(!1),{toast:d}=Ma(),f=Un();m.useEffect(()=>{(async()=>{const{data:{session:x}}=await ut.auth.getSession();x||(f("/forgot-password"),d({title:"Invalid or expired link",description:"Please request a new password reset link.",variant:"destructive"}))})()},[f,d]);const h=async v=>{if(v.preventDefault(),e!==n){l("Passwords don't match");return}if(e.length<8){l("Password must be at least 8 characters");return}l(""),a(!0);try{const{error:x}=await ut.auth.updateUser({password:e});if(x){l(x.message);return}u(!0),d({title:"Password updated",description:"Your password has been successfully reset."})}catch(x){l(x.message||"An error occurred")}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs(qt,{className:"border-0 shadow-xl glass-card",children:[o.jsxs(Dn,{className:"text-center",children:[o.jsx(Ln,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Set New Password"}),o.jsx(Fn,{className:"text-gray-600 dark:text-gray-300",children:"Choose a strong password for your account"})]}),o.jsx(an,{children:c?o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 p-4 rounded-md flex flex-col items-center gap-3 text-center",children:[o.jsx("div",{className:"bg-green-100 dark:bg-green-800/30 p-2 rounded-full",children:o.jsx(ni,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-medium",children:"Password Updated"}),o.jsx("p",{className:"text-sm opacity-80",children:"Your password has been changed successfully."}),o.jsx(U,{onClick:()=>f("/login"),variant:"secondary",className:"mt-2",children:"Continue to Login"})]}):o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i&&o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-3 rounded-md flex items-center gap-2 text-sm",children:[o.jsx(Zl,{className:"h-4 w-4"}),i]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"password",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(fd,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),o.jsx(ce,{id:"password",type:"password",placeholder:"Enter new password",className:"pl-10",value:e,onChange:v=>t(v.target.value),required:!0,minLength:8})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"confirm-password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(fd,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),o.jsx(ce,{id:"confirm-password",type:"password",placeholder:"Confirm new password",className:"pl-10",value:n,onChange:v=>r(v.target.value),required:!0})]})]}),o.jsx(U,{type:"submit",className:"w-full",variant:"gradient",disabled:s,children:s?"Updating...":"Reset Password"})]})}),o.jsx(ic,{className:"flex flex-col space-y-2 border-t border-gray-200 dark:border-gray-700 pt-4",children:o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:[o.jsx("span",{children:"Need a new reset link? "}),o.jsx("a",{href:"/forgot-password",className:"text-ems-600 dark:text-ems-400 hover:underline",children:"Request again"})]})})]})})})},b$=()=>{const[e,t]=m.useState(!1),{toast:n}=Ma(),r=Un(),s=["Unlimited narrative generation","AI-powered documentation","Protocol compliance","Cloud access on all devices","Priority support"],a=async()=>{t(!0);try{await new Promise(i=>setTimeout(i,1e3)),n({title:"Subscription initiated",description:"Redirecting to payment..."}),setTimeout(()=>{r("/success")},1500)}catch{n({title:"Error",description:"Failed to initiate subscription",variant:"destructive"})}finally{t(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col items-center justify-center px-4 py-12",children:[o.jsx("div",{className:"absolute top-4 left-4",children:o.jsxs(U,{variant:"ghost",onClick:()=>r("/"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),"Back to Home"]})}),o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Subscribe to EMS Narrative Generator"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Join thousands of EMS professionals saving time every day"})]}),o.jsxs(qt,{className:"border-0 shadow-xl glass-card",children:[o.jsxs(Dn,{className:"text-center",children:[o.jsxs(Ln,{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center justify-center gap-2",children:[o.jsx("span",{className:"text-ems-600 dark:text-ems-400",children:"$10"})," / month"]}),o.jsx(Fn,{className:"text-gray-600 dark:text-gray-300",children:"Unlimited access, cancel anytime"})]}),o.jsx(an,{children:o.jsx("ul",{className:"space-y-3",children:s.map((i,l)=>o.jsxs("li",{className:"flex items-center gap-3",children:[o.jsx(ni,{className:"h-5 w-5 text-green-500 dark:text-green-400"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:i})]},l))})}),o.jsxs(ic,{className:"flex flex-col space-y-4",children:[o.jsx(U,{className:"button-gradient w-full",onClick:a,disabled:e,children:e?"Processing...":"Subscribe Now"}),o.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["By subscribing, you agree to our",o.jsx("a",{href:"#",className:"text-ems-600 dark:text-ems-400 hover:underline mx-1",children:"Terms"}),"and",o.jsx("a",{href:"#",className:"text-ems-600 dark:text-ems-400 hover:underline mx-1",children:"Privacy Policy"})]})]})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400",children:["Already have an account?",o.jsx("a",{href:"/login",className:"text-ems-600 dark:text-ems-400 hover:underline ml-1",children:"Sign in"})]})]})]})},_$=()=>{const e=Un();return m.useEffect(()=>{const t=setTimeout(()=>{e("/dashboard")},5e3);return()=>clearTimeout(t)},[e]),o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:o.jsxs(qt,{className:"glass-card border-0 shadow-xl w-full max-w-md p-8 text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"rounded-full bg-green-100 dark:bg-green-900/20 p-3",children:o.jsx(B_,{className:"h-12 w-12 text-green-500 dark:text-green-400"})})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Subscription Successful!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Thank you for subscribing to the EMS Narrative Generator. You now have full access to all features."}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(U,{className:"button-gradient w-full",onClick:()=>e("/dashboard"),children:"Go to Dashboard"}),o.jsx(U,{variant:"outline",className:"w-full",onClick:()=>e("/"),children:"Return to Home"})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-6",children:"You'll be automatically redirected to the dashboard in a few seconds."})]})})},et=m.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));et.displayName="Textarea";function or(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ea(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Lj=6048e5,S$=864e5;let j$={};function wf(){return j$}function Fl(e,t){var l,c,u,d;const n=wf(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=or(e),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function wd(e){return Fl(e,{weekStartsOn:1})}function Fj(e){const t=or(e),n=t.getFullYear(),r=Ea(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=wd(r),a=Ea(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const i=wd(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function W0(e){const t=or(e);return t.setHours(0,0,0,0),t}function V0(e){const t=or(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function C$(e,t){const n=W0(e),r=W0(t),s=+n-V0(n),a=+r-V0(r);return Math.round((s-a)/S$)}function N$(e){const t=Fj(e),n=Ea(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wd(n)}function k$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function E$(e){if(!k$(e)&&typeof e!="number")return!1;const t=or(e);return!isNaN(Number(t))}function P$(e){const t=or(e),n=Ea(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const T$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R$=(e,t,n)=>{let r;const s=T$[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ih(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const A$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I$={date:Ih({formats:A$,defaultWidth:"full"}),time:Ih({formats:O$,defaultWidth:"full"}),dateTime:Ih({formats:M$,defaultWidth:"full"})},$$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D$=(e,t,n,r)=>$$[e];function Di(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const L$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},z$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W$=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},V$={ordinalNumber:W$,era:Di({values:L$,defaultWidth:"wide"}),quarter:Di({values:F$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Di({values:U$,defaultWidth:"wide"}),day:Di({values:B$,defaultWidth:"wide"}),dayPeriod:Di({values:z$,defaultWidth:"wide",formattingValues:H$,defaultFormattingWidth:"wide"})};function Li(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?q$(l,f=>f.test(i)):G$(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function G$(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function q$(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function K$(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const Y$=/^(\d+)(th|st|nd|rd)?/i,Q$=/\d+/i,X$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J$={any:[/^b/i,/^(a|c)/i]},Z$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eD={any:[/1/i,/2/i,/3/i,/4/i]},tD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iD={ordinalNumber:K$({matchPattern:Y$,parsePattern:Q$,valueCallback:e=>parseInt(e,10)}),era:Li({matchPatterns:X$,defaultMatchWidth:"wide",parsePatterns:J$,defaultParseWidth:"any"}),quarter:Li({matchPatterns:Z$,defaultMatchWidth:"wide",parsePatterns:eD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Li({matchPatterns:tD,defaultMatchWidth:"wide",parsePatterns:nD,defaultParseWidth:"any"}),day:Li({matchPatterns:rD,defaultMatchWidth:"wide",parsePatterns:sD,defaultParseWidth:"any"}),dayPeriod:Li({matchPatterns:aD,defaultMatchWidth:"any",parsePatterns:oD,defaultParseWidth:"any"})},lD={code:"en-US",formatDistance:R$,formatLong:I$,formatRelative:D$,localize:V$,match:iD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cD(e){const t=or(e);return C$(t,P$(t))+1}function uD(e){const t=or(e),n=+wd(t)-+N$(t);return Math.round(n/Lj)+1}function Uj(e,t){var d,f,h,v;const n=or(e),r=n.getFullYear(),s=wf(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,i=Ea(e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=Fl(i,t),c=Ea(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Fl(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function dD(e,t){var l,c,u,d;const n=wf(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Uj(e,t),a=Ea(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Fl(a,t)}function fD(e,t){const n=or(e),r=+Fl(n,t)-+dD(n,t);return Math.round(r/Lj)+1}function Oe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const es={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Oe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Oe(n+1,2)},d(e,t){return Oe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Oe(e.getHours()%12||12,t.length)},H(e,t){return Oe(e.getHours(),t.length)},m(e,t){return Oe(e.getMinutes(),t.length)},s(e,t){return Oe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Oe(s,t.length)}},Va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return es.y(e,t)},Y:function(e,t,n,r){const s=Uj(e,r),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Oe(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Oe(a,t.length)},R:function(e,t){const n=Fj(e);return Oe(n,t.length)},u:function(e,t){const n=e.getFullYear();return Oe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Oe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Oe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return es.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Oe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=fD(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Oe(s,t.length)},I:function(e,t,n){const r=uD(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Oe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):es.d(e,t)},D:function(e,t,n){const r=cD(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Oe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Oe(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Oe(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Oe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Va.noon:r===0?s=Va.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Va.evening:r>=12?s=Va.afternoon:r>=4?s=Va.morning:s=Va.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return es.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):es.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Oe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Oe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):es.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):es.s(e,t)},S:function(e,t){return es.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return K0(r);case"XXXX":case"XX":return ia(r);case"XXXXX":case"XXX":default:return ia(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return K0(r);case"xxxx":case"xx":return ia(r);case"xxxxx":case"xxx":default:return ia(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+q0(r,":");case"OOOO":default:return"GMT"+ia(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+q0(r,":");case"zzzz":default:return"GMT"+ia(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Oe(r,t.length)},T:function(e,t,n){const r=e.getTime();return Oe(r,t.length)}};function q0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Oe(a,2)}function K0(e,t){return e%60===0?(e>0?"-":"+")+Oe(Math.abs(e)/60,2):ia(e,t)}function ia(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Oe(Math.trunc(r/60),2),a=Oe(r%60,2);return n+s+t+a}const Y0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Bj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hD=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Y0(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Y0(r,t)).replace("{{time}}",Bj(s,t))},mD={p:Bj,P:hD},pD=/^D+$/,gD=/^Y+$/,vD=["D","DD","YY","YYYY"];function yD(e){return pD.test(e)}function xD(e){return gD.test(e)}function wD(e,t,n){const r=bD(e,t,n);if(console.warn(r),vD.includes(e))throw new RangeError(r)}function bD(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jD=/^'([^]*?)'?$/,CD=/''/g,ND=/[a-zA-Z]/;function Wt(e,t,n){var d,f,h,v;const r=wf(),s=r.locale??lD,a=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((v=(h=r.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,l=or(e);if(!E$(l))throw new RangeError("Invalid time value");let c=t.match(SD).map(x=>{const g=x[0];if(g==="p"||g==="P"){const w=mD[g];return w(x,s.formatLong)}return x}).join("").match(_D).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:kD(x)};if(G0[g])return{isToken:!0,value:x};if(g.match(ND))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(xD(g)||yD(g))&&wD(g,t,String(e));const w=G0[g[0]];return w(l,g,s.localize,u)}).join("")}function kD(e){const t=e.match(jD);return t?t[1].replace(CD,"'"):e}var ED=m.createContext(void 0);function hi(e){const t=m.useContext(ED);return e||t||"ltr"}function Sp(e,[t,n]){return Math.min(n,Math.max(t,e))}function PD(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var vv="ScrollArea",[zj,a7]=jn(vv),[TD,Bn]=zj(vv),Hj=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[v,x]=m.useState(null),[g,w]=m.useState(null),[y,p]=m.useState(0),[b,_]=m.useState(0),[S,C]=m.useState(!1),[j,N]=m.useState(!1),E=ve(t,T=>c(T)),M=hi(s);return o.jsx(TD,{scope:n,type:r,dir:M,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:p,onCornerHeightChange:_,children:o.jsx(ne.div,{dir:M,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Hj.displayName=vv;var Wj="ScrollAreaViewport",Vj=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:a,...i}=e,l=Bn(Wj,n),c=m.useRef(null),u=ve(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:UD({asChild:s,children:r},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});Vj.displayName=Wj;var Pr="ScrollAreaScrollbar",yv=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Bn(Pr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(RD,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(AD,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(Gj,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(xv,{...r,ref:t}):null});yv.displayName=Pr;var RD=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Bn(Pr,e.__scopeScrollArea),[a,i]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(ht,{present:n||a,children:o.jsx(Gj,{"data-state":a?"visible":"hidden",...r,ref:t})})}),AD=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Bn(Pr,e.__scopeScrollArea),a=e.orientation==="horizontal",i=_f(()=>c("SCROLL_END"),100),[l,c]=PD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const v=u[d];f!==v&&(c("SCROLL"),i()),f=v};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(ht,{present:n||l!=="hidden",children:o.jsx(xv,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:z(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:z(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Gj=m.forwardRef((e,t)=>{const n=Bn(Pr,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=m.useState(!1),l=e.orientation==="horizontal",c=_f(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:d)}},10);return Yo(n.viewport,c),Yo(n.content,c),o.jsx(ht,{present:r||a,children:o.jsx(xv,{"data-state":a?"visible":"hidden",...s,ref:t})})}),xv=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Bn(Pr,e.__scopeScrollArea),a=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Xj(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,v){return LD(h,i.current,l,v)}return n==="horizontal"?o.jsx(OD,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,v=Q0(h,l,s.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?o.jsx(MD,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,v=Q0(h,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),OD=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Bn(Pr,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ve(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Kj,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Zj(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_d(i.paddingLeft),paddingEnd:_d(i.paddingRight)}})}})}),MD=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Bn(Pr,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=ve(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Kj,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Zj(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_d(i.paddingTop),paddingEnd:_d(i.paddingBottom)}})}})}),[ID,qj]=zj(Pr),Kj=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,v=Bn(Pr,n),[x,g]=m.useState(null),w=ve(t,E=>g(E)),y=m.useRef(null),p=m.useRef(""),b=v.viewport,_=r.content-r.viewport,S=Ve(d),C=Ve(c),j=_f(f,10);function N(E){if(y.current){const M=E.clientX-y.current.left,T=E.clientY-y.current.top;u({x:M,y:T})}}return m.useEffect(()=>{const E=M=>{const T=M.target;(x==null?void 0:x.contains(T))&&S(M,_)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,x,_,S]),m.useEffect(C,[r,C]),Yo(x,j),Yo(v.content,j),o.jsx(ID,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:Ve(a),onThumbPointerUp:Ve(i),onThumbPositionChange:C,onThumbPointerDown:Ve(l),children:o.jsx(ne.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:z(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=x.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),N(E))}),onPointerMove:z(e.onPointerMove,N),onPointerUp:z(e.onPointerUp,E=>{const M=E.target;M.hasPointerCapture(E.pointerId)&&M.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=p.current,v.viewport&&(v.viewport.style.scrollBehavior=""),y.current=null})})})}),bd="ScrollAreaThumb",Yj=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qj(bd,e.__scopeScrollArea);return o.jsx(ht,{present:n||s.hasThumb,children:o.jsx($D,{ref:t,...r})})}),$D=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Bn(bd,n),i=qj(bd,n),{onThumbPositionChange:l}=i,c=ve(t,f=>i.onThumbChange(f)),u=m.useRef(),d=_f(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const v=FD(f,l);u.current=v,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(ne.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:z(e.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),x=f.clientX-v.left,g=f.clientY-v.top;i.onThumbPointerDown({x,y:g})}),onPointerUp:z(e.onPointerUp,i.onThumbPointerUp)})});Yj.displayName=bd;var wv="ScrollAreaCorner",Qj=m.forwardRef((e,t)=>{const n=Bn(wv,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(DD,{...e,ref:t}):null});Qj.displayName=wv;var DD=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Bn(wv,n),[a,i]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return Yo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Yo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(ne.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _d(e){return e?parseInt(e,10):0}function Xj(e,t){const n=e/t;return isNaN(n)?0:n}function bf(e){const t=Xj(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function LD(e,t,n,r="ltr"){const s=bf(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return Jj([c,u],f)(e)}function Q0(e,t,n="ltr"){const r=bf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Sp(e,c);return Jj([0,i],[0,l])(u)}function Jj(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Zj(e,t){return e>0&&e<t}var FD=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function _f(e,t){const n=Ve(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Yo(e,t){const n=Ve(t);at(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function UD(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=m.Children.only(r);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var eC=Hj,BD=Vj,zD=Qj;const Sf=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(eC,{ref:r,className:re("relative overflow-hidden",e),...n,children:[o.jsx(BD,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(tC,{}),o.jsx(zD,{})]}));Sf.displayName=eC.displayName;const tC=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(yv,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(Yj,{className:"relative flex-1 rounded-full bg-border"})}));tC.displayName=yv.displayName;var $h=0;function jf(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??X0()),document.body.insertAdjacentElement("beforeend",e[1]??X0()),$h++,()=>{$h===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$h--}},[])}function X0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dh="focusScope.autoFocusOnMount",Lh="focusScope.autoFocusOnUnmount",J0={bubbles:!1,cancelable:!0},HD="FocusScope",lc=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ve(s),d=Ve(a),f=m.useRef(null),h=ve(t,g=>c(g)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(b){if(v.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:is(f.current,{select:!0})},w=function(b){if(v.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||is(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&is(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),p.disconnect()}}},[r,l,v.paused]),m.useEffect(()=>{if(l){ew.add(v);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Dh,J0);l.addEventListener(Dh,u),l.dispatchEvent(y),y.defaultPrevented||(WD(YD(nC(l)),{select:!0}),document.activeElement===g&&is(l))}return()=>{l.removeEventListener(Dh,u),setTimeout(()=>{const y=new CustomEvent(Lh,J0);l.addEventListener(Lh,d),l.dispatchEvent(y),y.defaultPrevented||is(g??document.body,{select:!0}),l.removeEventListener(Lh,d),ew.remove(v)},0)}}},[l,u,d,v]);const x=m.useCallback(g=>{if(!n&&!r||v.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const p=g.currentTarget,[b,_]=VD(p);b&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&is(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&is(_,{select:!0})):y===p&&g.preventDefault()}},[n,r,v.paused]);return o.jsx(ne.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});lc.displayName=HD;function WD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(is(r,{select:t}),document.activeElement!==n)return}function VD(e){const t=nC(e),n=Z0(t,e),r=Z0(t.reverse(),e);return[n,r]}function nC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z0(e,t){for(const n of e)if(!GD(n,{upTo:t}))return n}function GD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qD(e){return e instanceof HTMLInputElement&&"select"in e}function is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&qD(e)&&t&&e.select()}}var ew=KD();function KD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tw(e,t),e.unshift(t)},remove(t){var n;e=tw(e,t),(n=e[0])==null||n.resume()}}}function tw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function YD(e){return e.filter(t=>t.tagName!=="A")}function QD(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,XD(s,...t)]}function XD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Fh="rovingFocusGroup.onEntryFocus",JD={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[jp,rC,ZD]=Yd(Cf),[eL,mi]=QD(Cf,[ZD]),[tL,nL]=eL(Cf),sC=m.forwardRef((e,t)=>o.jsx(jp.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(jp.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(rL,{...e,ref:t})})}));sC.displayName=Cf;var rL=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),v=ve(t,h),x=hi(a),[g=null,w]=Gt({prop:i,defaultProp:l,onChange:c}),[y,p]=m.useState(!1),b=Ve(u),_=rC(n),S=m.useRef(!1),[C,j]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Fh,b),()=>N.removeEventListener(Fh,b)},[b]),o.jsx(tL,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>p(!0),[]),onFocusableItemAdd:m.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>j(N=>N-1),[]),children:o.jsx(ne.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:z(e.onMouseDown,()=>{S.current=!0}),onFocus:z(e.onFocus,N=>{const E=!S.current;if(N.target===N.currentTarget&&E&&!y){const M=new CustomEvent(Fh,JD);if(N.currentTarget.dispatchEvent(M),!M.defaultPrevented){const T=_().filter(H=>H.focusable),I=T.find(H=>H.active),q=T.find(H=>H.id===g),K=[I,q,...T].filter(Boolean).map(H=>H.ref.current);iC(K,d)}}S.current=!1}),onBlur:z(e.onBlur,()=>p(!1))})})}),aC="RovingFocusGroupItem",oC=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...i}=e,l=xn(),c=a||l,u=nL(aC,n),d=u.currentTabStopId===c,f=rC(n),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return m.useEffect(()=>{if(r)return h(),()=>v()},[r,h,v]),o.jsx(jp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:z(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:z(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=oL(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=f().filter(p=>p.focusable).map(p=>p.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const p=y.indexOf(x.currentTarget);y=u.loop?iL(y,p+1):y.slice(p+1)}setTimeout(()=>iC(y))}})})})});oC.displayName=aC;var sL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oL(e,t,n){const r=aL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sL[r]}function iC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function iL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bv=sC,_v=oC,lL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ga=new WeakMap,tu=new WeakMap,nu={},Uh=0,lC=function(e){return e&&(e.host||lC(e.parentNode))},cL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=lC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},uL=function(e,t,n,r){var s=cL(t,Array.isArray(e)?e:[e]);nu[n]||(nu[n]=new WeakMap);var a=nu[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var v=h.getAttribute(r),x=v!==null&&v!=="false",g=(Ga.get(h)||0)+1,w=(a.get(h)||0)+1;Ga.set(h,g),a.set(h,w),i.push(h),g===1&&x&&tu.set(h,!0),w===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Uh++,function(){i.forEach(function(f){var h=Ga.get(f)-1,v=a.get(f)-1;Ga.set(f,h),a.set(f,v),h||(tu.has(f)||f.removeAttribute(r),tu.delete(f)),v||f.removeAttribute(n)}),Uh--,Uh||(Ga=new WeakMap,Ga=new WeakMap,tu=new WeakMap,nu={})}},Nf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=lL(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),uL(r,s,n,"aria-hidden")):function(){return null}},br=function(){return br=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},br.apply(this,arguments)};function cC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function dL(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ou="right-scroll-bar-position",Mu="width-before-scroll-bar",fL="with-scroll-bars-hidden",hL="--removed-body-scroll-bar-size";function Bh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mL(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var pL=typeof window<"u"?m.useLayoutEffect:m.useEffect,nw=new WeakMap;function gL(e,t){var n=mL(null,function(r){return e.forEach(function(s){return Bh(s,r)})});return pL(function(){var r=nw.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||Bh(l,null)}),a.forEach(function(l){s.has(l)||Bh(l,i)})}nw.set(n,e)},[e]),n}function vL(e){return e}function yL(e,t){t===void 0&&(t=vL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function xL(e){e===void 0&&(e={});var t=yL(null);return t.options=br({async:!0,ssr:!1},e),t}var uC=function(e){var t=e.sideCar,n=cC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,br({},n))};uC.isSideCarExport=!0;function wL(e,t){return e.useMedium(t),uC}var dC=xL(),zh=function(){},kf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:zh,onWheelCapture:zh,onTouchMoveCapture:zh}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,v=e.noIsolation,x=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,p=e.gapMode,b=cC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=gL([n,t]),C=br(br({},b),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:dC,removeScrollBar:u,shards:f,noIsolation:v,inert:x,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:p}),i?m.cloneElement(m.Children.only(l),br(br({},C),{ref:S})):m.createElement(y,br({},C,{className:c,ref:S}),l))});kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kf.classNames={fullWidth:Mu,zeroRight:Ou};var bL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _L(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bL();return t&&e.setAttribute("nonce",t),e}function SL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_L())&&(SL(t,n),jL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NL=function(){var e=CL();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fC=function(){var e=NL(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},kL={left:0,top:0,right:0,gap:0},Hh=function(e){return parseInt(e||"",10)||0},EL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Hh(n),Hh(r),Hh(s)]},PL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kL;var t=EL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TL=fC(),Co="data-scroll-locked",RL=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(fL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ou,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ou," .").concat(Ou,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mu," .").concat(Mu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(hL,": ").concat(l,`px;
  }
`)},rw=function(){var e=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(e)?e:0},AL=function(){m.useEffect(function(){return document.body.setAttribute(Co,(rw()+1).toString()),function(){var e=rw()-1;e<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,e.toString())}},[])},OL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;AL();var a=m.useMemo(function(){return PL(s)},[s]);return m.createElement(TL,{styles:RL(a,!t,s,n?"":"!important")})},Cp=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Cp=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Cp=!1}var qa=Cp?{passive:!1}:!1,ML=function(e){return e.tagName==="TEXTAREA"},hC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ML(e)&&n[t]==="visible")},IL=function(e){return hC(e,"overflowY")},$L=function(e){return hC(e,"overflowX")},sw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mC(e,r);if(s){var a=pC(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},LL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mC=function(e,t){return e==="v"?IL(t):$L(t)},pC=function(e,t){return e==="v"?DL(t):LL(t)},FL=function(e,t){return e==="h"&&t==="rtl"?-1:1},UL=function(e,t,n,r,s){var a=FL(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var v=pC(e,l),x=v[0],g=v[1],w=v[2],y=g-w-a*x;(x||y)&&mC(e,l)&&(f+=y,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},su=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aw=function(e){return[e.deltaX,e.deltaY]},ow=function(e){return e&&"current"in e?e.current:e},BL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HL=0,Ka=[];function WL(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(HL++)[0],a=m.useState(fC)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=dL([e.lockRef.current],(e.shards||[]).map(ow),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=su(g),p=n.current,b="deltaX"in g?g.deltaX:p[0]-y[0],_="deltaY"in g?g.deltaY:p[1]-y[1],S,C=g.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&j==="h"&&C.type==="range")return!1;var N=sw(j,C);if(!N)return!0;if(N?S=j:(S=j==="v"?"h":"v",N=sw(j,C)),!N)return!1;if(!r.current&&"changedTouches"in g&&(b||_)&&(r.current=S),!S)return!0;var E=r.current||S;return UL(E,w,g,E==="h"?b:_,!0)},[]),c=m.useCallback(function(g){var w=g;if(!(!Ka.length||Ka[Ka.length-1]!==a)){var y="deltaY"in w?aw(w):su(w),p=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&BL(S.delta,y)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var b=(i.current.shards||[]).map(ow).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=b.length>0?l(w,b[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(g,w,y,p){var b={name:g,delta:w,target:y,should:p,shadowParent:VL(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=m.useCallback(function(g){n.current=su(g),r.current=void 0},[]),f=m.useCallback(function(g){u(g.type,aw(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,su(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Ka.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qa),document.addEventListener("touchmove",c,qa),document.addEventListener("touchstart",d,qa),function(){Ka=Ka.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,qa),document.removeEventListener("touchmove",c,qa),document.removeEventListener("touchstart",d,qa)}},[]);var v=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(a,{styles:zL(s)}):null,v?m.createElement(OL,{gapMode:e.gapMode}):null)}function VL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GL=wL(dC,WL);var cc=m.forwardRef(function(e,t){return m.createElement(kf,br({},e,{ref:t,sideCar:GL}))});cc.classNames=kf.classNames;var Np=["Enter"," "],qL=["ArrowDown","PageUp","Home"],gC=["ArrowUp","PageDown","End"],KL=[...qL,...gC],YL={ltr:[...Np,"ArrowRight"],rtl:[...Np,"ArrowLeft"]},QL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uc="Menu",[Ul,XL,JL]=Yd(uc),[La,vC]=jn(uc,[JL,Ws,mi]),Ef=Ws(),yC=mi(),[ZL,Fa]=La(uc),[eF,dc]=La(uc),xC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=e,l=Ef(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Ve(a),h=hi(s);return m.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),o.jsx(tf,{...l,children:o.jsx(ZL,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(eF,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};xC.displayName=uc;var tF="MenuAnchor",Sv=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ef(n);return o.jsx(nc,{...s,...r,ref:t})});Sv.displayName=tF;var jv="MenuPortal",[nF,wC]=La(jv,{forceMount:void 0}),bC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Fa(jv,t);return o.jsx(nF,{scope:t,forceMount:n,children:o.jsx(ht,{present:n||a.open,children:o.jsx(ti,{asChild:!0,container:s,children:r})})})};bC.displayName=jv;var On="MenuContent",[rF,Cv]=La(On),_C=m.forwardRef((e,t)=>{const n=wC(On,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Fa(On,e.__scopeMenu),i=dc(On,e.__scopeMenu);return o.jsx(Ul.Provider,{scope:e.__scopeMenu,children:o.jsx(ht,{present:r||a.open,children:o.jsx(Ul.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(sF,{...s,ref:t}):o.jsx(aF,{...s,ref:t})})})})}),sF=m.forwardRef((e,t)=>{const n=Fa(On,e.__scopeMenu),r=m.useRef(null),s=ve(t,r);return m.useEffect(()=>{const a=r.current;if(a)return Nf(a)},[]),o.jsx(Nv,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:z(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aF=m.forwardRef((e,t)=>{const n=Fa(On,e.__scopeMenu);return o.jsx(Nv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Nv=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,disableOutsideScroll:x,...g}=e,w=Fa(On,n),y=dc(On,n),p=Ef(n),b=yC(n),_=XL(n),[S,C]=m.useState(null),j=m.useRef(null),N=ve(t,j,w.onContentChange),E=m.useRef(0),M=m.useRef(""),T=m.useRef(0),I=m.useRef(null),q=m.useRef("right"),F=m.useRef(0),K=x?cc:m.Fragment,H=x?{as:Gr,allowPinchZoom:!0}:void 0,X=A=>{var Z,me;const W=M.current+A,V=_().filter(pe=>!pe.disabled),J=document.activeElement,ie=(Z=V.find(pe=>pe.ref.current===J))==null?void 0:Z.textValue,he=V.map(pe=>pe.textValue),Re=vF(he,W,ie),se=(me=V.find(pe=>pe.textValue===Re))==null?void 0:me.ref.current;(function pe(O){M.current=O,window.clearTimeout(E.current),O!==""&&(E.current=window.setTimeout(()=>pe(""),1e3))})(W),se&&setTimeout(()=>se.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),jf();const k=m.useCallback(A=>{var V,J;return q.current===((V=I.current)==null?void 0:V.side)&&xF(A,(J=I.current)==null?void 0:J.area)},[]);return o.jsx(rF,{scope:n,searchRef:M,onItemEnter:m.useCallback(A=>{k(A)&&A.preventDefault()},[k]),onItemLeave:m.useCallback(A=>{var W;k(A)||((W=j.current)==null||W.focus(),C(null))},[k]),onTriggerLeave:m.useCallback(A=>{k(A)&&A.preventDefault()},[k]),pointerGraceTimerRef:T,onPointerGraceIntentChange:m.useCallback(A=>{I.current=A},[]),children:o.jsx(K,{...H,children:o.jsx(lc,{asChild:!0,trapped:s,onMountAutoFocus:z(a,A=>{var W;A.preventDefault(),(W=j.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,children:o.jsx(bv,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:z(c,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(nf,{role:"menu","aria-orientation":"vertical","data-state":LC(w.open),"data-radix-menu-content":"",dir:y.dir,...p,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:z(g.onKeyDown,A=>{const V=A.target.closest("[data-radix-menu-content]")===A.currentTarget,J=A.ctrlKey||A.altKey||A.metaKey,ie=A.key.length===1;V&&(A.key==="Tab"&&A.preventDefault(),!J&&ie&&X(A.key));const he=j.current;if(A.target!==he||!KL.includes(A.key))return;A.preventDefault();const se=_().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);gC.includes(A.key)&&se.reverse(),pF(se)}),onBlur:z(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(E.current),M.current="")}),onPointerMove:z(e.onPointerMove,Bl(A=>{const W=A.target,V=F.current!==A.clientX;if(A.currentTarget.contains(W)&&V){const J=A.clientX>F.current?"right":"left";q.current=J,F.current=A.clientX}}))})})})})})})});_C.displayName=On;var oF="MenuGroup",kv=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ne.div,{role:"group",...r,ref:t})});kv.displayName=oF;var iF="MenuLabel",SC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ne.div,{...r,ref:t})});SC.displayName=iF;var Sd="MenuItem",iw="menu.itemSelect",Pf=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=m.useRef(null),i=dc(Sd,e.__scopeMenu),l=Cv(Sd,e.__scopeMenu),c=ve(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(iw,{bubbles:!0,cancelable:!0});f.addEventListener(iw,v=>r==null?void 0:r(v),{once:!0}),Hg(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(jC,{...s,ref:c,disabled:n,onClick:z(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:z(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:z(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Np.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pf.displayName=Sd;var jC=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,i=Cv(Sd,n),l=yC(n),c=m.useRef(null),u=ve(t,c),[d,f]=m.useState(!1),[h,v]=m.useState("");return m.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[a.children]),o.jsx(Ul.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:o.jsx(_v,{asChild:!0,...l,focusable:!r,children:o.jsx(ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:z(e.onPointerMove,Bl(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:z(e.onPointerLeave,Bl(x=>i.onItemLeave(x))),onFocus:z(e.onFocus,()=>f(!0)),onBlur:z(e.onBlur,()=>f(!1))})})})}),lF="MenuCheckboxItem",CC=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(TC,{scope:e.__scopeMenu,checked:n,children:o.jsx(Pf,{role:"menuitemcheckbox","aria-checked":jd(n)?"mixed":n,...s,ref:t,"data-state":Pv(n),onSelect:z(s.onSelect,()=>r==null?void 0:r(jd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CC.displayName=lF;var NC="MenuRadioGroup",[cF,uF]=La(NC,{value:void 0,onValueChange:()=>{}}),kC=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=Ve(r);return o.jsx(cF,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(kv,{...s,ref:t})})});kC.displayName=NC;var EC="MenuRadioItem",PC=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=uF(EC,e.__scopeMenu),a=n===s.value;return o.jsx(TC,{scope:e.__scopeMenu,checked:a,children:o.jsx(Pf,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Pv(a),onSelect:z(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});PC.displayName=EC;var Ev="MenuItemIndicator",[TC,dF]=La(Ev,{checked:!1}),RC=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=dF(Ev,n);return o.jsx(ht,{present:r||jd(a.checked)||a.checked===!0,children:o.jsx(ne.span,{...s,ref:t,"data-state":Pv(a.checked)})})});RC.displayName=Ev;var fF="MenuSeparator",AC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});AC.displayName=fF;var hF="MenuArrow",OC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ef(n);return o.jsx(rf,{...s,...r,ref:t})});OC.displayName=hF;var mF="MenuSub",[o7,MC]=La(mF),Gi="MenuSubTrigger",IC=m.forwardRef((e,t)=>{const n=Fa(Gi,e.__scopeMenu),r=dc(Gi,e.__scopeMenu),s=MC(Gi,e.__scopeMenu),a=Cv(Gi,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Sv,{asChild:!0,...u,children:o.jsx(jC,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":LC(n.open),...e,ref:Kd(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:z(e.onPointerMove,Bl(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:z(e.onPointerLeave,Bl(f=>{var v,x;d();const h=(v=n.content)==null?void 0:v.getBoundingClientRect();if(h){const g=(x=n.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,p=h[w?"left":"right"],b=h[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:p,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:p,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:z(e.onKeyDown,f=>{var v;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||YL[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});IC.displayName=Gi;var $C="MenuSubContent",DC=m.forwardRef((e,t)=>{const n=wC(On,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Fa(On,e.__scopeMenu),i=dc(On,e.__scopeMenu),l=MC($C,e.__scopeMenu),c=m.useRef(null),u=ve(t,c);return o.jsx(Ul.Provider,{scope:e.__scopeMenu,children:o.jsx(ht,{present:r||a.open,children:o.jsx(Ul.Slot,{scope:e.__scopeMenu,children:o.jsx(Nv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:z(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:z(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:z(e.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),h=QL[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});DC.displayName=$C;function LC(e){return e?"open":"closed"}function jd(e){return e==="indeterminate"}function Pv(e){return jd(e)?"indeterminate":e?"checked":"unchecked"}function pF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function gF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function vF(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=gF(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function yF(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function xF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return yF(n,t)}function Bl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wF=xC,bF=Sv,_F=bC,SF=_C,jF=kv,CF=SC,NF=Pf,kF=CC,EF=kC,PF=PC,TF=RC,RF=AC,AF=OC,OF=IC,MF=DC,Tv="DropdownMenu",[IF,i7]=jn(Tv,[vC]),Qt=vC(),[$F,FC]=IF(Tv),UC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Qt(t),u=m.useRef(null),[d=!1,f]=Gt({prop:s,defaultProp:a,onChange:i});return o.jsx($F,{scope:t,triggerId:xn(),triggerRef:u,contentId:xn(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(wF,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};UC.displayName=Tv;var BC="DropdownMenuTrigger",zC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=FC(BC,n),i=Qt(n);return o.jsx(bF,{asChild:!0,...i,children:o.jsx(ne.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Kd(t,a.triggerRef),onPointerDown:z(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:z(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});zC.displayName=BC;var DF="DropdownMenuPortal",HC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qt(t);return o.jsx(_F,{...r,...n})};HC.displayName=DF;var WC="DropdownMenuContent",VC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=FC(WC,n),a=Qt(n),i=m.useRef(!1);return o.jsx(SF,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:z(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:z(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VC.displayName=WC;var LF="DropdownMenuGroup",FF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(jF,{...s,...r,ref:t})});FF.displayName=LF;var UF="DropdownMenuLabel",GC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(CF,{...s,...r,ref:t})});GC.displayName=UF;var BF="DropdownMenuItem",qC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(NF,{...s,...r,ref:t})});qC.displayName=BF;var zF="DropdownMenuCheckboxItem",KC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(kF,{...s,...r,ref:t})});KC.displayName=zF;var HF="DropdownMenuRadioGroup",WF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(EF,{...s,...r,ref:t})});WF.displayName=HF;var VF="DropdownMenuRadioItem",YC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(PF,{...s,...r,ref:t})});YC.displayName=VF;var GF="DropdownMenuItemIndicator",QC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(TF,{...s,...r,ref:t})});QC.displayName=GF;var qF="DropdownMenuSeparator",XC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(RF,{...s,...r,ref:t})});XC.displayName=qF;var KF="DropdownMenuArrow",YF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(AF,{...s,...r,ref:t})});YF.displayName=KF;var QF="DropdownMenuSubTrigger",JC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(OF,{...s,...r,ref:t})});JC.displayName=QF;var XF="DropdownMenuSubContent",ZC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return o.jsx(MF,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZC.displayName=XF;var JF=UC,ZF=zC,e6=HC,eN=VC,tN=GC,nN=qC,rN=KC,sN=YC,aN=QC,oN=XC,iN=JC,lN=ZC;const cN=JF,uN=ZF,t6=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(iN,{ref:s,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(dd,{className:"ml-auto h-4 w-4"})]}));t6.displayName=iN.displayName;const n6=m.forwardRef(({className:e,...t},n)=>o.jsx(lN,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));n6.displayName=lN.displayName;const Rv=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(e6,{children:o.jsx(eN,{ref:r,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Rv.displayName=eN.displayName;const ba=m.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(nN,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ba.displayName=nN.displayName;const r6=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(rN,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(aN,{children:o.jsx(ni,{className:"h-4 w-4"})})}),t]}));r6.displayName=rN.displayName;const s6=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(sN,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(aN,{children:o.jsx(pA,{className:"h-2 w-2 fill-current"})})}),t]}));s6.displayName=sN.displayName;const a6=m.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(tN,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));a6.displayName=tN.displayName;const o6=m.forwardRef(({className:e,...t},n)=>o.jsx(oN,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));o6.displayName=oN.displayName;const kp=({messages:e,onSavePreset:t,onViewInAnalysis:n})=>{const r=P.useRef(null);return P.useEffect(()=>{var s;(s=r.current)==null||s.scrollIntoView({behavior:"smooth"})},[e]),e.length===0?o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Welcome to EMS Narrative Generator"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:'Fill in the narrative details in the form below and click "Generate" to create a new narrative, or ask a question in the chat to get assistance.'}),t&&o.jsx(U,{variant:"outline",onClick:t,className:"mt-2",children:"Load Saved Preset"})]})}):o.jsx(Sf,{className:"h-full px-4 py-6",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[e.map((s,a)=>o.jsx("div",{className:`flex ${s.type==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${s.type==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[o.jsx("div",{className:"whitespace-pre-wrap",children:s.content}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:s.timestamp}),s.type==="assistant"&&o.jsx("div",{className:"flex justify-end mt-2 gap-2",children:o.jsxs(cN,{children:[o.jsx(uN,{asChild:!0,children:o.jsxs(U,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs",children:["Actions ",o.jsx(ri,{className:"h-3 w-3 ml-1"})]})}),o.jsxs(Rv,{children:[o.jsx(ba,{onClick:()=>n&&n(s.content),children:"View in Analysis"}),o.jsx(ba,{onClick:()=>t&&t(),children:"Save as Preset"}),o.jsx(ba,{onClick:()=>navigator.clipboard.writeText(s.content),children:"Copy to Clipboard"})]})]})})]})},a)),o.jsx("div",{ref:r})]})})};var Av="Collapsible",[i6,l7]=jn(Av),[l6,Ov]=i6(Av),dN=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c=!1,u]=Gt({prop:r,defaultProp:s,onChange:i});return o.jsx(l6,{scope:n,disabled:a,contentId:xn(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(ne.div,{"data-state":Iv(c),"data-disabled":a?"":void 0,...l,ref:t})})});dN.displayName=Av;var fN="CollapsibleTrigger",hN=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Ov(fN,n);return o.jsx(ne.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Iv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:z(e.onClick,s.onOpenToggle)})});hN.displayName=fN;var Mv="CollapsibleContent",mN=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ov(Mv,e.__scopeCollapsible);return o.jsx(ht,{present:n||s.open,children:({present:a})=>o.jsx(c6,{...r,ref:t,present:a})})});mN.displayName=Mv;var c6=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...a}=e,i=Ov(Mv,n),[l,c]=m.useState(r),u=m.useRef(null),d=ve(t,u),f=m.useRef(0),h=f.current,v=m.useRef(0),x=v.current,g=i.open||l,w=m.useRef(g),y=m.useRef();return m.useEffect(()=>{const p=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(p)},[]),at(()=>{const p=u.current;if(p){y.current=y.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const b=p.getBoundingClientRect();f.current=b.height,v.current=b.width,w.current||(p.style.transitionDuration=y.current.transitionDuration,p.style.animationName=y.current.animationName),c(r)}},[i.open,r]),o.jsx(ne.div,{"data-state":Iv(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function Iv(e){return e?"open":"closed"}var u6=dN;const pN=u6,gN=hN,vN=mN;var $v="Dialog",[yN,c7]=jn($v),[d6,ir]=yN($v),xN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Gt({prop:r,defaultProp:s,onChange:a});return o.jsx(d6,{scope:t,triggerRef:l,contentRef:c,contentId:xn(),titleId:xn(),descriptionId:xn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};xN.displayName=$v;var wN="DialogTrigger",bN=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(wN,n),a=ve(t,s.triggerRef);return o.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fv(s.open),...r,ref:a,onClick:z(e.onClick,s.onOpenToggle)})});bN.displayName=wN;var Dv="DialogPortal",[f6,_N]=yN(Dv,{forceMount:void 0}),SN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=ir(Dv,t);return o.jsx(f6,{scope:t,forceMount:n,children:m.Children.map(r,i=>o.jsx(ht,{present:n||a.open,children:o.jsx(ti,{asChild:!0,container:s,children:i})}))})};SN.displayName=Dv;var Cd="DialogOverlay",jN=m.forwardRef((e,t)=>{const n=_N(Cd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=ir(Cd,e.__scopeDialog);return a.modal?o.jsx(ht,{present:r||a.open,children:o.jsx(h6,{...s,ref:t})}):null});jN.displayName=Cd;var h6=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(Cd,n);return o.jsx(cc,{as:Gr,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ne.div,{"data-state":Fv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pa="DialogContent",CN=m.forwardRef((e,t)=>{const n=_N(Pa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=ir(Pa,e.__scopeDialog);return o.jsx(ht,{present:r||a.open,children:a.modal?o.jsx(m6,{...s,ref:t}):o.jsx(p6,{...s,ref:t})})});CN.displayName=Pa;var m6=m.forwardRef((e,t)=>{const n=ir(Pa,e.__scopeDialog),r=m.useRef(null),s=ve(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return Nf(a)},[]),o.jsx(NN,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:z(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:z(e.onFocusOutside,a=>a.preventDefault())})}),p6=m.forwardRef((e,t)=>{const n=ir(Pa,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(NN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),NN=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=ir(Pa,n),c=m.useRef(null),u=ve(t,c);return jf(),o.jsxs(o.Fragment,{children:[o.jsx(lc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Ia,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Fv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(g6,{titleId:l.titleId}),o.jsx(y6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Lv="DialogTitle",kN=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(Lv,n);return o.jsx(ne.h2,{id:s.titleId,...r,ref:t})});kN.displayName=Lv;var EN="DialogDescription",PN=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(EN,n);return o.jsx(ne.p,{id:s.descriptionId,...r,ref:t})});PN.displayName=EN;var TN="DialogClose",RN=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(TN,n);return o.jsx(ne.button,{type:"button",...r,ref:t,onClick:z(e.onClick,()=>s.onOpenChange(!1))})});RN.displayName=TN;function Fv(e){return e?"open":"closed"}var AN="DialogTitleWarning",[u7,ON]=jR(AN,{contentName:Pa,titleName:Lv,docsSlug:"dialog"}),g6=({titleId:e})=>{const t=ON(AN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},v6="DialogDescriptionWarning",y6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ON(v6).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},x6=xN,w6=bN,b6=SN,_6=jN,S6=CN,j6=kN,C6=PN,N6=RN;function k6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const MN=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pi=()=>{const e=P.useContext(MN);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};k6(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const E6=24,P6=typeof window<"u"?m.useLayoutEffect:m.useEffect;function lw(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function T6(){return Uv(/^Mac/)}function R6(){return Uv(/^iPhone/)}function cw(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function A6(){return Uv(/^iPad/)||T6()&&navigator.maxTouchPoints>1}function IN(){return R6()||A6()}function Uv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Wh=typeof document<"u"&&window.visualViewport;function uw(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function $N(e){for(uw(e)&&(e=e.parentElement);e&&!uw(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const O6=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let au=0,Vh;function M6(e={}){let{isDisabled:t}=e;P6(()=>{if(!t)return au++,au===1&&IN()&&(Vh=I6()),()=>{au--,au===0&&(Vh==null||Vh())}},[t])}function I6(){let e,t=0,n=f=>{e=$N(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,v=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((v<=0&&h>t||v>=x&&h<t)&&f.preventDefault(),t=h)},s=f=>{let h=f.target;Ep(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;Ep(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Wh&&(Wh.height<window.innerHeight?requestAnimationFrame(()=>{dw(h)}):Wh.addEventListener("resize",()=>dw(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=lw($6(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=lw(Fi(document,"touchstart",n,{passive:!1,capture:!0}),Fi(document,"touchmove",r,{passive:!1,capture:!0}),Fi(document,"touchend",s,{passive:!1,capture:!0}),Fi(document,"focus",a,!0),Fi(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function $6(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Fi(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function dw(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=$N(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom+E6;a>i&&(n.scrollTop+=s-r)}e=n.parentElement}}function Ep(e){return e instanceof HTMLInputElement&&!O6.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function D6(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function L6(...e){return t=>e.forEach(n=>D6(n,t))}function DN(...e){return m.useCallback(L6(...e),e)}const LN=new WeakMap;function lt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}r[s]=e.style[s],e.style[s]=a}),!n&&LN.set(e,r)}function F6(e,t){if(!e||!(e instanceof HTMLElement))return;let n=LN.get(e);n&&(e.style[t]=n[t])}const ct=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ou(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[ct(t)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[ct(t)?5:4]):null)}function U6(e){return 8*(Math.log(e+1)-2)}function Gh(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function B6(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const qe={DURATION:.5,EASE:[.32,.72,0,1]},FN=.4,z6=.25,H6=100,UN=8,na=16,Pp=26,qh="vaul-dragging";function BN(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function W6({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,s=P.useRef(r),a=BN(t);return P.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}function zN({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=W6({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=BN(n),c=P.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function V6({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=zN({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,v]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function j(){v({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const x=P.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),g=P.useMemo(()=>n==null?void 0:n.findIndex(j=>j===d),[n,d]),w=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===d||!n,y=P.useMemo(()=>{const j=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=n==null?void 0:n.map(E=>{const M=typeof E=="string";let T=0;if(M&&(T=parseInt(E,10)),ct(l)){const q=M?T:h?E*j.height:0;return h?l==="bottom"?j.height-q:-j.height+q:q}const I=M?T:h?E*j.width:0;return h?l==="right"?j.width-I:-j.width+I:I}))!=null?N:[]},[n,h,c]),p=P.useMemo(()=>g!==null?y==null?void 0:y[g]:null,[y,g]),b=P.useCallback(j=>{var N;const E=(N=y==null?void 0:y.findIndex(M=>M===j))!=null?N:null;i(E),lt(r.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:ct(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`}),y&&E!==y.length-1&&E!==a&&E<a?lt(s.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"0"}):lt(s.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(E,0)])},[r.current,n,y,a,s,f]);P.useEffect(()=>{if(d||e){var j;const N=(j=n==null?void 0:n.findIndex(E=>E===e||E===d))!=null?j:-1;y&&N!==-1&&typeof y[N]=="number"&&b(y[N])}},[d,e,n,y,b]);function _({draggedDistance:j,closeDrawer:N,velocity:E,dismissible:M}){if(a===void 0)return;const T=l==="bottom"||l==="right"?(p??0)-j:(p??0)+j,I=g===a-1,q=g===0,F=j>0;if(I&&lt(s.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),!u&&E>2&&!F){M?N():b(y[0]);return}if(!u&&E>2&&F&&y&&n){b(y[n.length-1]);return}const K=y==null?void 0:y.reduce((X,k)=>typeof X!="number"||typeof k!="number"?X:Math.abs(k-T)<Math.abs(X-T)?k:X),H=ct(l)?window.innerHeight:window.innerWidth;if(E>FN&&Math.abs(j)<H*.4){const X=F?1:-1;if(X>0&&x){b(y[n.length-1]);return}if(q&&X<0&&M&&N(),g===null)return;b(y[g+X]);return}b(K)}function S({draggedDistance:j}){if(p===null)return;const N=l==="bottom"||l==="right"?p-j:p+j;(l==="bottom"||l==="right")&&N<y[y.length-1]||(l==="top"||l==="left")&&N>y[y.length-1]||lt(r.current,{transform:ct(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function C(j,N){if(!n||typeof g!="number"||!y||a===void 0)return null;const E=g===a-1;if(g>=a&&N)return 0;if(E&&!N)return 1;if(!w&&!E)return null;const T=E?g+1:g-1,I=E?y[T]-y[T-1]:y[T+1]-y[T],q=j/Math.abs(I);return E?1-q:q}return{isLastSnapPoint:x,activeSnapPoint:d,shouldFade:w,getPercentageDragged:C,setActiveSnapPoint:f,activeSnapPointIndex:g,onRelease:_,onDrag:S,snapPointsOffset:y}}const G6=()=>()=>{};function q6(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=pi(),a=P.useRef(null),i=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Pp)/window.innerWidth}P.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;B6(r&&!s?Gh(document.body,{background:"black"}):G6,Gh(c,{transformOrigin:ct(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`}));const u=Gh(c,{borderRadius:`${UN}px`,overflow:"hidden",...ct(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},qe.DURATION*1e3)}}},[t,n,i])}let Ui=null;function K6({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=P.useState(()=>typeof window<"u"?window.location.href:""),c=P.useRef(0),u=P.useCallback(()=>{if(cw()&&Ui===null&&e&&!a){Ui={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const v=h-window.innerHeight;v&&c.current>=h&&(document.body.style.top=`${-(c.current+v)}px`)}),300)}},[e]),d=P.useCallback(()=>{if(cw()&&Ui!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ui),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),Ui=null}},[i]);return P.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),P.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,i,t,n,u,d]),{restorePositionSetting:d}}function HN({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=z6,scrollLockTimeout:u=H6,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:v,setActiveSnapPoint:x,fixed:g,modal:w=!0,onClose:y,nested:p,noBodyStyles:b,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:C=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:N=!1,repositionInputs:E=!0,onAnimationEnd:M,container:T,autoFocus:I=!1}){var q,F;const[K=!1,H]=zN({defaultProp:S,prop:e,onChange:G=>{t==null||t(G),!G&&!p&&Si(),setTimeout(()=>{M==null||M(G)},qe.DURATION*1e3),G&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),G||(document.body.style.pointerEvents="auto")}}),[X,k]=P.useState(!1),[A,W]=P.useState(!1),[V,J]=P.useState(!1),ie=P.useRef(null),he=P.useRef(null),Re=P.useRef(null),se=P.useRef(null),Z=P.useRef(null),me=P.useRef(!1),pe=P.useRef(null),O=P.useRef(0),Q=P.useRef(!1),D=P.useRef(0),Y=P.useRef(null),Te=P.useRef(((q=Y.current)==null?void 0:q.getBoundingClientRect().height)||0),$=P.useRef(((F=Y.current)==null?void 0:F.getBoundingClientRect().width)||0),de=P.useRef(0),te=P.useCallback(G=>{a&&G===Xs.length-1&&(he.current=new Date)},[]),{activeSnapPoint:Pt,activeSnapPointIndex:je,setActiveSnapPoint:Tt,onRelease:Tr,snapPointsOffset:Xs,onDrag:Ua,shouldFade:_c,getPercentageDragged:Sc}=V6({snapPoints:a,activeSnapPointProp:v,setActiveSnapPointProp:x,drawerRef:Y,fadeFromIndex:h,overlayRef:ie,onSnapPointChange:te,direction:_,container:T,snapToSequentialPoint:j});M6({isDisabled:!K||A||!w||V||!X||!E||!C});const{restorePositionSetting:Si}=K6({isOpen:K,modal:w,nested:p,hasBeenOpened:X,preventScrollRestoration:N,noBodyStyles:b});function zn(){return(window.innerWidth-Pp)/window.innerWidth}function jc(G){var le,ue;!d&&!a||Y.current&&!Y.current.contains(G.target)||(Te.current=((le=Y.current)==null?void 0:le.getBoundingClientRect().height)||0,$.current=((ue=Y.current)==null?void 0:ue.getBoundingClientRect().width)||0,W(!0),Re.current=new Date,IN()&&window.addEventListener("touchend",()=>me.current=!1,{once:!0}),G.target.setPointerCapture(G.pointerId),O.current=ct(_)?G.pageY:G.pageX)}function Rr(G,le){var ue,Ee;let Se=G;const yt=(ue=window.getSelection())==null?void 0:ue.toString(),xt=Y.current?ou(Y.current,_):null,on=new Date;if(Se.hasAttribute("data-vaul-no-drag")||Se.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(he.current&&on.getTime()-he.current.getTime()<500)return!1;if(xt!==null&&(_==="bottom"?xt>0:xt<0))return!0;if(yt&&yt.length>0)return!1;if(on.getTime()-((Ee=Z.current)==null?void 0:Ee.getTime())<u&&xt===0||le)return Z.current=on,!1;for(;Se;){if(Se.scrollHeight>Se.clientHeight){if(Se.scrollTop!==0)return Z.current=new Date,!1;if(Se.getAttribute("role")==="dialog")return!0}Se=Se.parentNode}return!0}function Cc(G){if(Y.current&&A){const le=_==="bottom"||_==="right"?1:-1,ue=(O.current-(ct(_)?G.pageY:G.pageX))*le,Ee=ue>0,Se=a&&!d&&!Ee;if(Se&&je===0)return;const yt=Math.abs(ue),xt=document.querySelector("[data-vaul-drawer-wrapper]"),on=_==="bottom"||_==="top"?Te.current:$.current;let Hn=yt/on;const Zs=Sc(yt,Ee);if(Zs!==null&&(Hn=Zs),Se&&Hn>=1||!me.current&&!Rr(G.target,Ee))return;if(Y.current.classList.add(qh),me.current=!0,lt(Y.current,{transition:"none"}),lt(ie.current,{transition:"none"}),a&&Ua({draggedDistance:ue}),Ee&&!a){const ur=U6(ue),kc=Math.min(ur*-1,0)*le;lt(Y.current,{transform:ct(_)?`translate3d(0, ${kc}px, 0)`:`translate3d(${kc}px, 0, 0)`});return}const Qr=1-Hn;if((_c||h&&je===h-1)&&(r==null||r(G,Hn),lt(ie.current,{opacity:`${Qr}`,transition:"none"},!0)),xt&&ie.current&&i){const ur=Math.min(zn()+Hn*(1-zn()),1),kc=8-Hn*8,My=Math.max(0,14-Hn*14);lt(xt,{borderRadius:`${kc}px`,transform:ct(_)?`scale(${ur}) translate3d(0, ${My}px, 0)`:`scale(${ur}) translate3d(${My}px, 0, 0)`,transition:"none"},!0)}if(!a){const ur=yt*le;lt(Y.current,{transform:ct(_)?`translate3d(0, ${ur}px, 0)`:`translate3d(${ur}px, 0, 0)`})}}}P.useEffect(()=>{var G;function le(){if(!Y.current||!E)return;const ue=document.activeElement;if(Ep(ue)||Q.current){var Ee;const Se=((Ee=window.visualViewport)==null?void 0:Ee.height)||0,yt=window.innerHeight;let xt=yt-Se;const on=Y.current.getBoundingClientRect().height||0,Hn=on>yt*.8;de.current||(de.current=on);const Zs=Y.current.getBoundingClientRect().top;if(Math.abs(D.current-xt)>60&&(Q.current=!Q.current),a&&a.length>0&&Xs&&je){const Qr=Xs[je]||0;xt+=Qr}if(D.current=xt,on>Se||Q.current){const Qr=Y.current.getBoundingClientRect().height;let ur=Qr;Qr>Se&&(ur=Se-(Hn?Zs:Pp)),g?Y.current.style.height=`${Qr-Math.max(xt,0)}px`:Y.current.style.height=`${Math.max(ur,Se-Zs)}px`}else Y.current.style.height=`${de.current}px`;a&&a.length>0&&!Q.current?Y.current.style.bottom="0px":Y.current.style.bottom=`${Math.max(xt,0)}px`}}return(G=window.visualViewport)==null||G.addEventListener("resize",le),()=>{var ue;return(ue=window.visualViewport)==null?void 0:ue.removeEventListener("resize",le)}},[je,a,Xs]);function Js(G){Nc(),y==null||y(),G||H(!1),setTimeout(()=>{a&&Tt(a[0])},qe.DURATION*1e3)}function ji(){if(!Y.current)return;const G=document.querySelector("[data-vaul-drawer-wrapper]"),le=ou(Y.current,_);lt(Y.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),lt(ie.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),i&&le&&le>0&&K&&lt(G,{borderRadius:`${UN}px`,overflow:"hidden",...ct(_)?{transform:`scale(${zn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${zn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`},!0)}function Nc(){!A||!Y.current||(Y.current.classList.remove(qh),me.current=!1,W(!1),se.current=new Date)}function Vf(G){if(!A||!Y.current)return;Y.current.classList.remove(qh),me.current=!1,W(!1),se.current=new Date;const le=ou(Y.current,_);if(!Rr(G.target,!1)||!le||Number.isNaN(le)||Re.current===null)return;const ue=se.current.getTime()-Re.current.getTime(),Ee=O.current-(ct(_)?G.pageY:G.pageX),Se=Math.abs(Ee)/ue;if(Se>.05&&(J(!0),setTimeout(()=>{J(!1)},200)),a){Tr({draggedDistance:Ee*(_==="bottom"||_==="right"?1:-1),closeDrawer:Js,velocity:Se,dismissible:d}),s==null||s(G,!0);return}if(_==="bottom"||_==="right"?Ee>0:Ee<0){ji(),s==null||s(G,!0);return}if(Se>FN){Js(),s==null||s(G,!1);return}var yt;const xt=Math.min((yt=Y.current.getBoundingClientRect().height)!=null?yt:0,window.innerHeight);var on;const Hn=Math.min((on=Y.current.getBoundingClientRect().width)!=null?on:0,window.innerWidth),Zs=_==="left"||_==="right";if(Math.abs(le)>=(Zs?Hn:xt)*c){Js(),s==null||s(G,!1);return}s==null||s(G,!0),ji()}P.useEffect(()=>(K&&(lt(document.documentElement,{scrollBehavior:"auto"}),he.current=new Date),()=>{F6(document.documentElement,"scrollBehavior")}),[K]);function Ci(G){const le=G?(window.innerWidth-na)/window.innerWidth:1,ue=G?-na:0;pe.current&&window.clearTimeout(pe.current),lt(Y.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:`scale(${le}) translate3d(0, ${ue}px, 0)`}),!G&&Y.current&&(pe.current=setTimeout(()=>{const Ee=ou(Y.current,_);lt(Y.current,{transition:"none",transform:ct(_)?`translate3d(0, ${Ee}px, 0)`:`translate3d(${Ee}px, 0, 0)`})},500))}function cr(G,le){if(le<0)return;const ue=(window.innerWidth-na)/window.innerWidth,Ee=ue+le*(1-ue),Se=-na+le*na;lt(Y.current,{transform:ct(_)?`scale(${Ee}) translate3d(0, ${Se}px, 0)`:`scale(${Ee}) translate3d(${Se}px, 0, 0)`,transition:"none"})}function Gf(G,le){const ue=ct(_)?window.innerHeight:window.innerWidth,Ee=le?(ue-na)/ue:1,Se=le?-na:0;le&&lt(Y.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:ct(_)?`scale(${Ee}) translate3d(0, ${Se}px, 0)`:`scale(${Ee}) translate3d(${Se}px, 0, 0)`})}return P.createElement(x6,{defaultOpen:S,onOpenChange:G=>{!d&&!G||(G?k(!0):Js(!0),H(G))},open:K},P.createElement(MN.Provider,{value:{activeSnapPoint:Pt,snapPoints:a,setActiveSnapPoint:Tt,drawerRef:Y,overlayRef:ie,onOpenChange:t,onPress:jc,onRelease:Vf,onDrag:Cc,dismissible:d,handleOnly:f,isOpen:K,isDragging:A,shouldFade:_c,closeDrawer:Js,onNestedDrag:cr,onNestedOpenChange:Ci,onNestedRelease:Gf,keyboardIsOpen:Q,modal:w,snapPointsOffset:Xs,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:b,container:T,autoFocus:I}},n))}const WN=P.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:a,isOpen:i,modal:l}=pi(),c=DN(t,n),u=r&&r.length>0;return l?P.createElement(_6,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});WN.displayName="Drawer.Overlay";const VN=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:v,snapPoints:x,container:g,handleOnly:w,autoFocus:y}=pi(),[p,b]=P.useState(!1),_=DN(s,a),S=P.useRef(null),C=P.useRef(null),j=P.useRef(!1),N=x&&x.length>0;q6();const E=(T,I,q=0)=>{if(j.current)return!0;const F=Math.abs(T.y),K=Math.abs(T.x),H=K>F,X=["bottom","right"].includes(I)?1:-1;if(I==="left"||I==="right"){if(!(T.x*X<0)&&K>=0&&K<=q)return H}else if(!(T.y*X<0)&&F>=0&&F<=q)return!H;return j.current=!0,!0};P.useEffect(()=>{N&&window.requestAnimationFrame(()=>{b(!0)})},[]);function M(T){S.current=null,j.current=!1,l(T)}return P.createElement(S6,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":p?"true":"false","data-vaul-snap-points":h&&N?"true":"false","data-vaul-custom-container":g?"true":"false",...r,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:T=>{w||(r.onPointerDown==null||r.onPointerDown.call(r,T),S.current={x:T.pageX,y:T.pageY},i(T))},onOpenAutoFocus:T=>{n==null||n(T),y||T.preventDefault()},onPointerDownOutside:T=>{if(e==null||e(T),!f||T.defaultPrevented){T.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:T=>{if(!f){T.preventDefault();return}},onPointerMove:T=>{if(C.current=T,w||(r.onPointerMove==null||r.onPointerMove.call(r,T),!S.current))return;const I=T.pageY-S.current.y,q=T.pageX-S.current.x,F=T.pointerType==="touch"?10:2;E({x:q,y:I},v,F)?c(T):(Math.abs(q)>F||Math.abs(I)>F)&&(S.current=null)},onPointerUp:T=>{r.onPointerUp==null||r.onPointerUp.call(r,T),S.current=null,j.current=!1,l(T)},onPointerOut:T=>{r.onPointerOut==null||r.onPointerOut.call(r,T),M(C.current)},onContextMenu:T=>{r.onContextMenu==null||r.onContextMenu.call(r,T),M(C.current)}})});VN.displayName="Drawer.Content";const Y6=250,Q6=120,GN=P.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:v}=pi(),x=P.useRef(null),g=P.useRef(!1);function w(){if(g.current){b();return}window.setTimeout(()=>{y()},Q6)}function y(){if(a||e||g.current){b();return}if(b(),(!i||i.length===0)&&u){s();return}if(l===i[i.length-1]&&u){s();return}const S=i.findIndex(j=>j===l);if(S===-1)return;const C=i[S+1];c(C)}function p(){x.current=window.setTimeout(()=>{g.current=!0},Y6)}function b(){window.clearTimeout(x.current),g.current=!1}return P.createElement("div",{onClick:w,onPointerCancel:b,onPointerDown:_=>{d&&h(_),p()},onPointerMove:_=>{d&&v(_)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});GN.displayName="Drawer.Handle";function X6({onDrag:e,onOpenChange:t,...n}){const{onNestedDrag:r,onNestedOpenChange:s,onNestedRelease:a}=pi();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return P.createElement(HN,{nested:!0,onClose:()=>{s(!1)},onDrag:(i,l)=>{r(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&s(i)},onRelease:a,...n})}function J6(e){const t=pi(),{container:n=t.container,...r}=e;return P.createElement(b6,{container:n,...r})}const lr={Root:HN,NestedRoot:X6,Content:VN,Overlay:WN,Trigger:w6,Portal:J6,Handle:GN,Close:N6,Title:j6,Description:C6},fc=({shouldScaleBackground:e=!0,...t})=>o.jsx(lr.Root,{shouldScaleBackground:e,...t});fc.displayName="Drawer";const Z6=lr.Trigger,e8=lr.Portal,qN=lr.Close,KN=m.forwardRef(({className:e,...t},n)=>o.jsx(lr.Overlay,{ref:n,className:re("fixed inset-0 z-50 bg-black/80",e),...t}));KN.displayName=lr.Overlay.displayName;const hc=m.forwardRef(({className:e,children:t,...n},r)=>{const s=fi();return o.jsxs(e8,{children:[o.jsx(KN,{}),o.jsxs(lr.Content,{ref:r,className:re("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s?"max-h-[85vh]":"",e),...n,children:[o.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]})});hc.displayName="DrawerContent";const Bv=({className:e,...t})=>o.jsx("div",{className:re("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Bv.displayName="DrawerHeader";const zv=m.forwardRef(({className:e,...t},n)=>o.jsx(lr.Title,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));zv.displayName=lr.Title.displayName;const t8=m.forwardRef(({className:e,...t},n)=>o.jsx(lr.Description,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));t8.displayName=lr.Description.displayName;var Hv="Tabs",[n8,d7]=jn(Hv,[mi]),YN=mi(),[r8,Wv]=n8(Hv),QN=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=hi(l),[f,h]=Gt({prop:r,onChange:s,defaultProp:a});return o.jsx(r8,{scope:n,baseId:xn(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(ne.div,{dir:d,"data-orientation":i,...u,ref:t})})});QN.displayName=Hv;var XN="TabsList",JN=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Wv(XN,n),i=YN(n);return o.jsx(bv,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});JN.displayName=XN;var ZN="TabsTrigger",ek=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=Wv(ZN,n),l=YN(n),c=rk(i.baseId,r),u=sk(i.baseId,r),d=r===i.value;return o.jsx(_v,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:z(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:z(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:z(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});ek.displayName=ZN;var tk="TabsContent",nk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=Wv(tk,n),c=rk(l.baseId,r),u=sk(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(ht,{present:s||d,children:({present:h})=>o.jsx(ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});nk.displayName=tk;function rk(e,t){return`${e}-trigger-${t}`}function sk(e,t){return`${e}-content-${t}`}var s8=QN,ak=JN,ok=ek,ik=nk;const gi=s8,Us=m.forwardRef(({className:e,...t},n)=>o.jsx(ak,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Us.displayName=ak.displayName;const De=m.forwardRef(({className:e,...t},n)=>o.jsx(ok,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));De.displayName=ok.displayName;const Fe=m.forwardRef(({className:e,...t},n)=>o.jsx(ik,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fe.displayName=ik.displayName;function Vv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gv="Switch",[a8,f7]=jn(Gv),[o8,i8]=a8(Gv),lk=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,v]=m.useState(null),x=ve(t,b=>v(b)),g=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[y=!1,p]=Gt({prop:s,defaultProp:a,onChange:u});return o.jsxs(o8,{scope:n,checked:y,disabled:l,children:[o.jsx(ne.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":dk(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:z(e.onClick,b=>{p(_=>!_),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&o.jsx(l8,{control:h,bubbles:!g.current,name:r,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});lk.displayName=Gv;var ck="SwitchThumb",uk=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=i8(ck,n);return o.jsx(ne.span,{"data-state":dk(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});uk.displayName=ck;var l8=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=m.useRef(null),i=Vv(n),l=rv(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[i,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dk(e){return e?"checked":"unchecked"}var fk=lk,c8=uk;const Ce=m.forwardRef(({className:e,...t},n)=>o.jsx(fk,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(c8,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ce.displayName=fk.displayName;var u8=[" ","Enter","ArrowUp","ArrowDown"],d8=[" ","Enter"],mc="Select",[Tf,Rf,f8]=Yd(mc),[vi,h7]=jn(mc,[f8,Ws]),Af=Ws(),[h8,qs]=vi(mc),[m8,p8]=vi(mc),hk=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:x}=e,g=Af(t),[w,y]=m.useState(null),[p,b]=m.useState(null),[_,S]=m.useState(!1),C=hi(u),[j=!1,N]=Gt({prop:r,defaultProp:s,onChange:a}),[E,M]=Gt({prop:i,defaultProp:l,onChange:c}),T=m.useRef(null),I=w?x||!!w.closest("form"):!0,[q,F]=m.useState(new Set),K=Array.from(q).map(H=>H.props.value).join(";");return o.jsx(tf,{...g,children:o.jsxs(h8,{required:v,scope:t,trigger:w,onTriggerChange:y,valueNode:p,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:xn(),value:E,onValueChange:M,open:j,onOpenChange:N,dir:C,triggerPointerDownPosRef:T,disabled:h,children:[o.jsx(Tf.Provider,{scope:t,children:o.jsx(m8,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(H=>{F(X=>new Set(X).add(H))},[]),onNativeOptionRemove:m.useCallback(H=>{F(X=>{const k=new Set(X);return k.delete(H),k})},[]),children:n})}),I?o.jsxs(Lk,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:H=>M(H.target.value),disabled:h,form:x,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(q)]},K):null]})})};hk.displayName=mc;var mk="SelectTrigger",pk=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Af(n),i=qs(mk,n),l=i.disabled||r,c=ve(t,i.onTriggerChange),u=Rf(n),d=m.useRef("touch"),[f,h,v]=Fk(g=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===i.value),p=Uk(w,g,y);p!==void 0&&i.onValueChange(p.value)}),x=g=>{l||(i.onOpenChange(!0),v()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(nc,{asChild:!0,...a,children:o.jsx(ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Dk(i.value)?"":void 0,...s,ref:c,onClick:z(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:z(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:z(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&u8.includes(g.key)&&(x(),g.preventDefault())})})})});pk.displayName=mk;var gk="SelectValue",vk=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=qs(gk,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ve(t,c.onValueNodeChange);return at(()=>{u(d)},[u,d]),o.jsx(ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:Dk(c.value)?o.jsx(o.Fragment,{children:i}):a})});vk.displayName=gk;var g8="SelectIcon",yk=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});yk.displayName=g8;var v8="SelectPortal",xk=e=>o.jsx(ti,{asChild:!0,...e});xk.displayName=v8;var Ta="SelectContent",wk=m.forwardRef((e,t)=>{const n=qs(Ta,e.__scopeSelect),[r,s]=m.useState();if(at(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Oa.createPortal(o.jsx(bk,{scope:e.__scopeSelect,children:o.jsx(Tf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(_k,{...e,ref:t})});wk.displayName=Ta;var Vn=10,[bk,Ks]=vi(Ta),y8="SelectContentImpl",_k=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,p=qs(Ta,n),[b,_]=m.useState(null),[S,C]=m.useState(null),j=ve(t,Z=>_(Z)),[N,E]=m.useState(null),[M,T]=m.useState(null),I=Rf(n),[q,F]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(b)return Nf(b)},[b]),jf();const H=m.useCallback(Z=>{const[me,...pe]=I().map(D=>D.ref.current),[O]=pe.slice(-1),Q=document.activeElement;for(const D of Z)if(D===Q||(D==null||D.scrollIntoView({block:"nearest"}),D===me&&S&&(S.scrollTop=0),D===O&&S&&(S.scrollTop=S.scrollHeight),D==null||D.focus(),document.activeElement!==Q))return},[I,S]),X=m.useCallback(()=>H([N,b]),[H,N,b]);m.useEffect(()=>{q&&X()},[q,X]);const{onOpenChange:k,triggerPointerDownPosRef:A}=p;m.useEffect(()=>{if(b){let Z={x:0,y:0};const me=O=>{var Q,D;Z={x:Math.abs(Math.round(O.pageX)-(((Q=A.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(O.pageY)-(((D=A.current)==null?void 0:D.y)??0))}},pe=O=>{Z.x<=10&&Z.y<=10?O.preventDefault():b.contains(O.target)||k(!1),document.removeEventListener("pointermove",me),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",pe,{capture:!0})}}},[b,k,A]),m.useEffect(()=>{const Z=()=>k(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[k]);const[W,V]=Fk(Z=>{const me=I().filter(Q=>!Q.disabled),pe=me.find(Q=>Q.ref.current===document.activeElement),O=Uk(me,Z,pe);O&&setTimeout(()=>O.ref.current.focus())}),J=m.useCallback((Z,me,pe)=>{const O=!K.current&&!pe;(p.value!==void 0&&p.value===me||O)&&(E(Z),O&&(K.current=!0))},[p.value]),ie=m.useCallback(()=>b==null?void 0:b.focus(),[b]),he=m.useCallback((Z,me,pe)=>{const O=!K.current&&!pe;(p.value!==void 0&&p.value===me||O)&&T(Z)},[p.value]),Re=r==="popper"?Tp:Sk,se=Re===Tp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return o.jsx(bk,{scope:n,content:b,viewport:S,onViewportChange:C,itemRefCallback:J,selectedItem:N,onItemLeave:ie,itemTextRefCallback:he,focusSelectedItem:X,selectedItemText:M,position:r,isPositioned:q,searchRef:W,children:o.jsx(cc,{as:Gr,allowPinchZoom:!0,children:o.jsx(lc,{asChild:!0,trapped:p.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:z(s,Z=>{var me;(me=p.trigger)==null||me.focus({preventScroll:!0}),Z.preventDefault()}),children:o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(Re,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:Z=>Z.preventDefault(),...y,...se,onPlaced:()=>F(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:z(y.onKeyDown,Z=>{const me=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!me&&Z.key.length===1&&V(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let O=I().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Q=Z.target,D=O.indexOf(Q);O=O.slice(D+1)}setTimeout(()=>H(O)),Z.preventDefault()}})})})})})})});_k.displayName=y8;var x8="SelectItemAlignedPosition",Sk=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=qs(Ta,n),i=Ks(Ta,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=ve(t,j=>d(j)),h=Rf(n),v=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:p}=i,b=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&w&&y){const j=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(a.dir!=="rtl"){const Q=M.left-N.left,D=E.left-Q,Y=j.left-D,Te=j.width+Y,$=Math.max(Te,N.width),de=window.innerWidth-Vn,te=Sp(D,[Vn,Math.max(Vn,de-$)]);l.style.minWidth=Te+"px",l.style.left=te+"px"}else{const Q=N.right-M.right,D=window.innerWidth-E.right-Q,Y=window.innerWidth-j.right-D,Te=j.width+Y,$=Math.max(Te,N.width),de=window.innerWidth-Vn,te=Sp(D,[Vn,Math.max(Vn,de-$)]);l.style.minWidth=Te+"px",l.style.right=te+"px"}const T=h(),I=window.innerHeight-Vn*2,q=g.scrollHeight,F=window.getComputedStyle(u),K=parseInt(F.borderTopWidth,10),H=parseInt(F.paddingTop,10),X=parseInt(F.borderBottomWidth,10),k=parseInt(F.paddingBottom,10),A=K+H+q+k+X,W=Math.min(w.offsetHeight*5,A),V=window.getComputedStyle(g),J=parseInt(V.paddingTop,10),ie=parseInt(V.paddingBottom,10),he=j.top+j.height/2-Vn,Re=I-he,se=w.offsetHeight/2,Z=w.offsetTop+se,me=K+H+Z,pe=A-me;if(me<=he){const Q=T.length>0&&w===T[T.length-1].ref.current;l.style.bottom="0px";const D=u.clientHeight-g.offsetTop-g.offsetHeight,Y=Math.max(Re,se+(Q?ie:0)+D+X),Te=me+Y;l.style.height=Te+"px"}else{const Q=T.length>0&&w===T[0].ref.current;l.style.top="0px";const Y=Math.max(he,K+g.offsetTop+(Q?J:0)+se)+pe;l.style.height=Y+"px",g.scrollTop=me-he+g.offsetTop}l.style.margin=`${Vn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,w,y,a.dir,r]);at(()=>b(),[b]);const[_,S]=m.useState();at(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=m.useCallback(j=>{j&&x.current===!0&&(b(),p==null||p(),x.current=!1)},[b,p]);return o.jsx(b8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:C,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Sk.displayName=x8;var w8="SelectPopperPosition",Tp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Vn,...a}=e,i=Af(n);return o.jsx(nf,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tp.displayName=w8;var[b8,qv]=vi(Ta,{}),Rp="SelectViewport",jk=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Ks(Rp,n),i=qv(Rp,n),l=ve(t,a.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Tf.Slot,{scope:n,children:o.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const x=window.innerHeight-Vn*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<x){const p=y+v,b=Math.min(x,p),_=p-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});jk.displayName=Rp;var Ck="SelectGroup",[_8,S8]=vi(Ck),j8=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xn();return o.jsx(_8,{scope:n,id:s,children:o.jsx(ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});j8.displayName=Ck;var Nk="SelectLabel",kk=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=S8(Nk,n);return o.jsx(ne.div,{id:s.id,...r,ref:t})});kk.displayName=Nk;var Nd="SelectItem",[C8,Ek]=vi(Nd),Pk=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=qs(Nd,n),c=Ks(Nd,n),u=l.value===r,[d,f]=m.useState(a??""),[h,v]=m.useState(!1),x=ve(t,p=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,p,r,s)}),g=xn(),w=m.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(C8,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(p=>{f(b=>b||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(Tf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:z(i.onFocus,()=>v(!0)),onBlur:z(i.onBlur,()=>v(!1)),onClick:z(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:z(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:z(i.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:z(i.onPointerMove,p=>{var b;w.current=p.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(i.onPointerLeave,p=>{var b;p.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:z(i.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(d8.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});Pk.displayName=Nd;var qi="SelectItemText",Tk=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=qs(qi,n),l=Ks(qi,n),c=Ek(qi,n),u=p8(qi,n),[d,f]=m.useState(null),h=ve(t,y=>f(y),c.onItemTextChange,y=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,y,c.value,c.disabled)}),v=d==null?void 0:d.textContent,x=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return at(()=>(g(x),()=>w(x)),[g,w,x]),o.jsxs(o.Fragment,{children:[o.jsx(ne.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Oa.createPortal(a.children,i.valueNode):null]})});Tk.displayName=qi;var Rk="SelectItemIndicator",Ak=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Ek(Rk,n).isSelected?o.jsx(ne.span,{"aria-hidden":!0,...r,ref:t}):null});Ak.displayName=Rk;var Ap="SelectScrollUpButton",Ok=m.forwardRef((e,t)=>{const n=Ks(Ap,e.__scopeSelect),r=qv(Ap,e.__scopeSelect),[s,a]=m.useState(!1),i=ve(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Ik,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ok.displayName=Ap;var Op="SelectScrollDownButton",Mk=m.forwardRef((e,t)=>{const n=Ks(Op,e.__scopeSelect),r=qv(Op,e.__scopeSelect),[s,a]=m.useState(!1),i=ve(t,r.onScrollButtonChange);return at(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(Ik,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Mk.displayName=Op;var Ik=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Ks("SelectScrollButton",n),i=m.useRef(null),l=Rf(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),at(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:z(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:z(s.onPointerLeave,()=>{c()})})}),N8="SelectSeparator",$k=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ne.div,{"aria-hidden":!0,...r,ref:t})});$k.displayName=N8;var Mp="SelectArrow",k8=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Af(n),a=qs(Mp,n),i=Ks(Mp,n);return a.open&&i.position==="popper"?o.jsx(rf,{...s,...r,ref:t}):null});k8.displayName=Mp;function Dk(e){return e===""||e===void 0}var Lk=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),a=ve(t,s),i=Vv(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[i,n]),o.jsx(Xl,{asChild:!0,children:o.jsx("select",{...r,ref:a,defaultValue:n})})});Lk.displayName="BubbleSelect";function Fk(e){const t=Ve(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Uk(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=E8(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function E8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var P8=hk,Bk=pk,T8=vk,R8=yk,A8=xk,zk=wk,O8=jk,Hk=kk,Wk=Pk,M8=Tk,I8=Ak,Vk=Ok,Gk=Mk,qk=$k;const $t=P8,Dt=T8,St=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Bk,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(R8,{asChild:!0,children:o.jsx(ri,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=Bk.displayName;const Kk=m.forwardRef(({className:e,...t},n)=>o.jsx(Vk,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(U_,{className:"h-4 w-4"})}));Kk.displayName=Vk.displayName;const Yk=m.forwardRef(({className:e,...t},n)=>o.jsx(Gk,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ri,{className:"h-4 w-4"})}));Yk.displayName=Gk.displayName;const jt=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(A8,{children:o.jsxs(zk,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(Kk,{}),o.jsx(O8,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Yk,{})]})}));jt.displayName=zk.displayName;const $8=m.forwardRef(({className:e,...t},n)=>o.jsx(Hk,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$8.displayName=Hk.displayName;const ge=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Wk,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(I8,{children:o.jsx(ni,{className:"h-4 w-4"})})}),o.jsx(M8,{children:t})]}));ge.displayName=Wk.displayName;const D8=m.forwardRef(({className:e,...t},n)=>o.jsx(qk,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));D8.displayName=qk.displayName;var Kv="Checkbox",[L8,m7]=jn(Kv),[F8,U8]=L8(Kv),Qk=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,v]=m.useState(null),x=ve(t,_=>v(_)),g=m.useRef(!1),w=h?d||!!h.closest("form"):!0,[y=!1,p]=Gt({prop:s,defaultProp:a,onChange:u}),b=m.useRef(y);return m.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>p(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,p]),o.jsxs(F8,{scope:n,state:y,disabled:l,children:[o.jsx(ne.button,{type:"button",role:"checkbox","aria-checked":Rs(y)?"mixed":y,"aria-required":i,"data-state":Zk(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:z(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:z(e.onClick,_=>{p(S=>Rs(S)?!0:!S),w&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),w&&o.jsx(B8,{control:h,bubbles:!g.current,name:r,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Rs(a)?!1:a})]})});Qk.displayName=Kv;var Xk="CheckboxIndicator",Jk=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=U8(Xk,n);return o.jsx(ht,{present:r||Rs(a.state)||a.state===!0,children:o.jsx(ne.span,{"data-state":Zk(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Jk.displayName=Xk;var B8=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,i=m.useRef(null),l=Vv(n),c=rv(t);m.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&v){const x=new Event("click",{bubbles:r});d.indeterminate=Rs(n),v.call(d,Rs(n)?!1:n),d.dispatchEvent(x)}},[l,n,r]);const u=m.useRef(Rs(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rs(e){return e==="indeterminate"}function Zk(e){return Rs(e)?"indeterminate":e?"checked":"unchecked"}var eE=Qk,z8=Jk;const bt=m.forwardRef(({className:e,...t},n)=>o.jsx(eE,{ref:n,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(z8,{className:re("flex items-center justify-center text-current"),children:o.jsx(ni,{className:"h-4 w-4"})})}));bt.displayName=eE.displayName;function H8(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:v,...x}=f,g=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:w,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,x=m.useContext(v);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,W8(s,...t)]}function W8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var V8="Toggle",Yv=m.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...a}=e,[i=!1,l]=Gt({prop:n,onChange:s,defaultProp:r});return o.jsx(ne.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:z(e.onClick,()=>{e.disabled||l(!i)})})});Yv.displayName=V8;var tE=Yv,yi="ToggleGroup",[nE,p7]=H8(yi,[mi]),rE=mi(),Qv=P.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const s=r;return o.jsx(G8,{...s,ref:t})}if(n==="multiple"){const s=r;return o.jsx(q8,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${yi}\``)});Qv.displayName=yi;var[sE,aE]=nE(yi),G8=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[i,l]=Gt({prop:n,defaultProp:r,onChange:s});return o.jsx(sE,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:l,onItemDeactivate:P.useCallback(()=>l(""),[l]),children:o.jsx(oE,{...a,ref:t})})}),q8=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[i=[],l]=Gt({prop:n,defaultProp:r,onChange:s}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(sE,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:o.jsx(oE,{...a,ref:t})})});Qv.displayName=yi;var[K8,Y8]=nE(yi),oE=P.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:a,dir:i,loop:l=!0,...c}=e,u=rE(n),d=hi(i),f={role:"group",dir:d,...c};return o.jsx(K8,{scope:n,rovingFocus:s,disabled:r,children:s?o.jsx(bv,{asChild:!0,...u,orientation:a,dir:d,loop:l,children:o.jsx(ne.div,{...f,ref:t})}):o.jsx(ne.div,{...f,ref:t})})}),kd="ToggleGroupItem",iE=P.forwardRef((e,t)=>{const n=aE(kd,e.__scopeToggleGroup),r=Y8(kd,e.__scopeToggleGroup),s=rE(e.__scopeToggleGroup),a=n.value.includes(e.value),i=r.disabled||e.disabled,l={...e,pressed:a,disabled:i},c=P.useRef(null);return r.rovingFocus?o.jsx(_v,{asChild:!0,...s,focusable:!i,active:a,ref:c,children:o.jsx(fw,{...l,ref:t})}):o.jsx(fw,{...l,ref:t})});iE.displayName=kd;var fw=P.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...s}=e,a=aE(kd,n),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?i:void 0;return o.jsx(Yv,{...l,...s,ref:t,onPressedChange:c=>{c?a.onItemActivate(r):a.onItemDeactivate(r)}})}),lE=Qv,cE=iE;const uE=Jl("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Q8=m.forwardRef(({className:e,variant:t,size:n,...r},s)=>o.jsx(tE,{ref:s,className:re(uE({variant:t,size:n,className:e})),...r}));Q8.displayName=tE.displayName;const dE=m.createContext({size:"default",variant:"default"}),Xv=m.forwardRef(({className:e,variant:t,size:n,children:r,...s},a)=>o.jsx(lE,{ref:a,className:re("flex items-center justify-center gap-1",e),...s,children:o.jsx(dE.Provider,{value:{variant:t,size:n},children:r})}));Xv.displayName=lE.displayName;const _s=m.forwardRef(({className:e,children:t,variant:n,size:r,...s},a)=>{const i=m.useContext(dE);return o.jsx(cE,{ref:a,className:re(uE({variant:i.variant||n,size:i.size||r}),e),...s,children:t})});_s.displayName=cE.displayName;const X8=["No response delays","Traffic","Weather conditions","Distance","Scene not secured","Change of location","Multiple calls","Vehicle issues","Staffing issues","Delayed notification","Other"],J8=["Male","Female","Other","Unknown"],Z8=["Shortness of breath","Chest pain","Altered mental status","Unconscious","Cardiac arrest","Abdominal pain","Trauma","Seizure","Stroke symptoms","Allergic reaction","Syncope","Behavioral/psychiatric","Overdose/poisoning","Diabetic emergency","Fall","Pain (other)","Bleeding (non-traumatic)","Weakness","Dizziness","Fever"],eU=["< 1 hour","1-3 hours","3-6 hours","6-12 hours","12-24 hours","1 day","2 days","3 days","4 days","5 days","6 days","1 week","2 weeks","1 month","> 1 month"],tU=["Position of comfort","Supine","Semi-Fowler's","Fowler's","Lateral recumbent","Recovery position","Trendelenburg","Reverse Trendelenburg","Seated"],nU=["D.R.A.T.T.","S.O.A.P.","C.H.A.R.T."],iu=["Headache","Nausea","Vomiting","Abdominal pain","Diarrhea","Chest pain","Stroke-like symptoms","Dizziness","Vision changes","Shortness of breath","Fever","Chills","Back pain","Joint pain","Rash","Swelling","Bleeding","Syncope","Weakness","Numbness/tingling","Other medical complaints"],rU=["Hypertensive","Hypotensive","Tachycardic","Bradycardic","Tachypneic","Bradypneic","Febrile","Hypothermic","Hypoxic","Hyperglycemic","Hypoglycemic"],Kh={unit:"",dispatch_reason:"",response_delay:"No response delays",response_delay_custom:"",patient_sex:"",patient_age:"",chief_complaint:"",duration:"",patient_presentation:"",aao_person:!0,aao_place:!0,aao_time:!0,aao_event:!0,is_unresponsive:!1,gcs_score:"15",pupils:"PERRL",selected_pertinent_negatives:[],unable_to_obtain_negatives:!1,vital_signs_normal:!0,selected_abnormal_vitals:[],all_other_vitals_normal:!0,dcap_btls:!0,additional_assessment:"",treatment_provided:"",add_protocol_treatments:!1,protocol_exclusions:"",refused_transport:!1,refusal_details:"",transport_destination:"",transport_position:"Position of comfort",room_number:"",nurse_name:"",unit_in_service:!0,format_type:"D.R.A.T.T.",use_abbreviations:!0,include_headers:!0,default_unit:"",default_hospital:"",custom_format:""},sU=({onGenerateNarrative:e,onSavePreset:t,loadPreset:n,activeTab:r="dispatch",onTabChange:s,settings:a})=>{const[i,l]=m.useState(Kh);m.useEffect(()=>{if(n){const p={...Kh,...n,selected_pertinent_negatives:n.selected_pertinent_negatives||[],selected_abnormal_vitals:n.selected_abnormal_vitals||[]};l(p)}else{const p=localStorage.getItem("narrative_draft");if(p)try{const b=JSON.parse(p),_={...Kh,...b,selected_pertinent_negatives:b.selected_pertinent_negatives||[],selected_abnormal_vitals:b.selected_abnormal_vitals||[]};l(_)}catch(b){console.error("Failed to parse saved draft",b)}}},[n]),m.useEffect(()=>{a&&l(p=>({...p,format_type:a.format_type,use_abbreviations:a.use_abbreviations,include_headers:a.include_headers,default_unit:a.default_unit,default_hospital:a.default_hospital,custom_format:a.custom_format}))},[a]),m.useEffect(()=>{!i.unit&&i.default_unit&&l(p=>({...p,unit:p.default_unit})),!i.transport_destination&&i.default_hospital&&l(p=>({...p,transport_destination:p.default_hospital}))},[i.default_unit,i.default_hospital]);const c=(p,b)=>{l(_=>({..._,[p]:b}))},u=p=>{l(b=>{const _=b.selected_pertinent_negatives||[];return _.includes(p)?{...b,selected_pertinent_negatives:_.filter(S=>S!==p)}:{...b,selected_pertinent_negatives:[..._,p]}})},d=p=>{l(b=>({...b,selected_pertinent_negatives:p?[...iu]:[]}))},f=p=>{l(b=>{const _=b.selected_abnormal_vitals||[];return _.includes(p)?{...b,selected_abnormal_vitals:_.filter(S=>S!==p)}:{...b,selected_abnormal_vitals:[..._,p]}})},h=()=>{l(p=>({...p,aao_person:!0,aao_place:!0,aao_time:!0,aao_event:!0,is_unresponsive:!1,gcs_score:"15",pupils:"PERRL",selected_pertinent_negatives:[...iu],unable_to_obtain_negatives:!1,vital_signs_normal:!0,selected_abnormal_vitals:[],all_other_vitals_normal:!0,dcap_btls:!0,additional_assessment:""}))},v=()=>{l(p=>({...p,aao_person:!1,aao_place:!1,aao_time:!1,aao_event:!1,is_unresponsive:!0,gcs_score:"3",pupils:"Unreactive",selected_pertinent_negatives:[],unable_to_obtain_negatives:!0,vital_signs_normal:!1,selected_abnormal_vitals:["Hypotensive","Tachycardic","Tachypneic","Hypoxic"],all_other_vitals_normal:!1,dcap_btls:!1,additional_assessment:"Patient in critical condition requiring immediate intervention."}))},x=p=>{l(p?b=>({...b,is_unresponsive:!0,aao_person:!1,aao_place:!1,aao_time:!1,aao_event:!1,unable_to_obtain_negatives:!0}):b=>({...b,is_unresponsive:!1,unable_to_obtain_negatives:!1}))},g=()=>{e(i)},w=()=>{t(i),nt.success("Preset saved successfully")},y=p=>{s&&s(p)};return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs(cN,{children:[o.jsx(uN,{asChild:!0,children:o.jsxs(U,{variant:"outline",size:"sm",children:["Quick Prefill ",o.jsx(ri,{className:"h-4 w-4 ml-1"})]})}),o.jsxs(Rv,{children:[o.jsx(ba,{onClick:h,children:"Normal Findings"}),o.jsx(ba,{onClick:v,children:"Critical Findings"}),o.jsx(ba,{onClick:w,children:"Save Current as Preset"})]})]}),o.jsx(U,{size:"sm",onClick:g,children:"Generate Narrative"})]}),o.jsxs(gi,{value:r,onValueChange:y,className:"w-full",children:[o.jsxs(Us,{className:"w-full justify-start overflow-auto",children:[o.jsx(De,{value:"dispatch",children:"Dispatch"}),o.jsx(De,{value:"response",children:"Response"}),o.jsx(De,{value:"arrival",children:"Arrival"}),o.jsx(De,{value:"assessment",children:"Assessment"}),o.jsx(De,{value:"treatment",children:"Treatment"}),o.jsx(De,{value:"transport",children:"Transport"})]}),o.jsx(Fe,{value:"dispatch",className:"pt-2 space-y-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"unit",children:"🔹 Unit"}),o.jsx(ce,{id:"unit",placeholder:"Enter unit designation",value:i.unit,onChange:p=>c("unit",p.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"dispatch_reason",children:"🔹 Dispatched for"}),o.jsx(ce,{id:"dispatch_reason",placeholder:"Chief complaint from dispatch",value:i.dispatch_reason,onChange:p=>c("dispatch_reason",p.target.value)})]})]})}),o.jsxs(Fe,{value:"response",className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"response_delay",children:"🔹 Response Information"}),o.jsxs($t,{value:i.response_delay,onValueChange:p=>c("response_delay",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select response status"})}),o.jsx(jt,{children:X8.map(p=>o.jsx(ge,{value:p,children:p},p))})]})]}),i.response_delay==="Other"&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"response_delay_custom",children:"Specify reason"}),o.jsx(et,{id:"response_delay_custom",placeholder:"Enter the reason for the response delay",value:i.response_delay_custom,onChange:p=>c("response_delay_custom",p.target.value)})]})]}),o.jsxs(Fe,{value:"arrival",className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"patient_sex",children:"🔹 Patient Sex"}),o.jsxs($t,{value:i.patient_sex,onValueChange:p=>c("patient_sex",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select sex"})}),o.jsx(jt,{children:J8.map(p=>o.jsx(ge,{value:p,children:p},p))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"patient_age",children:"🔹 Patient Age"}),o.jsx(ce,{id:"patient_age",placeholder:"Enter age",value:i.patient_age,onChange:p=>c("patient_age",p.target.value)})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"chief_complaint",children:"🔹 Chief Complaint / Presenting Problem"}),o.jsxs($t,{value:i.chief_complaint,onValueChange:p=>c("chief_complaint",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select chief complaint"})}),o.jsx(jt,{children:Z8.map(p=>o.jsx(ge,{value:p,children:p},p))})]}),o.jsx(ce,{className:"mt-1",placeholder:"Or type custom chief complaint",value:i.chief_complaint,onChange:p=>c("chief_complaint",p.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"duration",children:"🔹 Duration of symptoms prior to arrival"}),o.jsxs($t,{value:i.duration,onValueChange:p=>c("duration",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select duration"})}),o.jsx(jt,{children:eU.map(p=>o.jsx(ge,{value:p,children:p},p))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"patient_presentation",children:"🔹 Relevant Patient Information"}),o.jsx(et,{id:"patient_presentation",placeholder:"Describe presentation, statements made by the patient, or any observations that help paint the picture.",value:i.patient_presentation,onChange:p=>c("patient_presentation",p.target.value),rows:3})]})]}),o.jsxs(Fe,{value:"assessment",className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(R,{className:"text-sm font-medium",children:"🔹 Mental Status Assessment"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:h,children:"Set Normal Findings"}),o.jsx(U,{variant:"outline",size:"sm",onClick:v,className:"text-destructive border-destructive hover:bg-destructive/10",children:"Set Critical Findings"})]})]}),o.jsxs("div",{className:"p-3 border rounded-md space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(bt,{id:"unresponsive",checked:i.is_unresponsive,onCheckedChange:p=>x(p===!0)}),o.jsx(R,{htmlFor:"unresponsive",className:"font-medium text-destructive",children:"Patient Unresponsive"})]}),!i.is_unresponsive&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{className:"text-sm",children:"Orientation Status (AAO)"}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:o.jsxs(Xv,{type:"multiple",className:"justify-start",children:[o.jsx(_s,{value:"person","aria-label":"Toggle Person","data-state":i.aao_person?"on":"off",onClick:()=>c("aao_person",!i.aao_person),children:"Person"}),o.jsx(_s,{value:"place","aria-label":"Toggle Place","data-state":i.aao_place?"on":"off",onClick:()=>c("aao_place",!i.aao_place),children:"Place"}),o.jsx(_s,{value:"time","aria-label":"Toggle Time","data-state":i.aao_time?"on":"off",onClick:()=>c("aao_time",!i.aao_time),children:"Time"}),o.jsx(_s,{value:"event","aria-label":"Toggle Event","data-state":i.aao_event?"on":"off",onClick:()=>c("aao_event",!i.aao_event),children:"Event"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"gcs_score",children:"GCS Score"}),o.jsxs($t,{value:i.gcs_score,onValueChange:p=>c("gcs_score",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select GCS"})}),o.jsx(jt,{children:Array.from({length:13},(p,b)=>(b+3).toString()).map(p=>o.jsx(ge,{value:p,children:p},p))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"pupils",children:"Pupils"}),o.jsxs($t,{value:i.pupils,onValueChange:p=>c("pupils",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select pupil response"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"PERRL",children:"PERRL"}),o.jsx(ge,{value:"PERRLA",children:"PERRLA"}),o.jsx(ge,{value:"Sluggish",children:"Sluggish"}),o.jsx(ge,{value:"Unreactive",children:"Unreactive"}),o.jsx(ge,{value:"Unequal",children:"Unequal"})]})]})]})]})]})]}),o.jsxs("div",{className:"p-3 border rounded-md space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(R,{className:"text-sm font-medium",children:"🔹 Pertinent Negatives"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"select_all_negatives",checked:i.selected_pertinent_negatives.length===iu.length,onCheckedChange:p=>d(p===!0),disabled:i.unable_to_obtain_negatives}),o.jsx(R,{htmlFor:"select_all_negatives",className:"text-xs",children:"Select All"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(bt,{id:"unable_obtain_negatives",checked:i.unable_to_obtain_negatives,onCheckedChange:p=>c("unable_to_obtain_negatives",p===!0)}),o.jsx(R,{htmlFor:"unable_obtain_negatives",className:"text-sm",children:"Unable to obtain (patient unresponsive/unable to communicate)"})]}),!i.unable_to_obtain_negatives&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-1 mt-2",children:iu.map(p=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:`negative-${p}`,checked:i.selected_pertinent_negatives.includes(p),onCheckedChange:()=>u(p)}),o.jsx(R,{htmlFor:`negative-${p}`,className:"text-xs",children:p})]},p))})]}),o.jsxs("div",{className:"p-3 border rounded-md space-y-3",children:[o.jsx(R,{className:"text-sm font-medium",children:"🔹 Vital Signs"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"vitals_normal",checked:i.vital_signs_normal,onCheckedChange:p=>{const b=p===!0;c("vital_signs_normal",b),b&&c("selected_abnormal_vitals",[])}}),o.jsx(R,{htmlFor:"vitals_normal",className:"text-sm",children:"Vital signs checked and within normal limits for the patient."})]}),!i.vital_signs_normal&&o.jsxs(o.Fragment,{children:[o.jsx(R,{className:"text-sm",children:"Abnormal Vital Signs"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-1",children:rU.map(p=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:`vitals-${p}`,checked:i.selected_abnormal_vitals.includes(p),onCheckedChange:()=>f(p)}),o.jsx(R,{htmlFor:`vitals-${p}`,className:"text-xs",children:p})]},p))}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(bt,{id:"all_other_vitals_normal",checked:i.all_other_vitals_normal,onCheckedChange:p=>c("all_other_vitals_normal",p===!0)}),o.jsx(R,{htmlFor:"all_other_vitals_normal",className:"text-sm",children:"All other vital signs within normal limits"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"dcap_btls",checked:i.dcap_btls,onCheckedChange:p=>c("dcap_btls",p===!0)}),o.jsx(R,{htmlFor:"dcap_btls",className:"text-sm",children:"🔹 Full assessment performed; no DCAP-BTLS noted throughout the body."})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"additional_assessment",children:"🔹 Additional assessment findings (if any)"}),o.jsx(et,{id:"additional_assessment",placeholder:"Optional—add any pertinent details",value:i.additional_assessment,onChange:p=>c("additional_assessment",p.target.value),rows:2})]})]}),o.jsxs(Fe,{value:"treatment",className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"treatment_provided",children:"🔹 Treatment provided"}),o.jsx(et,{id:"treatment_provided",placeholder:"Briefly describe any treatments provided; AI will enhance the details for clarity and completeness.",value:i.treatment_provided,onChange:p=>c("treatment_provided",p.target.value),rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(bt,{id:"add_protocol_treatments",checked:i.add_protocol_treatments,onCheckedChange:p=>c("add_protocol_treatments",p===!0)}),o.jsx(R,{htmlFor:"add_protocol_treatments",children:"Add medications and dosages along with any other recommended treatments per protocol"})]}),i.add_protocol_treatments&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"protocol_exclusions",children:"Specific treatments to exclude"}),o.jsx(et,{id:"protocol_exclusions",placeholder:"List any protocol treatments that were not performed and why (e.g., criteria not met)",value:i.protocol_exclusions,onChange:p=>c("protocol_exclusions",p.target.value),rows:2})]})]}),o.jsxs(Fe,{value:"transport",className:"pt-2 space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(bt,{id:"refused_transport",checked:i.refused_transport,onCheckedChange:p=>c("refused_transport",p===!0)}),o.jsx(R,{htmlFor:"refused_transport",className:"text-red-500 font-medium",children:"🛑 Did the patient refuse transport?"})]}),i.refused_transport?o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"refusal_details",children:"🔹 Refusal details (optional)"}),o.jsx(et,{id:"refusal_details",placeholder:"Add any specific details about the refusal (AI will generate a full refusal summary)",value:i.refusal_details,onChange:p=>c("refusal_details",p.target.value),rows:3})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"transport_destination",children:"🔹 Transported to"}),o.jsx(ce,{id:"transport_destination",placeholder:"Enter hospital or facility",value:i.transport_destination,onChange:p=>c("transport_destination",p.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"transport_position",children:"🔹 Transport Position"}),o.jsxs($t,{value:i.transport_position,onValueChange:p=>c("transport_position",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select position"})}),o.jsx(jt,{children:tU.map(p=>o.jsx(ge,{value:p,children:p},p))})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"monitored",checked:!0,disabled:!0}),o.jsx(R,{htmlFor:"monitored",children:"🔹 Patient monitored en route with vitals reassessed."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"room_number",children:"🔹 Patient left in Room #"}),o.jsx(ce,{id:"room_number",placeholder:"Enter room number",value:i.room_number,onChange:p=>c("room_number",p.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"nurse_name",children:"🔹 Patient turned over to RN"}),o.jsx(ce,{id:"nurse_name",placeholder:"Enter nurse name",value:i.nurse_name,onChange:p=>c("nurse_name",p.target.value)})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(bt,{id:"unit_in_service",checked:i.unit_in_service,onCheckedChange:p=>c("unit_in_service",p===!0)}),o.jsxs(R,{htmlFor:"unit_in_service",children:["🔹 Unit ",i.unit||i.default_unit," returned in service."]})]})]}),o.jsx(Fe,{value:"settings",className:"pt-2 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"default_unit",children:"Default Unit"}),o.jsx(ce,{id:"default_unit",placeholder:"Enter default unit designation",value:i.default_unit,onChange:p=>c("default_unit",p.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"default_hospital",children:"Default Hospital"}),o.jsx(ce,{id:"default_hospital",placeholder:"Enter default hospital name",value:i.default_hospital,onChange:p=>c("default_hospital",p.target.value)})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(R,{htmlFor:"format_type",children:"Narrative Format"}),o.jsxs($t,{value:i.format_type,onValueChange:p=>c("format_type",p),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select format"})}),o.jsxs(jt,{children:[nU.map(p=>o.jsx(ge,{value:p,children:p},p)),o.jsx(ge,{value:"custom",children:"Custom"})]})]}),i.format_type==="custom"&&o.jsx(ce,{className:"mt-1",placeholder:"Enter custom format name",value:i.custom_format,onChange:p=>c("custom_format",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"abbreviations",checked:i.use_abbreviations,onCheckedChange:p=>c("use_abbreviations",p)}),o.jsx(R,{htmlFor:"abbreviations",children:"Use EMS Abbreviations"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"headers",checked:i.include_headers,onCheckedChange:p=>c("include_headers",p)}),o.jsx(R,{htmlFor:"headers",children:"Include Section Headers"})]})]})]})]})})]})]})},aU=["D.R.A.T.T.","S.O.A.P.","C.H.A.R.T."],fE=({initialSettings:e,onSave:t,onClose:n})=>{const[r,s]=m.useState(e);m.useEffect(()=>{s(e)},[e]);const a=(l,c)=>{s(u=>({...u,[l]:c}))},i=()=>{t(r),n()};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-medium",children:"Narrative Settings"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"default_unit",children:"Default Unit"}),o.jsx(ce,{id:"default_unit",placeholder:"Enter default unit designation",value:r.default_unit,onChange:l=>a("default_unit",l.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"default_hospital",children:"Default Hospital"}),o.jsx(ce,{id:"default_hospital",placeholder:"Enter default hospital name",value:r.default_hospital,onChange:l=>a("default_hospital",l.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"format_type",children:"Narrative Format"}),o.jsxs($t,{value:r.format_type,onValueChange:l=>a("format_type",l),children:[o.jsx(St,{children:o.jsx(Dt,{placeholder:"Select format"})}),o.jsxs(jt,{children:[aU.map(l=>o.jsx(ge,{value:l,children:l},l)),o.jsx(ge,{value:"custom",children:"Custom"})]})]}),r.format_type==="custom"&&o.jsx(ce,{className:"mt-1",placeholder:"Enter custom format name",value:r.custom_format,onChange:l=>a("custom_format",l.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"abbreviations",checked:r.use_abbreviations,onCheckedChange:l=>a("use_abbreviations",l)}),o.jsx(R,{htmlFor:"abbreviations",children:"Use EMS Abbreviations"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"headers",checked:r.include_headers,onCheckedChange:l=>a("include_headers",l)}),o.jsx(R,{htmlFor:"headers",children:"Include Section Headers"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx(U,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(U,{onClick:i,children:"Save Settings"})]})]})};var Jv="Popover",[hE,g7]=jn(Jv,[Ws]),pc=Ws(),[oU,Ys]=hE(Jv),mE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=pc(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=Gt({prop:r,defaultProp:s,onChange:a});return o.jsx(tf,{...l,children:o.jsx(oU,{scope:t,contentId:xn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(v=>!v),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:n})})};mE.displayName=Jv;var pE="PopoverAnchor",iU=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ys(pE,n),a=pc(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(nc,{...a,...r,ref:t})});iU.displayName=pE;var gE="PopoverTrigger",vE=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ys(gE,n),a=pc(n),i=ve(t,s.triggerRef),l=o.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_E(s.open),...r,ref:i,onClick:z(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(nc,{asChild:!0,...a,children:l})});vE.displayName=gE;var Zv="PopoverPortal",[lU,cU]=hE(Zv,{forceMount:void 0}),yE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=Ys(Zv,t);return o.jsx(lU,{scope:t,forceMount:n,children:o.jsx(ht,{present:n||a.open,children:o.jsx(ti,{asChild:!0,container:s,children:r})})})};yE.displayName=Zv;var Qo="PopoverContent",xE=m.forwardRef((e,t)=>{const n=cU(Qo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=Ys(Qo,e.__scopePopover);return o.jsx(ht,{present:r||a.open,children:a.modal?o.jsx(uU,{...s,ref:t}):o.jsx(dU,{...s,ref:t})})});xE.displayName=Qo;var uU=m.forwardRef((e,t)=>{const n=Ys(Qo,e.__scopePopover),r=m.useRef(null),s=ve(t,r),a=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return Nf(i)},[]),o.jsx(cc,{as:Gr,allowPinchZoom:!0,children:o.jsx(wE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:z(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:z(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),dU=m.forwardRef((e,t)=>{const n=Ys(Qo,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(wE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),wE=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ys(Qo,n),v=pc(n);return jf(),o.jsx(lc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Ia,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(nf,{"data-state":_E(h.open),role:"dialog",id:h.contentId,...v,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bE="PopoverClose",fU=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ys(bE,n);return o.jsx(ne.button,{type:"button",...r,ref:t,onClick:z(e.onClick,()=>s.onOpenChange(!1))})});fU.displayName=bE;var hU="PopoverArrow",mU=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pc(n);return o.jsx(rf,{...s,...r,ref:t})});mU.displayName=hU;function _E(e){return e?"open":"closed"}var pU=mE,gU=vE,vU=yE,SE=xE;const jE=pU,CE=gU,ey=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(vU,{children:o.jsx(SE,{ref:s,align:t,sideOffset:n,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ey.displayName=SE.displayName;const yU=({chiefComplaint:e})=>{const[t,n]=m.useState([]),[r,s]=m.useState(!1);m.useEffect(()=>{if(!e)return;const i=c=>{const u=/chief complaint of (.*?)( for|\.|,)/i,d=c.match(u);return d?d[1].trim():""};(async()=>{s(!0);try{const c=i(e).toLowerCase();await new Promise(u=>setTimeout(u,1e3)),c.includes("chest pain")?n([{id:"p1",title:"Chest Pain Protocol",description:"Follow the chest pain protocol including ECG, aspirin, and nitroglycerin assessment.",suggestion:"Nitro not documented - check blood pressure or contraindications?"},{id:"p2",title:"Cardiac Protocol",description:"Cardiac monitoring and assessment guidelines."}]):c.includes("breath")||c.includes("breathing")?n([{id:"p3",title:"Respiratory Distress Protocol",description:"Assessment and interventions for respiratory distress.",suggestion:"Consider documenting SpO2 readings pre and post intervention."}]):c.includes("fall")?n([{id:"p4",title:"Fall Assessment Protocol",description:"Trauma assessment for falls including c-spine precautions.",suggestion:"Spinal immobilization criteria not documented."}]):e.includes("trauma")||e.includes("injury")?n([{id:"p5",title:"Trauma Protocol",description:"Major trauma assessment and interventions."}]):n([{id:"p6",title:"General Assessment Protocol",description:"Standard assessment guidelines for all patients."}])}catch(c){console.error("Error fetching protocols:",c)}finally{s(!1)}})()},[e]);const a=i=>{Z5()&&"vibrate"in navigator&&navigator.vibrate(10),nt.success(`Suggestion added: ${i}`)};return r?o.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})}):t.length===0?o.jsx("div",{className:"p-4 text-center text-sm text-gray-500 rounded-lg",role:"alert","aria-live":"polite",children:"No relevant protocols found. Generate a narrative to see related protocols."}):o.jsx("div",{className:"space-y-4 px-2 py-2",role:"region","aria-label":"Protocol recommendations",children:t.map(i=>o.jsxs("div",{className:"p-3 rounded-md border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",role:"article",children:[o.jsxs("div",{className:"font-medium text-sm flex items-center gap-2",children:[o.jsx(z_,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),o.jsx("span",{children:i.title})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:i.description}),i.suggestion&&o.jsxs("div",{className:"mt-3 text-sm bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800/50 rounded-md p-2.5",children:[o.jsxs("div",{className:"flex gap-2 items-start",children:[o.jsx(Zl,{className:"h-4 w-4 text-yellow-500 flex-shrink-0 mt-0.5","aria-hidden":"true"}),o.jsx("div",{className:"flex-1",children:i.suggestion})]}),o.jsxs(U,{variant:"outline",size:"sm",className:"mt-2 h-10 text-sm w-full",onClick:()=>a(i.suggestion),"aria-label":`Add suggestion: ${i.suggestion}`,children:[o.jsx(_r,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Add to Narrative"]})]})]},i.id))})},hw={unit:"",dispatch_reason:"",response_delay:"No response delays",response_delay_custom:"",patient_sex:"",patient_age:"",chief_complaint:"",duration:"",patient_presentation:"",aao_person:!0,aao_place:!0,aao_time:!0,aao_event:!0,is_unresponsive:!1,gcs_score:"15",pupils:"PERRL",selected_pertinent_negatives:[],unable_to_obtain_negatives:!1,vital_signs_normal:!0,selected_abnormal_vitals:[],all_other_vitals_normal:!0,dcap_btls:!0,additional_assessment:"",treatment_provided:"",add_protocol_treatments:!1,protocol_exclusions:"",refused_transport:!1,refusal_details:"",transport_destination:"",transport_position:"Position of comfort",room_number:"",nurse_name:"",unit_in_service:!0,format_type:"D.R.A.T.T.",use_abbreviations:!0,include_headers:!0,default_unit:"",default_hospital:"",custom_format:""},xU=()=>{var pe;const e=Un(),[t,n]=m.useState(""),[r,s]=m.useState([]),[a,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!0),[f,h]=m.useState("dispatch"),[v,x]=m.useState([]),[g,w]=m.useState(void 0),[y,p]=m.useState(!1),[b,_]=m.useState({format_type:"D.R.A.T.T.",use_abbreviations:!0,include_headers:!0,default_unit:"",default_hospital:"",custom_format:""}),[S,C]=m.useState(!1),[j,N]=m.useState(!1),[E,M]=m.useState(null),[T,I]=m.useState("");m.useEffect(()=>{r.length===0&&K()},[]),m.useEffect(()=>{if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){const O=window.SpeechRecognition||window.webkitSpeechRecognition,Q=new O;Q.continuous=!0,Q.interimResults=!0,Q.onresult=D=>{let Y="";for(let Te=D.resultIndex;Te<D.results.length;Te++){const $=D.results[Te][0].transcript;D.results[Te].isFinal&&(Y+=$)}Y?(n(Te=>Te+" "+Y),I("")):I(D.results[D.resultIndex][0].transcript)},Q.onerror=D=>{console.error("Speech recognition error",D.error),N(!1),nt.error("Speech recognition error: "+D.error)},Q.onend=()=>{j&&Q.start()},M(Q)}else nt.error("Speech recognition is not supported in this browser");return()=>{E&&(E.onend=null,E.abort())}},[j]);const q=()=>{E&&(j?(E.stop(),N(!1),I(""),nt.success("Voice input stopped")):(E.start(),N(!0),nt.success("Voice input started")))},F=()=>{const O=`session-${Date.now()}`,Q=new Date,D={id:O,name:`Session ${Wt(Q,"MMM d, yyyy hh:mm a")}`,date:Wt(Q,"MMM d, yyyy"),messages:[],active:!0};return s(Y=>[...Y.map($=>({...$,active:!1})),D]),O},K=()=>{const O=F();i(O),n(""),p(!1),w(void 0)},H=O=>{i(O),s(Q=>Q.map(D=>({...D,active:D.id===O}))),p(!1)},X=O=>{const Q=prompt("Enter a new name for this session");Q&&s(D=>D.map(Y=>Y.id===O?{...Y,name:Q}:Y))},k=O=>{if(confirm("Are you sure you want to delete this session?")&&(s(Q=>Q.filter(D=>D.id!==O)),a===O))if(r.length>1){const Q=r.filter(D=>D.id!==O);i(Q[0].id)}else K()},A=()=>{if(!t.trim())return;const O=Wt(new Date,"hh:mm a");W({type:"user",content:t,timestamp:O}),n(""),c(!0),setTimeout(()=>{V(t),c(!1)},1500)},W=O=>{a&&s(Q=>Q.map(D=>D.id===a?{...D,messages:[...D.messages,O]}:D))},V=O=>{const Q=Wt(new Date,"hh:mm a");if(O.toLowerCase().includes("generate")||O.toLowerCase().includes("create narrative")||O.toLowerCase().includes("new narrative")){J({...hw,...b});return}const D={type:"assistant",content:`I've received your message: "${O}". How can I help with your EMS narrative?`,timestamp:Q};W(D)},J=O=>{if(!a)return;const Q=Wt(new Date,"hh:mm a");let D=`EMS NARRATIVE REPORT

`;if(O){O.include_headers&&(D+=`=== DISPATCH ===
`),D+=`${O.unit||"Unit"} dispatched to ${O.dispatch_reason||"[location]"} for a medical emergency.

`,O.include_headers&&(D+=`=== RESPONSE ===
`),D+=`${O.response_delay!=="No response delays"?`Unit responded with delay due to ${O.response_delay_custom||O.response_delay||"unspecified reason"}.`:"Unit responded without delay."}

`,O.include_headers&&(D+=`=== ARRIVAL ===
`),D+=`Upon arrival, found ${O.patient_sex||""} ${O.patient_age||""} patient with chief complaint of ${O.chief_complaint||"[complaint]"} for ${O.duration||"unknown duration"}. ${O.patient_presentation||""}

`,O.include_headers&&(D+=`=== ASSESSMENT ===
`);let Te="";if(O.is_unresponsive)Te="Patient unresponsive. ";else{const $=[O.aao_person,O.aao_place,O.aao_time,O.aao_event].filter(Boolean).length;if(Te=`Patient was AAOx${$}`,$<4){const de=[];O.aao_person||de.push("person"),O.aao_place||de.push("place"),O.aao_time||de.push("time"),O.aao_event||de.push("event"),Te+=` (could not answer ${de.join(", ")} questions appropriately)`}Te+=`, GCS-${O.gcs_score}, ${O.pupils}. `}D+=Te,O.unable_to_obtain_negatives?D+="Unable to obtain pertinent negatives due to patient's condition. ":O.selected_pertinent_negatives&&O.selected_pertinent_negatives.length>0&&(D+=`Patient denied: ${O.selected_pertinent_negatives.join(", ")}. `),O.vital_signs_normal?D+="Vital signs checked and within normal limits for the patient. ":O.selected_abnormal_vitals&&O.selected_abnormal_vitals.length>0&&(D+=`Vital signs: Patient was ${O.selected_abnormal_vitals.join(", ")}. `,O.all_other_vitals_normal&&(D+="All other vital signs within normal limits. ")),O.dcap_btls&&(D+="Full assessment performed; no DCAP-BTLS noted throughout the body. "),O.additional_assessment?D+=`${O.additional_assessment}

`:D+=`

`,O.include_headers&&(D+=`=== TREATMENT ===
`),D+=`${O.treatment_provided||"No interventions required."}

`,O.add_protocol_treatments&&(D+="Additional treatments per protocol administered. ",O.protocol_exclusions?D+=`Protocol exclusions: ${O.protocol_exclusions}.

`:D+=`

`),O.include_headers&&(D+=`=== TRANSPORT ===
`),O.refused_transport?D+=`Patient refused transport. ${O.refusal_details||"Risks of refusal explained to patient who demonstrated understanding and signed refusal form."}

`:D+=`Patient transported to ${O.transport_destination||"[hospital]"} in ${O.transport_position||"position of comfort"}. Patient monitored en route with vitals reassessed. Patient left in Room #${O.room_number||"[room]"} and care transferred to RN ${O.nurse_name||"[name]"}.

`,O.unit_in_service&&(D+=`${O.unit||"Unit"} returned to service.`)}else D+="This is a sample narrative. To generate a custom narrative, please fill out the form fields below.";W({type:"assistant",content:D,timestamp:Q}),nt.success("Narrative generated successfully")},ie=O=>{const D={id:`preset-${Date.now()}`,name:`Preset ${Wt(new Date,"MMM d, yyyy hh:mm a")}`,data:O};x(Y=>[...Y,D]),localStorage.setItem("narrative_presets",JSON.stringify([...v,D])),nt.success("Preset saved successfully")},he=()=>{if(v.length===0){nt.error("No presets available");return}w(v[v.length-1].data),nt.success("Preset loaded")},Re=O=>{_(Q=>({...Q,...O})),localStorage.setItem("narrative_settings",JSON.stringify({...b,...O})),nt.success("Settings updated")},se=r.find(O=>O.id===a),Z=()=>{d(!u)},me=r.reduce((O,Q)=>{const D=Q.date;return O[D]||(O[D]=[]),O[D].push(Q),O},{});return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[o.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10",children:o.jsxs("div",{className:"container mx-auto py-4 px-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(U,{variant:"outline",size:"icon",className:"h-8 w-8 md:hidden",onClick:()=>p(!0),children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Sessions"})]}),o.jsxs(U,{variant:"outline",size:"icon",className:"h-8 w-8 hidden md:flex",onClick:Z,children:[u?o.jsx(F_,{className:"h-4 w-4"}):o.jsx(dd,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),o.jsx("h1",{className:"text-xl font-bold text-ems-600 dark:text-ems-400 truncate",children:(se==null?void 0:se.name)||"New Narrative"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(U,{variant:"outline",size:"sm",className:"hidden sm:flex items-center gap-1",onClick:K,children:[o.jsx(_r,{className:"h-4 w-4"}),"New Session"]}),o.jsxs(jE,{open:S,onOpenChange:C,children:[o.jsx(CE,{asChild:!0,children:o.jsxs(U,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[o.jsx(si,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})}),o.jsx(ey,{className:"w-80",children:o.jsx(fE,{initialSettings:b,onSave:Re,onClose:()=>C(!1)})})]}),o.jsxs(U,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]})]})}),o.jsxs("main",{className:"flex flex-1 overflow-hidden",children:[o.jsxs("div",{className:`hidden md:block ${u?"w-64":"w-0"} flex-shrink-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-300 ease-in-out`,children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"font-medium",children:"Sessions"}),o.jsxs(U,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:K,children:[o.jsx(_r,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"New Session"})]})]}),o.jsx("div",{className:"overflow-y-auto max-h-[50vh]",children:Object.entries(me).map(([O,Q])=>o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"px-4 py-1 text-xs font-medium text-gray-500",children:O}),Q.map(D=>o.jsxs("div",{className:`mx-2 px-3 py-2 rounded-md cursor-pointer flex justify-between items-center ${D.active?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>H(D.id),children:[o.jsx("div",{className:"truncate flex-1",children:D.name}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:Y=>{Y.stopPropagation(),X(D.id)},children:o.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500",onClick:Y=>{Y.stopPropagation(),k(D.id)},children:o.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H3.5C3.22386 4 3 3.77614 3 3.5ZM3 5.5C3 5.22386 3.22386 5 3.5 5H11.5C11.7761 5 12 5.22386 12 5.5C12 5.77614 11.7761 6 11.5 6H3.5C3.22386 6 3 5.77614 3 5.5ZM3 7.5C3 7.22386 3.22386 7 3.5 7H11.5C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8H3.5C3.22386 8 3 7.77614 3 7.5ZM3 9.5C3 9.22386 3.22386 9 3.5 9H11.5C11.7761 9 12 9.22386 12 9.5C12 9.77614 11.7761 10 11.5 10H3.5C3.22386 10 3 9.77614 3 9.5ZM3 11.5C3 11.2239 3.22386 11 3.5 11H11.5C11.7761 11 12 11.2239 12 11.5C12 11.7761 11.7761 12 11.5 12H3.5C3.22386 12 3 11.7761 3 11.5ZM3 13.5C3 13.2239 3.22386 13 3.5 13H11.5C11.7761 13 12 13.2239 12 13.5C12 13.7761 11.7761 14 11.5 14H3.5C3.22386 14 3 13.7761 3 13.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})]})]},D.id))]},O))}),o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("h2",{className:"font-medium mb-2",children:"Related Protocols"}),o.jsx(yU,{chiefComplaint:((pe=se==null?void 0:se.messages.find(O=>O.type==="assistant"))==null?void 0:pe.content)||""})]})]}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden p-4",children:o.jsx(qt,{className:"flex-1 flex flex-col mb-4 overflow-hidden",children:o.jsxs(an,{className:"p-0 flex-1 flex flex-col",children:[o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(kp,{messages:(se==null?void 0:se.messages)||[],onSavePreset:he})}),o.jsxs(pN,{className:"w-full",children:[o.jsx("div",{className:"p-4 pb-0",children:o.jsx(gN,{asChild:!0,children:o.jsxs(U,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",children:["Narrative Settings & Fields",o.jsx(dd,{className:"h-4 w-4 ml-1"})]})})}),o.jsx(vN,{children:o.jsx("div",{className:"p-4 pt-0",children:o.jsx(sU,{onGenerateNarrative:J,onSavePreset:ie,loadPreset:g,activeTab:f,onTabChange:h,settings:b})})})]}),o.jsxs("div",{className:"flex p-4 gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(et,{value:t,onChange:O=>n(O.target.value),placeholder:j?"Listening...":"Type your message here...",className:`min-h-[60px] ${j?"pr-10":""}`,onKeyDown:O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),A())}}),T&&o.jsx("div",{className:"absolute bottom-full left-0 right-0 bg-gray-100 dark:bg-gray-800 p-2 rounded-t-md text-sm",children:T})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(U,{onClick:q,variant:j?"default":"outline",className:`flex-1 ${j?"bg-red-500 hover:bg-red-600":""}`,title:j?"Stop recording":"Start voice recording",children:j?o.jsx(V_,{className:"h-4 w-4"}):o.jsx(G_,{className:"h-4 w-4"})}),o.jsx(U,{onClick:A,disabled:l||!t.trim(),className:"flex-1",children:l?"...":o.jsx(NA,{className:"h-4 w-4"})}),o.jsx(U,{onClick:()=>J({...hw,...b}),variant:"outline",className:"flex-1",disabled:l,children:"Generate"})]})]})]})})})})]}),o.jsx(fc,{open:y,onOpenChange:p,children:o.jsx(hc,{className:"max-h-[90vh]",children:o.jsxs("div",{className:"p-4 border-b",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"font-semibold text-lg",children:"Sessions"}),o.jsxs(U,{size:"sm",onClick:K,children:[o.jsx(_r,{className:"h-4 w-4 mr-2"}),"New Session"]})]}),o.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:Object.entries(me).map(([O,Q])=>o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"py-1 text-xs font-medium text-gray-500",children:O}),Q.map(D=>o.jsxs("div",{className:`py-3 px-3 rounded-md cursor-pointer flex justify-between items-center mb-1 ${D.active?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>H(D.id),children:[o.jsx("div",{className:"truncate flex-1",children:D.name}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:Y=>{Y.stopPropagation(),X(D.id)},children:o.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-500",onClick:Y=>{Y.stopPropagation(),k(D.id)},children:o.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})]})]},D.id))]},O))})]})})})]})},wU=()=>{const e=Un(),{id:t}=h4(),[n,r]=m.useState("view"),s={title:`Narrative #${t}`,date:"June 15, 2023",content:`EMS NARRATIVE REPORT

=== DISPATCH ===
Dispatched to 123 Main St for a medical emergency involving a 45-year-old male with chest pain.

=== RESPONSE ===
Unit responded without delay. Arrived on scene at 14:35.

=== ARRIVAL ===
Upon arrival, found patient sitting upright in a chair, clutching his chest, visibly in distress. Patient states, "It feels like an elephant is sitting on my chest."

=== ASSESSMENT ===
Patient is AAOx4, GCS-15, PERRL, no LOC.
Lung sounds clear bilaterally.
Vitals: BP 165/95, HR 92, RR 22, SpO2 95% on RA, BGL 110 mg/dL.
12-lead ECG shows ST elevation in leads II, III, and aVF.
No signs of DCAP-BTLS.

=== TREATMENT ===
Administered 324mg ASA PO.
Established IV access, 18g in L AC.
Administered 0.4mg NTG SL x1 with BP reassessment.
Administered 4mg morphine IV for pain management.
Continuous cardiac monitoring during transport.

=== TRANSPORT ===
Patient transported to Memorial Hospital cardiac center with report called en route.
Patient remained stable throughout transport.
Care transferred to ED staff at 15:10.`,analysis:{completeness:"High",clarity:"Excellent",medicalTerms:12,potentialIssues:"None detected",improvementSuggestions:"Consider adding more details about the patient's medical history if available."}},a=()=>{navigator.clipboard.writeText(s.content),nt.success("Copied to clipboard")},i=()=>{const c=document.createElement("a"),u=new Blob([s.content],{type:"text/plain"});c.href=URL.createObjectURL(u),c.download=`narrative-${t}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),nt.success("Narrative downloaded")},l=()=>{localStorage.setItem("narrative_preset",JSON.stringify({title:s.title,date:new Date().toISOString()})),nt.success("Saved as preset for future narratives")};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:o.jsxs("div",{className:"container mx-auto py-4 px-6 flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h1",{className:"text-xl font-bold text-ems-600 dark:text-ems-400",children:s.title})}),o.jsxs(U,{variant:"outline",onClick:()=>e("/create-narrative"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),"Back to Narratives"]})]})}),o.jsx("main",{className:"container mx-auto py-8 px-6",children:o.jsxs(qt,{className:"mb-8",children:[o.jsx(Dn,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx(Ln,{children:s.title}),o.jsxs(Fn,{children:["Created on ",s.date]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"outline",size:"sm",onClick:l,className:"flex items-center gap-1",children:[o.jsx(K_,{className:"h-4 w-4"}),"Save As Preset"]}),o.jsxs(U,{variant:"outline",size:"sm",onClick:a,className:"flex items-center gap-1",children:[o.jsx(vA,{className:"h-4 w-4"}),"Copy"]}),o.jsxs(U,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-1",children:[o.jsx(xA,{className:"h-4 w-4"}),"Download"]})]})]})}),o.jsx(an,{children:o.jsxs(gi,{value:n,onValueChange:c=>r(c),children:[o.jsxs(Us,{children:[o.jsx(De,{value:"view",children:"Narrative"}),o.jsx(De,{value:"analysis",children:"Analysis"})]}),o.jsx(Fe,{value:"view",children:o.jsx("div",{className:"whitespace-pre-wrap bg-gray-50 dark:bg-gray-900 p-6 rounded-md font-mono text-sm",children:s.content})}),o.jsx(Fe,{value:"analysis",children:o.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-md",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-1",children:"Completeness"}),o.jsx("p",{className:"text-sm",children:s.analysis.completeness})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-1",children:"Clarity"}),o.jsx("p",{className:"text-sm",children:s.analysis.clarity})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-1",children:"Medical Terms Used"}),o.jsx("p",{className:"text-sm",children:s.analysis.medicalTerms})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-1",children:"Potential Issues"}),o.jsx("p",{className:"text-sm",children:s.analysis.potentialIssues})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium mb-1",children:"Suggestions for Improvement"}),o.jsx("p",{className:"text-sm",children:s.analysis.improvementSuggestions})]})]})})]})})]})})]})},Ip="RFC3986",$p={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},bU="RFC1738",_U=Array.isArray,fr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Yh=1024,SU=(e,t,n,r,s)=>{if(e.length===0)return e;let a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let i="";for(let l=0;l<a.length;l+=Yh){const c=a.length>=Yh?a.slice(l,l+Yh):a,u=[];for(let d=0;d<c.length;++d){let f=c.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===bU&&(f===40||f===41)){u[u.length]=c.charAt(d);continue}if(f<128){u[u.length]=fr[f];continue}if(f<2048){u[u.length]=fr[192|f>>6]+fr[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=fr[224|f>>12]+fr[128|f>>6&63]+fr[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|c.charCodeAt(d)&1023),u[u.length]=fr[240|f>>18]+fr[128|f>>12&63]+fr[128|f>>6&63]+fr[128|f&63]}i+=u.join("")}return i};function jU(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function mw(e,t){if(_U(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const CU=Object.prototype.hasOwnProperty,NE={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},pr=Array.isArray,NU=Array.prototype.push,kE=function(e,t){NU.apply(e,pr(t)?t:[t])},kU=Date.prototype.toISOString,it={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:SU,encodeValuesOnly:!1,format:Ip,formatter:$p[Ip],indices:!1,serializeDate(e){return kU.call(e)},skipNulls:!1,strictNullHandling:!1};function EU(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Qh={};function EE(e,t,n,r,s,a,i,l,c,u,d,f,h,v,x,g,w,y){let p=e,b=y,_=0,S=!1;for(;(b=b.get(Qh))!==void 0&&!S;){const M=b.get(e);if(_+=1,typeof M<"u"){if(M===_)throw new RangeError("Cyclic object value");S=!0}typeof b.get(Qh)>"u"&&(_=0)}if(typeof u=="function"?p=u(t,p):p instanceof Date?p=h==null?void 0:h(p):n==="comma"&&pr(p)&&(p=mw(p,function(M){return M instanceof Date?h==null?void 0:h(M):M})),p===null){if(a)return c&&!g?c(t,it.encoder,w,"key",v):t;p=""}if(EU(p)||jU(p)){if(c){const M=g?t:c(t,it.encoder,w,"key",v);return[(x==null?void 0:x(M))+"="+(x==null?void 0:x(c(p,it.encoder,w,"value",v)))]}return[(x==null?void 0:x(t))+"="+(x==null?void 0:x(String(p)))]}const C=[];if(typeof p>"u")return C;let j;if(n==="comma"&&pr(p))g&&c&&(p=mw(p,c)),j=[{value:p.length>0?p.join(",")||null:void 0}];else if(pr(u))j=u;else{const M=Object.keys(p);j=d?M.sort(d):M}const N=l?String(t).replace(/\./g,"%2E"):String(t),E=r&&pr(p)&&p.length===1?N+"[]":N;if(s&&pr(p)&&p.length===0)return E+"[]";for(let M=0;M<j.length;++M){const T=j[M],I=typeof T=="object"&&typeof T.value<"u"?T.value:p[T];if(i&&I===null)continue;const q=f&&l?T.replace(/\./g,"%2E"):T,F=pr(p)?typeof n=="function"?n(E,q):E:E+(f?"."+q:"["+q+"]");y.set(e,_);const K=new WeakMap;K.set(Qh,y),kE(C,EE(I,F,n,r,s,a,i,l,n==="comma"&&g&&pr(p)?null:c,u,d,f,h,v,x,g,w,K))}return C}function PU(e=it){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||it.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Ip;if(typeof e.format<"u"){if(!CU.call($p,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=$p[n];let s=it.filter;(typeof e.filter=="function"||pr(e.filter))&&(s=e.filter);let a;if(e.arrayFormat&&e.arrayFormat in NE?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=it.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:it.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:it.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:it.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?it.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:it.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:it.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:it.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:it.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:it.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:it.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling}}function TU(e,t={}){let n=e;const r=PU(t);let s,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):pr(r.filter)&&(a=r.filter,s=a);const i=[];if(typeof n!="object"||n===null)return"";const l=NE[r.arrayFormat],c=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const v=s[h];r.skipNulls&&n[v]===null||kE(i,EE(n[v],v,l,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const d=i.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}const eo="4.96.0";let pw=!1,hl,PE,TE,Dp,RE,AE,OE,ME,IE;function RU(e,t={auto:!1}){if(pw)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(hl)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${hl}'\``);pw=t.auto,hl=e.kind,PE=e.fetch,TE=e.FormData,Dp=e.File,RE=e.ReadableStream,AE=e.getMultipartRequestOptions,OE=e.getDefaultAgent,ME=e.fileFromPath,IE=e.isFsReadStream}class AU{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function OU({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,a;try{n=fetch,r=Request,s=Response,a=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(i,l)=>({...l,body:new AU(i)}),getDefaultAgent:i=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:i=>!1}}const $E=()=>{hl||RU(OU(),{auto:!0})};$E();class fe extends Error{}class kt extends fe{constructor(t,n,r,s){super(`${kt.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const a=n;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Of({message:r,cause:Fp(n)});const a=n==null?void 0:n.error;return t===400?new DE(t,a,r,s):t===401?new LE(t,a,r,s):t===403?new FE(t,a,r,s):t===404?new UE(t,a,r,s):t===409?new BE(t,a,r,s):t===422?new zE(t,a,r,s):t===429?new HE(t,a,r,s):t>=500?new WE(t,a,r,s):new kt(t,a,r,s)}}class Rn extends kt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Of extends kt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ty extends Of{constructor({message:t}={}){super({message:t??"Request timed out."})}}class DE extends kt{}class LE extends kt{}class FE extends kt{}class UE extends kt{}class BE extends kt{}class zE extends kt{}class HE extends kt{}class WE extends kt{}class VE extends fe{constructor(){super("Could not parse response content as the length limit was reached")}}class GE extends fe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var lu=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ra=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},cn;class Mf{constructor(){cn.set(this,void 0),this.buffer=new Uint8Array,lu(this,cn,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let a;for(;(a=MU(this.buffer,ra(this,cn,"f")))!=null;){if(a.carriage&&ra(this,cn,"f")==null){lu(this,cn,a.index,"f");continue}if(ra(this,cn,"f")!=null&&(a.index!==ra(this,cn,"f")+1||a.carriage)){s.push(this.decodeText(this.buffer.slice(0,ra(this,cn,"f")-1))),this.buffer=this.buffer.slice(ra(this,cn,"f")),lu(this,cn,null,"f");continue}const i=ra(this,cn,"f")!==null?a.preceding-1:a.preceding,l=this.decodeText(this.buffer.slice(0,i));s.push(l),this.buffer=this.buffer.slice(a.index),lu(this,cn,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new fe(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new fe(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new fe("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}cn=new WeakMap;Mf.NEWLINE_CHARS=new Set([`
`,"\r"]);Mf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MU(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function IU(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function qE(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class jr{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const i of $U(t,n))if(!a){if(i.data.startsWith("[DONE]")){a=!0;continue}if(i.event===null||i.event.startsWith("response.")||i.event.startsWith("transcript.")){let l;try{l=JSON.parse(i.data)}catch(c){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),c}if(l&&l.error)throw new kt(void 0,l.error,void 0,e2(t.headers));yield l}else{let l;try{l=JSON.parse(i.data)}catch(c){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),c}if(i.event=="error")throw new kt(void 0,l.error,l.message,void 0);yield{event:i.event,data:l}}}a=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{a||n.abort()}}return new jr(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const i=new Mf,l=qE(t);for await(const c of l)for(const u of i.decode(c))yield u;for(const c of i.flush())yield c}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const l of s())i||l&&(yield JSON.parse(l));i=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{i||n.abort()}}return new jr(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=a=>({next:()=>{if(a.length===0){const i=r.next();t.push(i),n.push(i)}return a.shift()}});return[new jr(()=>s(t),this.controller),new jr(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new RE({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:i}=await n.next();if(i)return s.close();const l=r.encode(JSON.stringify(a)+`
`);s.enqueue(l)}catch(a){s.error(a)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*$U(e,t){if(!e.body)throw t.abort(),new fe("Attempted to iterate over a response with no body");const n=new LU,r=new Mf,s=qE(e.body);for await(const a of DU(s))for(const i of r.decode(a)){const l=n.decode(i);l&&(yield l)}for(const a of r.flush()){const i=n.decode(a);i&&(yield i)}}async function*DU(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let a;for(;(a=IU(t))!==-1;)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}class LU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=FU(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function FU(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const KE=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",YE=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&If(e),If=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",UU=e=>YE(e)||KE(e)||IE(e);async function QE(e,t,n){var s;if(e=await e,YE(e))return e;if(KE(e)){const a=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const i=If(a)?[await a.arrayBuffer()]:[a];return new Dp(i,t,n)}const r=await BU(e);if(t||(t=HU(e)??"unknown_file"),!(n!=null&&n.type)){const a=(s=r[0])==null?void 0:s.type;typeof a=="string"&&(n={...n,type:a})}return new Dp(r,t,n)}async function BU(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(If(e))t.push(await e.arrayBuffer());else if(WU(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${zU(e)}`);return t}function zU(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function HU(e){var t;return Xh(e.name)||Xh(e.filename)||((t=Xh(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Xh=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},WU=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",gw=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Xo=async e=>{const t=await VU(e.body);return AE(t,e)},VU=async e=>{const t=new TE;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Lp(t,n,r))),t},Lp=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(UU(n)){const r=await QE(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Lp(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Lp(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var No={},GU=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},qU=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},cu;$E();async function XE(e){var i;const{response:t}=e;if(e.options.stream)return As("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):jr.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(i=n==null?void 0:n.split(";")[0])==null?void 0:i.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const l=await t.json();return As("response",t.status,t.url,t.headers,l),JE(l,t)}const a=await t.text();return As("response",t.status,t.url,t.headers,a),a}function JE(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class $f extends Promise{constructor(t,n=XE){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new $f(this.responsePromise,async n=>JE(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class KU{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:a}){this.baseURL=t,this.maxRetries=Jh("maxRetries",n),this.timeout=Jh("timeout",r),this.httpAgent=s,this.fetch=a??PE}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ZU(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${rB()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const a=s&&If(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:a}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var g;const r={...t},{method:s,path:a,query:i,headers:l={}}=r,c=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:gw(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,u=this.calculateContentLength(c),d=this.buildURL(a,i);"timeout"in r&&Jh("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??OE(d),h=r.timeout+1e3;typeof((g=f==null?void 0:f.options)==null?void 0:g.timeout)=="number"&&h>(f.options.timeout??0)&&(f.options.timeout=h),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const v=this.buildHeaders({options:r,headers:l,contentLength:u,retryCount:n});return{req:{method:s,...c&&{body:c},headers:v,...f&&{agent:f},signal:r.signal??null},url:d,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const a={};r&&(a["content-length"]=r);const i=this.defaultHeaders(t);return ww(a,i),ww(a,n),gw(t.body)&&hl!=="node"&&delete a["content-type"],du(i,"x-stainless-retry-count")===void 0&&du(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(s)),du(i,"x-stainless-timeout")===void 0&&du(n,"x-stainless-timeout")===void 0&&t.timeout&&(a["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(a,n),a}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return kt.generate(t,n,r,s)}request(t,n=null){return new $f(this.makeRequest(t,n))}async makeRequest(t,n){var f,h;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:a,url:i,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(a,{url:i,options:r}),As("request",i,r,a.headers),(f=r.signal)!=null&&f.aborted)throw new Rn;const c=new AbortController,u=await this.fetchWithTimeout(i,a,l,c).catch(Fp);if(u instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new Rn;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new ty:new Of({cause:u})}const d=e2(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const p=`retrying, ${n} attempts remaining`;return As(`response (error; ${p})`,u.status,i,d),this.retryRequest(r,n,d)}const v=await u.text().catch(p=>Fp(p).message),x=eB(v),g=x?void 0:v;throw As(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,i,d,g),this.makeStatusError(u.status,x,g,d)}return{response:u,options:r,controller:c}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new YU(this,r,t)}buildURL(t,n){const r=nB(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return t2(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new fe(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:a,...i}=n||{};a&&a.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),c={signal:s.signal,...i};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,t,c).finally(()=>{clearTimeout(l)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const a=r==null?void 0:r["retry-after-ms"];if(a){const l=parseFloat(a);Number.isNaN(l)||(s=l)}const i=r==null?void 0:r["retry-after"];if(i&&!s){const l=parseFloat(i);Number.isNaN(l)?s=Date.parse(i)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await gc(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,i=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return i*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${eo}`}}class ZE{constructor(t,n,r,s){cu.set(this,void 0),GU(this,cu,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new fe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,a]of r)t.url.searchParams.set(s,a);n.query=void 0,n.path=t.url.toString()}return await qU(this,cu,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(cu=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class YU extends $f{constructor(t,n,r){super(n,async s=>new r(t,s.response,await XE(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const e2=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),QU={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ze=e=>typeof e=="object"&&e!==null&&!t2(e)&&Object.keys(e).every(t=>n2(QU,t)),XU=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":yw(Deno.build.os),"X-Stainless-Arch":vw(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":yw(process.platform),"X-Stainless-Arch":vw(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=JU();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JU(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,a=r[2]||0,i=r[3]||0;return{browser:t,version:`${s}.${a}.${i}`}}}return null}const vw=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",yw=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let xw;const ZU=()=>xw??(xw=XU()),eB=e=>{try{return JSON.parse(e)}catch{return}},tB=/^[a-z][a-z0-9+.-]*:/i,nB=e=>tB.test(e),gc=e=>new Promise(t=>setTimeout(t,e)),Jh=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new fe(`${e} must be an integer`);if(t<0)throw new fe(`${e} must be a positive integer`);return t},Fp=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},uu=e=>{var t,n,r,s;if(typeof process<"u")return((t=No==null?void 0:No[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function t2(e){if(!e)return!0;for(const t in e)return!1;return!0}function n2(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ww(e,t){for(const n in t){if(!n2(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}const bw=new Set(["authorization","api-key"]);function As(e,...t){if(typeof process<"u"&&(No==null?void 0:No.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const a={...r,headers:{...r.headers}};for(const i in r.headers)bw.has(i.toLowerCase())&&(a.headers[i]="REDACTED");return a}let s=null;for(const a in r)bw.has(a.toLowerCase())&&(s??(s={...r}),s[a]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const rB=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),sB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",aB=e=>typeof(e==null?void 0:e.get)=="function",du=(e,t)=>{var r;const n=t.toLowerCase();if(aB(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(a,i,l)=>i+l.toUpperCase());for(const a of[t,n,t.toUpperCase(),s]){const i=e.get(a);if(i)return i}}for(const[s,a]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]):a},oB=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Zh(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Df extends ZE{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Et extends ZE{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class _e{constructor(t){this._client=t}}let r2=class extends _e{list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,iB,{query:n,...r})}},Lf=class extends _e{constructor(){super(...arguments),this.messages=new r2(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/chat/completions",Ff,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Ff extends Et{}class iB extends Et{}Lf.ChatCompletionsPage=Ff;Lf.Messages=r2;let Uf=class extends _e{constructor(){super(...arguments),this.completions=new Lf(this._client)}};Uf.Completions=Lf;Uf.ChatCompletionsPage=Ff;class s2 extends _e{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class a2 extends _e{create(t,n){return this._client.post("/audio/transcriptions",Xo({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class o2 extends _e{create(t,n){return this._client.post("/audio/translations",Xo({body:t,...n,__metadata:{model:t.model}}))}}class vc extends _e{constructor(){super(...arguments),this.transcriptions=new a2(this._client),this.translations=new o2(this._client),this.speech=new s2(this._client)}}vc.Transcriptions=a2;vc.Translations=o2;vc.Speech=s2;class ny extends _e{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/batches",ry,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class ry extends Et{}ny.BatchesPage=ry;var Gn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Ge=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Up,Iu,$u,Ki,Yi,Du,Qi,Ir,Xi,Ed,Pd,to,i2;class sy{constructor(){Up.add(this),this.controller=new AbortController,Iu.set(this,void 0),$u.set(this,()=>{}),Ki.set(this,()=>{}),Yi.set(this,void 0),Du.set(this,()=>{}),Qi.set(this,()=>{}),Ir.set(this,{}),Xi.set(this,!1),Ed.set(this,!1),Pd.set(this,!1),to.set(this,!1),Gn(this,Iu,new Promise((t,n)=>{Gn(this,$u,t,"f"),Gn(this,Ki,n,"f")}),"f"),Gn(this,Yi,new Promise((t,n)=>{Gn(this,Du,t,"f"),Gn(this,Qi,n,"f")}),"f"),Ge(this,Iu,"f").catch(()=>{}),Ge(this,Yi,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Ge(this,Up,"m",i2).bind(this))},0)}_connected(){this.ended||(Ge(this,$u,"f").call(this),this._emit("connect"))}get ended(){return Ge(this,Xi,"f")}get errored(){return Ge(this,Ed,"f")}get aborted(){return Ge(this,Pd,"f")}abort(){this.controller.abort()}on(t,n){return(Ge(this,Ir,"f")[t]||(Ge(this,Ir,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Ge(this,Ir,"f")[t];if(!r)return this;const s=r.findIndex(a=>a.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Ge(this,Ir,"f")[t]||(Ge(this,Ir,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Gn(this,to,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Gn(this,to,!0,"f"),await Ge(this,Yi,"f")}_emit(t,...n){if(Ge(this,Xi,"f"))return;t==="end"&&(Gn(this,Xi,!0,"f"),Ge(this,Du,"f").call(this));const r=Ge(this,Ir,"f")[t];if(r&&(Ge(this,Ir,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Ge(this,to,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Ge(this,Ki,"f").call(this,s),Ge(this,Qi,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Ge(this,to,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Ge(this,Ki,"f").call(this,s),Ge(this,Qi,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Iu=new WeakMap,$u=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,Du=new WeakMap,Qi=new WeakMap,Ir=new WeakMap,Xi=new WeakMap,Ed=new WeakMap,Pd=new WeakMap,to=new WeakMap,Up=new WeakSet,i2=function(t){if(Gn(this,Ed,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Rn),t instanceof Rn)return Gn(this,Pd,!0,"f"),this._emit("abort",t);if(t instanceof fe)return this._emit("error",t);if(t instanceof Error){const n=new fe(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new fe(String(t)))};var oe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ln=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},_t,Bp,gr,Lu,Yn,ha,po,ca,Td,dn,Fu,Uu,ml,Ji,Zi,_w,Sw,jw,Cw,Nw,kw,Ew;class er extends sy{constructor(){super(...arguments),_t.add(this),Bp.set(this,[]),gr.set(this,{}),Lu.set(this,{}),Yn.set(this,void 0),ha.set(this,void 0),po.set(this,void 0),ca.set(this,void 0),Td.set(this,void 0),dn.set(this,void 0),Fu.set(this,void 0),Uu.set(this,void 0),ml.set(this,void 0)}[(Bp=new WeakMap,gr=new WeakMap,Lu=new WeakMap,Yn=new WeakMap,ha=new WeakMap,po=new WeakMap,ca=new WeakMap,Td=new WeakMap,dn=new WeakMap,Fu=new WeakMap,Uu=new WeakMap,ml=new WeakMap,_t=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new er;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=jr.fromReadableStream(t,this.controller);for await(const i of s)oe(this,_t,"m",Ji).call(this,i);if((a=s.controller.signal)!=null&&a.aborted)throw new Rn;return this._addRun(oe(this,_t,"m",Zi).call(this))}toReadableStream(){return new jr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,a){const i=new er;return i._run(()=>i._runToolAssistantStream(t,n,r,s,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,r,s,a){var u;const i=a==null?void 0:a.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},c=await t.submitToolOutputs(n,r,l,{...a,signal:this.controller.signal});this._connected();for await(const d of c)oe(this,_t,"m",Ji).call(this,d);if((u=c.controller.signal)!=null&&u.aborted)throw new Rn;return this._addRun(oe(this,_t,"m",Zi).call(this))}static createThreadAssistantStream(t,n,r){const s=new er;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const a=new er;return a._run(()=>a._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return oe(this,Fu,"f")}currentRun(){return oe(this,Uu,"f")}currentMessageSnapshot(){return oe(this,Yn,"f")}currentRunStepSnapshot(){return oe(this,ml,"f")}async finalRunSteps(){return await this.done(),Object.values(oe(this,gr,"f"))}async finalMessages(){return await this.done(),Object.values(oe(this,Lu,"f"))}async finalRun(){if(await this.done(),!oe(this,ha,"f"))throw Error("Final run was not received.");return oe(this,ha,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},i=await t.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const c of i)oe(this,_t,"m",Ji).call(this,c);if((l=i.controller.signal)!=null&&l.aborted)throw new Rn;return this._addRun(oe(this,_t,"m",Zi).call(this))}async _createAssistantStream(t,n,r,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},l=await t.create(n,i,{...s,signal:this.controller.signal});this._connected();for await(const u of l)oe(this,_t,"m",Ji).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Rn;return this._addRun(oe(this,_t,"m",Zi).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let a=t[r];if(a==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(Zh(a)&&Zh(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(i=>typeof i=="string"||typeof i=="number")){a.push(...s);continue}for(const i of s){if(!Zh(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const l=i.index;if(l==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=a[l];c==null?a.push(i):a[l]=this.accumulateDelta(c,i)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${a}`);t[r]=a}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,a){return await this._createToolAssistantStream(r,t,n,s,a)}}Ji=function(t){if(!this.ended)switch(ln(this,Fu,t,"f"),oe(this,_t,"m",jw).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":oe(this,_t,"m",Ew).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":oe(this,_t,"m",Sw).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":oe(this,_t,"m",_w).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Zi=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");if(!oe(this,ha,"f"))throw Error("Final run has not been received");return oe(this,ha,"f")},_w=function(t){const[n,r]=oe(this,_t,"m",Nw).call(this,t,oe(this,Yn,"f"));ln(this,Yn,n,"f"),oe(this,Lu,"f")[n.id]=n;for(const s of r){const a=n.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,i=n.content[s.index];if(i&&i.type=="text")this._emit("textDelta",a,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=oe(this,po,"f")){if(oe(this,ca,"f"))switch(oe(this,ca,"f").type){case"text":this._emit("textDone",oe(this,ca,"f").text,oe(this,Yn,"f"));break;case"image_file":this._emit("imageFileDone",oe(this,ca,"f").image_file,oe(this,Yn,"f"));break}ln(this,po,s.index,"f")}ln(this,ca,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(oe(this,po,"f")!==void 0){const s=t.data.content[oe(this,po,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,oe(this,Yn,"f"));break;case"text":this._emit("textDone",s.text,oe(this,Yn,"f"));break}}oe(this,Yn,"f")&&this._emit("messageDone",t.data),ln(this,Yn,void 0,"f")}},Sw=function(t){const n=oe(this,_t,"m",Cw).call(this,t);switch(ln(this,ml,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==oe(this,Td,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(oe(this,dn,"f")&&this._emit("toolCallDone",oe(this,dn,"f")),ln(this,Td,a.index,"f"),ln(this,dn,n.step_details.tool_calls[a.index],"f"),oe(this,dn,"f")&&this._emit("toolCallCreated",oe(this,dn,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ln(this,ml,void 0,"f"),t.data.step_details.type=="tool_calls"&&oe(this,dn,"f")&&(this._emit("toolCallDone",oe(this,dn,"f")),ln(this,dn,void 0,"f")),this._emit("runStepDone",t.data,n);break}},jw=function(t){oe(this,Bp,"f").push(t),this._emit("event",t)},Cw=function(t){switch(t.event){case"thread.run.step.created":return oe(this,gr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=oe(this,gr,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=er.accumulateDelta(n,r.delta);oe(this,gr,"f")[t.data.id]=s}return oe(this,gr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":oe(this,gr,"f")[t.data.id]=t.data;break}if(oe(this,gr,"f")[t.data.id])return oe(this,gr,"f")[t.data.id];throw new Error("No snapshot available")},Nw=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in n.content){let i=n.content[a.index];n.content[a.index]=oe(this,_t,"m",kw).call(this,a,i)}else n.content[a.index]=a,r.push(a);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},kw=function(t,n){return er.accumulateDelta(n,t)},Ew=function(t){switch(ln(this,Uu,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ln(this,ha,t.data,"f"),oe(this,dn,"f")&&(this._emit("toolCallDone",oe(this,dn,"f")),ln(this,dn,void 0,"f"));break}};class ay extends _e{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/assistants",oy,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class oy extends Et{}ay.AssistantsPage=oy;function Pw(e){return typeof e.parse=="function"}const ko=e=>(e==null?void 0:e.role)==="assistant",l2=e=>(e==null?void 0:e.role)==="function",c2=e=>(e==null?void 0:e.role)==="tool";function iy(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function yc(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function lB(e,t){return!t||!u2(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:ly(e,t)}function ly(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new VE;if(r.finish_reason==="content_filter")throw new GE;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(a=>uB(t,a)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?cB(t,r.message.content):null}}});return{...e,choices:n}}function cB(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function uB(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:yc(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function dB(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===t.function.name});return yc(n)||(n==null?void 0:n.function.strict)||!1}function u2(e){var t;return iy(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>yc(n)||n.type==="function"&&n.function.strict===!0))??!1}function fB(e){for(const t of e??[]){if(t.type!=="function")throw new fe(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new fe(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Jt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Mt,zp,Rd,Hp,Wp,Vp,d2,Gp;const Tw=10;class f2 extends sy{constructor(){super(...arguments),Mt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(l2(t)||c2(t))&&t.content)this._emit("functionCallResult",t.content);else if(ko(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(ko(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new fe("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Jt(this,Mt,"m",zp).call(this)}async finalMessage(){return await this.done(),Jt(this,Mt,"m",Rd).call(this)}async finalFunctionCall(){return await this.done(),Jt(this,Mt,"m",Hp).call(this)}async finalFunctionCallResult(){return await this.done(),Jt(this,Mt,"m",Wp).call(this)}async totalUsage(){return await this.done(),Jt(this,Mt,"m",Vp).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Jt(this,Mt,"m",Rd).call(this);n&&this._emit("finalMessage",n);const r=Jt(this,Mt,"m",zp).call(this);r&&this._emit("finalContent",r);const s=Jt(this,Mt,"m",Hp).call(this);s&&this._emit("finalFunctionCall",s);const a=Jt(this,Mt,"m",Wp).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",Jt(this,Mt,"m",Vp).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Jt(this,Mt,"m",d2).call(this,n);const a=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ly(a,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var h;const s="function",{function_call:a="auto",stream:i,...l}=n,c=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:u=Tw}=r||{},d={};for(const v of n.functions)d[v.name||v.function.name]=v;const f=n.functions.map(v=>({name:v.name||v.function.name,parameters:v.parameters,description:v.description}));for(const v of n.messages)this._addMessage(v,!1);for(let v=0;v<u;++v){const g=(h=(await this._createChatCompletion(t,{...l,function_call:a,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!g)throw new fe("missing message in ChatCompletion response");if(!g.function_call)return;const{name:w,arguments:y}=g.function_call,p=d[w];if(p){if(c&&c!==w){const C=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,name:w,content:C});continue}}else{const C=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${f.map(j=>JSON.stringify(j.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:w,content:C});continue}let b;try{b=Pw(p)?await p.parse(y):y}catch(C){this._addMessage({role:s,name:w,content:C instanceof Error?C.message:String(C)});continue}const _=await p.function(b,this),S=Jt(this,Mt,"m",Gp).call(this,_);if(this._addMessage({role:s,name:w,content:S}),c)return}}async _runTools(t,n,r){var v,x,g;const s="tool",{tool_choice:a="auto",stream:i,...l}=n,c=typeof a!="string"&&((v=a==null?void 0:a.function)==null?void 0:v.name),{maxChatCompletions:u=Tw}=r||{},d=n.tools.map(w=>{if(yc(w)){if(!w.$callback)throw new fe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),f={};for(const w of d)w.type==="function"&&(f[w.function.name||w.function.function.name]=w.function);const h="tools"in n?d.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const p=(x=(await this._createChatCompletion(t,{...l,tool_choice:a,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:x.message;if(!p)throw new fe("missing message in ChatCompletion response");if(!((g=p.tool_calls)!=null&&g.length))return;for(const b of p.tool_calls){if(b.type!=="function")continue;const _=b.id,{name:S,arguments:C}=b.function,j=f[S];if(j){if(c&&c!==S){const T=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:T});continue}}else{const T=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(f).map(I=>JSON.stringify(I)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:T});continue}let N;try{N=Pw(j)?await j.parse(C):C}catch(T){const I=T instanceof Error?T.message:String(T);this._addMessage({role:s,tool_call_id:_,content:I});continue}const E=await j.function(N,this),M=Jt(this,Mt,"m",Gp).call(this,E);if(this._addMessage({role:s,tool_call_id:_,content:M}),c)return}}}}Mt=new WeakSet,zp=function(){return Jt(this,Mt,"m",Rd).call(this).content??null},Rd=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(ko(n)){const{function_call:r,...s}=n,a={...s,content:n.content??null,refusal:n.refusal??null};return r&&(a.function_call=r),a}}throw new fe("stream ended without producing a ChatCompletionMessage with role=assistant")},Hp=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(ko(s)&&(s!=null&&s.function_call))return s.function_call;if(ko(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Wp=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(l2(n)&&n.content!=null||c2(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===n.tool_call_id))}))return n.content}},Vp=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},d2=function(t){if(t.n!=null&&t.n>1)throw new fe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Gp=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class zl extends f2{static runFunctions(t,n,r){const s=new zl,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,a)),s}static runTools(t,n,r){const s=new zl,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,a)),s}_addMessage(t,n=!0){super._addMessage(t,n),ko(t)&&t.content&&this._emit("content",t.content)}}const h2=1,m2=2,p2=4,g2=8,v2=16,y2=32,x2=64,w2=128,b2=256,_2=w2|b2,S2=v2|y2|_2|x2,j2=h2|m2|S2,C2=p2|g2,hB=j2|C2,mt={STR:h2,NUM:m2,ARR:p2,OBJ:g2,NULL:v2,BOOL:y2,NAN:x2,INFINITY:w2,MINUS_INFINITY:b2,INF:_2,SPECIAL:S2,ATOM:j2,COLLECTION:C2,ALL:hB};class mB extends Error{}class pB extends Error{}function gB(e,t=mt.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return vB(e.trim(),t)}const vB=(e,t)=>{const n=e.length;let r=0;const s=h=>{throw new mB(`${h} at position ${r}`)},a=h=>{throw new pB(`${h} at position ${r}`)},i=()=>(f(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?c():e[r]==="["?u():e.substring(r,r+4)==="null"||mt.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||mt.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||mt.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||mt.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||mt.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||mt.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):d()),l=()=>{const h=r;let v=!1;for(r++;r<n&&(e[r]!=='"'||v&&e[r-1]==="\\");)v=e[r]==="\\"?!v:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(h,++r-Number(v)))}catch(x){a(String(x))}else if(mt.STR&t)try{return JSON.parse(e.substring(h,r-Number(v))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{r++,f();const h={};try{for(;e[r]!=="}";){if(f(),r>=n&&mt.OBJ&t)return h;const v=l();f(),r++;try{const x=i();Object.defineProperty(h,v,{value:x,writable:!0,enumerable:!0,configurable:!0})}catch(x){if(mt.OBJ&t)return h;throw x}f(),e[r]===","&&r++}}catch{if(mt.OBJ&t)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;e[r]!=="]";)h.push(i()),f(),e[r]===","&&r++}catch{if(mt.ARR&t)return h;s("Expected ']' at end of array")}return r++,h},d=()=>{if(r===0){e==="-"&&mt.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(v){if(mt.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}a(String(v))}}const h=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(mt.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,r))}catch{e.substring(h,r)==="-"&&mt.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(x){a(String(x))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return i()},Rw=e=>gB(e,mt.ALL^mt.NUM);var Ya=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Ie=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ot,Or,Qa,ts,em,fu,tm,nm,rm,hu,sm,Aw;class Hl extends f2{constructor(t){super(),ot.add(this),Or.set(this,void 0),Qa.set(this,void 0),ts.set(this,void 0),Ya(this,Or,t,"f"),Ya(this,Qa,[],"f")}get currentChatCompletionSnapshot(){return Ie(this,ts,"f")}static fromReadableStream(t){const n=new Hl(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new Hl(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var i;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Ie(this,ot,"m",em).call(this);const a=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of a)Ie(this,ot,"m",tm).call(this,l);if((i=a.controller.signal)!=null&&i.aborted)throw new Rn;return this._addChatCompletion(Ie(this,ot,"m",hu).call(this))}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ie(this,ot,"m",em).call(this),this._connected();const s=jr.fromReadableStream(t,this.controller);let a;for await(const l of s)a&&a!==l.id&&this._addChatCompletion(Ie(this,ot,"m",hu).call(this)),Ie(this,ot,"m",tm).call(this,l),a=l.id;if((i=s.controller.signal)!=null&&i.aborted)throw new Rn;return this._addChatCompletion(Ie(this,ot,"m",hu).call(this))}[(Or=new WeakMap,Qa=new WeakMap,ts=new WeakMap,ot=new WeakSet,em=function(){this.ended||Ya(this,ts,void 0,"f")},fu=function(n){let r=Ie(this,Qa,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ie(this,Qa,"f")[n.index]=r,r)},tm=function(n){var s,a,i,l,c,u,d,f,h,v,x,g,w,y,p;if(this.ended)return;const r=Ie(this,ot,"m",Aw).call(this,n);this._emit("chunk",n,r);for(const b of n.choices){const _=r.choices[b.index];b.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((a=_.message)!=null&&a.content)&&(this._emit("content",b.delta.content,_.message.content),this._emit("content.delta",{delta:b.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),b.delta.refusal!=null&&((i=_.message)==null?void 0:i.role)==="assistant"&&((l=_.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:b.delta.refusal,snapshot:_.message.refusal}),((c=b.logprobs)==null?void 0:c.content)!=null&&((u=_.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=b.logprobs)==null?void 0:d.content,snapshot:((f=_.logprobs)==null?void 0:f.content)??[]}),((h=b.logprobs)==null?void 0:h.refusal)!=null&&((v=_.message)==null?void 0:v.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(x=b.logprobs)==null?void 0:x.refusal,snapshot:((g=_.logprobs)==null?void 0:g.refusal)??[]});const S=Ie(this,ot,"m",fu).call(this,_);_.finish_reason&&(Ie(this,ot,"m",rm).call(this,_),S.current_tool_call_index!=null&&Ie(this,ot,"m",nm).call(this,_,S.current_tool_call_index));for(const C of b.delta.tool_calls??[])S.current_tool_call_index!==C.index&&(Ie(this,ot,"m",rm).call(this,_),S.current_tool_call_index!=null&&Ie(this,ot,"m",nm).call(this,_,S.current_tool_call_index)),S.current_tool_call_index=C.index;for(const C of b.delta.tool_calls??[]){const j=(w=_.message.tool_calls)==null?void 0:w[C.index];j!=null&&j.type&&((j==null?void 0:j.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=j.function)==null?void 0:y.name,index:C.index,arguments:j.function.arguments,parsed_arguments:j.function.parsed_arguments,arguments_delta:((p=C.function)==null?void 0:p.arguments)??""}):(j==null||j.type,void 0))}}},nm=function(n,r){var i,l,c;if(Ie(this,ot,"m",fu).call(this,n).done_tool_calls.has(r))return;const a=(i=n.message.tool_calls)==null?void 0:i[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=(c=(l=Ie(this,Or,"f"))==null?void 0:l.tools)==null?void 0:c.find(d=>d.type==="function"&&d.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:yc(u)?u.$parseRaw(a.function.arguments):u!=null&&u.function.strict?JSON.parse(a.function.arguments):null})}else a.type},rm=function(n){var s,a;const r=Ie(this,ot,"m",fu).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const i=Ie(this,ot,"m",sm).call(this);this._emit("content.done",{content:n.message.content,parsed:i?i.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(a=n.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},hu=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");const n=Ie(this,ts,"f");if(!n)throw new fe("request ended without sending any chunks");return Ya(this,ts,void 0,"f"),Ya(this,Qa,[],"f"),yB(n,Ie(this,Or,"f"))},sm=function(){var r;const n=(r=Ie(this,Or,"f"))==null?void 0:r.response_format;return iy(n)?n:null},Aw=function(n){var r,s,a,i;let l=Ie(this,ts,"f");const{choices:c,...u}=n;l?Object.assign(l,u):l=Ya(this,ts,{...u,choices:[]},"f");for(const{delta:d,finish_reason:f,index:h,logprobs:v=null,...x}of n.choices){let g=l.choices[h];if(g||(g=l.choices[h]={finish_reason:f,index:h,message:{},logprobs:v,...x}),v)if(!g.logprobs)g.logprobs=Object.assign({},v);else{const{content:C,refusal:j,...N}=v;Object.assign(g.logprobs,N),C&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...C)),j&&((s=g.logprobs).refusal??(s.refusal=[]),g.logprobs.refusal.push(...j))}if(f&&(g.finish_reason=f,Ie(this,Or,"f")&&u2(Ie(this,Or,"f")))){if(f==="length")throw new VE;if(f==="content_filter")throw new GE}if(Object.assign(g,x),!d)continue;const{content:w,refusal:y,function_call:p,role:b,tool_calls:_,...S}=d;if(Object.assign(g.message,S),y&&(g.message.refusal=(g.message.refusal||"")+y),b&&(g.message.role=b),p&&(g.message.function_call?(p.name&&(g.message.function_call.name=p.name),p.arguments&&((a=g.message.function_call).arguments??(a.arguments=""),g.message.function_call.arguments+=p.arguments)):g.message.function_call=p),w&&(g.message.content=(g.message.content||"")+w,!g.message.refusal&&Ie(this,ot,"m",sm).call(this)&&(g.message.parsed=Rw(g.message.content))),_){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:C,id:j,type:N,function:E,...M}of _){const T=(i=g.message.tool_calls)[C]??(i[C]={});Object.assign(T,M),j&&(T.id=j),N&&(T.type=N),E&&(T.function??(T.function={name:E.name??"",arguments:""})),E!=null&&E.name&&(T.function.name=E.name),E!=null&&E.arguments&&(T.function.arguments+=E.arguments,dB(Ie(this,Or,"f"),T)&&(T.function.parsed_arguments=Rw(T.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new jr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function yB(e,t){const{id:n,choices:r,created:s,model:a,system_fingerprint:i,...l}=e,c={...l,id:n,choices:r.map(({message:u,finish_reason:d,index:f,logprobs:h,...v})=>{if(!d)throw new fe(`missing finish_reason for choice ${f}`);const{content:x=null,function_call:g,tool_calls:w,...y}=u,p=u.role;if(!p)throw new fe(`missing role for choice ${f}`);if(g){const{arguments:b,name:_}=g;if(b==null)throw new fe(`missing function_call.arguments for choice ${f}`);if(!_)throw new fe(`missing function_call.name for choice ${f}`);return{...v,message:{content:x,function_call:{arguments:b,name:_},role:p,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}return w?{...v,index:f,finish_reason:d,logprobs:h,message:{...y,role:p,content:x,refusal:u.refusal??null,tool_calls:w.map((b,_)=>{const{function:S,type:C,id:j,...N}=b,{arguments:E,name:M,...T}=S||{};if(j==null)throw new fe(`missing choices[${f}].tool_calls[${_}].id
${mu(e)}`);if(C==null)throw new fe(`missing choices[${f}].tool_calls[${_}].type
${mu(e)}`);if(M==null)throw new fe(`missing choices[${f}].tool_calls[${_}].function.name
${mu(e)}`);if(E==null)throw new fe(`missing choices[${f}].tool_calls[${_}].function.arguments
${mu(e)}`);return{...N,id:j,type:C,function:{...T,name:M,arguments:E}}})}}:{...v,message:{...y,content:x,role:p,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}),created:s,model:a,object:"chat.completion",...i?{system_fingerprint:i}:{}};return lB(c,t)}function mu(e){return JSON.stringify(e)}class Eo extends Hl{static fromReadableStream(t){const n=new Eo(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new Eo(null),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,a)),s}static runTools(t,n,r){const s=new Eo(n),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,a)),s}}let N2=class extends _e{parse(t,n){return fB(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>ly(r,t))}runFunctions(t,n){return t.stream?Eo.runFunctions(this._client,t,n):zl.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Eo.runTools(this._client,t,n):zl.runTools(this._client,t,n)}stream(t,n){return Hl.createChatCompletion(this._client,t,n)}};class qp extends _e{constructor(){super(...arguments),this.completions=new N2(this._client)}}(function(e){e.Completions=N2})(qp||(qp={}));class k2 extends _e{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class E2 extends _e{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Bf extends _e{constructor(){super(...arguments),this.sessions=new k2(this._client),this.transcriptionSessions=new E2(this._client)}}Bf.Sessions=k2;Bf.TranscriptionSessions=E2;class cy extends _e{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,uy,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class uy extends Et{}cy.MessagesPage=uy;class dy extends _e{retrieve(t,n,r,s={},a){return Ze(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,n,r={},s){return Ze(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,fy,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class fy extends Et{}dy.RunStepsPage=fy;let xc=class extends _e{constructor(){super(...arguments),this.steps=new dy(this._client)}create(t,n,r){const{include:s,...a}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,hy,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return er.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:i}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=i.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await gc(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,n,r){return er.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const a=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,a.id,s)}submitToolOutputsStream(t,n,r,s){return er.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}};class hy extends Et{}xc.RunsPage=hy;xc.Steps=dy;xc.RunStepsPage=fy;class xi extends _e{constructor(){super(...arguments),this.runs=new xc(this._client),this.messages=new cy(this._client)}create(t={},n){return Ze(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return er.createThreadAssistantStream(t,this._client.beta.threads,n)}}xi.Runs=xc;xi.RunsPage=hy;xi.Messages=cy;xi.MessagesPage=uy;class wi extends _e{constructor(){super(...arguments),this.realtime=new Bf(this._client),this.chat=new qp(this._client),this.assistants=new ay(this._client),this.threads=new xi(this._client)}}wi.Realtime=Bf;wi.Assistants=ay;wi.AssistantsPage=oy;wi.Threads=xi;class P2 extends _e{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class T2 extends _e{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&As("Request","User defined encoding_format:",t.encoding_format);const a=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?a:(As("response","Decoding base64 embeddings to float32 array"),a._thenUnwrap(i=>(i&&i.data&&i.data.forEach(l=>{const c=l.embedding;l.embedding=oB(c)}),i)))}}class my extends _e{retrieve(t,n,r,s){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,s)}list(t,n,r={},s){return Ze(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,py,{query:r,...s})}}class py extends Et{}my.OutputItemListResponsesPage=py;class wc extends _e{constructor(){super(...arguments),this.outputItems=new my(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,gy,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class gy extends Et{}wc.RunListResponsesPage=gy;wc.OutputItems=my;wc.OutputItemListResponsesPage=py;class bc extends _e{constructor(){super(...arguments),this.runs=new wc(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/evals",vy,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class vy extends Et{}bc.EvalListResponsesPage=vy;bc.Runs=wc;bc.RunListResponsesPage=gy;let yy=class extends _e{create(t,n){return this._client.post("/files",Xo({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/files",xy,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let i=await this.retrieve(t);for(;!i.status||!s.has(i.status);)if(await gc(n),i=await this.retrieve(t),Date.now()-a>r)throw new ty({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return i}};class xy extends Et{}yy.FileObjectsPage=xy;class wy extends _e{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,by,{body:n,method:"post",...r})}retrieve(t,n={},r){return Ze(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class by extends Df{}wy.PermissionCreateResponsesPage=by;let zf=class extends _e{constructor(){super(...arguments),this.permissions=new wy(this._client)}};zf.Permissions=wy;zf.PermissionCreateResponsesPage=by;class _y extends _e{list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Sy,{query:n,...r})}}class Sy extends Et{}_y.FineTuningJobCheckpointsPage=Sy;class bi extends _e{constructor(){super(...arguments),this.checkpoints=new _y(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",jy,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Ze(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Cy,{query:n,...r})}}class jy extends Et{}class Cy extends Et{}bi.FineTuningJobsPage=jy;bi.FineTuningJobEventsPage=Cy;bi.Checkpoints=_y;bi.FineTuningJobCheckpointsPage=Sy;class _i extends _e{constructor(){super(...arguments),this.jobs=new bi(this._client),this.checkpoints=new zf(this._client)}}_i.Jobs=bi;_i.FineTuningJobsPage=jy;_i.FineTuningJobEventsPage=Cy;_i.Checkpoints=zf;class R2 extends _e{createVariation(t,n){return this._client.post("/images/variations",Xo({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Xo({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Ny extends _e{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",ky,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class ky extends Df{}Ny.ModelsPage=ky;class A2 extends _e{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function xB(e,t){return!t||!bB(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:O2(e,t)}function O2(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:jB(t,s)};if(s.type==="message"){const a=s.content.map(i=>i.type==="output_text"?{...i,parsed:wB(t,i.text)}:i);return{...s,content:a}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||M2(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),r}function wB(e,t){var n,r,s,a;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((a=e.text)==null?void 0:a.format).$parseRaw(t):JSON.parse(t)}function bB(e){var t;return!!iy((t=e.text)==null?void 0:t.format)}function _B(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function SB(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function jB(e,t){const n=SB(e.tools??[],t.name);return{...t,...t,parsed_arguments:_B(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function M2(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class I2 extends _e{list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,NB,{query:n,...r})}}var Xa=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ns=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ja,pu,rs,gu,Ow,Mw,Iw,$w;class Ey extends sy{constructor(t){super(),Ja.add(this),pu.set(this,void 0),rs.set(this,void 0),gu.set(this,void 0),Xa(this,pu,t,"f")}static createResponse(t,n,r){const s=new Ey(n);return s._run(()=>s._createResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(t,n,r){var i;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ns(this,Ja,"m",Ow).call(this);const a=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of a)ns(this,Ja,"m",Mw).call(this,l);if((i=a.controller.signal)!=null&&i.aborted)throw new Rn;return ns(this,Ja,"m",Iw).call(this)}[(pu=new WeakMap,rs=new WeakMap,gu=new WeakMap,Ja=new WeakSet,Ow=function(){this.ended||Xa(this,rs,void 0,"f")},Mw=function(n){if(this.ended)return;const r=ns(this,Ja,"m",$w).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new fe(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new fe(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new fe(`expected content to be 'output_text', got ${a.type}`);this._emit("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new fe(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},Iw=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");const n=ns(this,rs,"f");if(!n)throw new fe("request ended without sending any events");Xa(this,rs,void 0,"f");const r=CB(n,ns(this,pu,"f"));return Xa(this,gu,r,"f"),r},$w=function(n){let r=ns(this,rs,"f");if(!r){if(n.type!=="response.created")throw new fe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Xa(this,rs,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new fe(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new fe(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new fe(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new fe(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new fe(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{Xa(this,rs,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,i)=>n.push({resolve:a,reject:i})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=ns(this,gu,"f");if(!t)throw new fe("stream ended without producing a ChatCompletion");return t}}function CB(e,t){return xB(e,t)}class Py extends _e{constructor(){super(...arguments),this.inputItems=new I2(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&M2(r),r))}retrieve(t,n={},r){return Ze(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...r})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>O2(r,t))}stream(t,n){return Ey.createResponse(this._client,t,n)}}class NB extends Et{}Py.InputItems=I2;class $2 extends _e{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Xo({body:n,...r}))}}class Ty extends _e{constructor(){super(...arguments),this.parts=new $2(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}Ty.Parts=$2;const kB=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class Hf extends _e{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ze(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Wf,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const a=await this.retrieve(t,n,{...r,headers:s}).withResponse(),i=a.data;switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=a.response.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await gc(l);break;case"failed":case"completed":return i}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Ry,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Wf extends Et{}class Ry extends Df{}Hf.VectorStoreFilesPage=Wf;Hf.FileContentResponsesPage=Ry;class D2 extends _e{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return Ze(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Wf,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:i}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=i.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(l=u)}}await gc(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(s==null?void 0:s.maxConcurrency)??5,i=Math.min(a,n.length),l=this._client,c=n.values(),u=[...r];async function d(h){for(let v of h){const x=await l.files.create({file:v,purpose:"assistants"},s);u.push(x.id)}}const f=Array(i).fill(c).map(d);return await kB(f),await this.createAndPoll(t,{file_ids:u})}}class Qs extends _e{constructor(){super(...arguments),this.files=new Hf(this._client),this.fileBatches=new D2(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Ze(t)?this.list({},t):this._client.getAPIList("/vector_stores",Ay,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Oy,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ay extends Et{}class Oy extends Df{}Qs.VectorStoresPage=Ay;Qs.VectorStoreSearchResponsesPage=Oy;Qs.Files=Hf;Qs.VectorStoreFilesPage=Wf;Qs.FileContentResponsesPage=Ry;Qs.FileBatches=D2;var L2;class we extends KU{constructor({baseURL:t=uu("OPENAI_BASE_URL"),apiKey:n=uu("OPENAI_API_KEY"),organization:r=uu("OPENAI_ORG_ID")??null,project:s=uu("OPENAI_PROJECT_ID")??null,...a}={}){if(n===void 0)throw new fe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:n,organization:r,project:s,...a,baseURL:t||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&sB())throw new fe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new P2(this),this.chat=new Uf(this),this.embeddings=new T2(this),this.files=new yy(this),this.images=new R2(this),this.audio=new vc(this),this.moderations=new A2(this),this.models=new Ny(this),this.fineTuning=new _i(this),this.vectorStores=new Qs(this),this.beta=new wi(this),this.batches=new ny(this),this.uploads=new Ty(this),this.responses=new Py(this),this.evals=new bc(this),this._options=i,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return TU(t,{arrayFormat:"brackets"})}}L2=we;we.OpenAI=L2;we.DEFAULT_TIMEOUT=6e5;we.OpenAIError=fe;we.APIError=kt;we.APIConnectionError=Of;we.APIConnectionTimeoutError=ty;we.APIUserAbortError=Rn;we.NotFoundError=UE;we.ConflictError=BE;we.RateLimitError=HE;we.BadRequestError=DE;we.AuthenticationError=LE;we.InternalServerError=WE;we.PermissionDeniedError=FE;we.UnprocessableEntityError=zE;we.toFile=QE;we.fileFromPath=ME;we.Completions=P2;we.Chat=Uf;we.ChatCompletionsPage=Ff;we.Embeddings=T2;we.Files=yy;we.FileObjectsPage=xy;we.Images=R2;we.Audio=vc;we.Moderations=A2;we.Models=Ny;we.ModelsPage=ky;we.FineTuning=_i;we.VectorStores=Qs;we.VectorStoresPage=Ay;we.VectorStoreSearchResponsesPage=Oy;we.Beta=wi;we.Batches=ny;we.BatchesPage=ry;we.Uploads=Ty;we.Responses=Py;we.Evals=bc;we.EvalListResponsesPage=vy;const EB="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";new we({apiKey:EB,dangerouslyAllowBrowser:!0});async function F2(){const{data:e,error:t}=await ut.from("knowledge_base_sources").select("*").eq("is_enabled",!0);if(t)throw console.error("Error fetching knowledge base sources:",t),t;return e||[]}async function PB(e){const{data:t,error:n}=await ut.from("user_kb_preferences").select("*").eq("user_id",e).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching user KB preferences:",n),n;return t}async function TB(e,t,n){const{data:r,error:s}=await ut.from("user_kb_preferences").upsert({user_id:e,selected_sources:t,use_web_search:n,updated_at:new Date().toISOString()});if(s)throw console.error("Error saving user KB preferences:",s),s}const RB=()=>{const e=Un(),[t,n]=m.useState([]);return m.useEffect(()=>{async function r(){try{const s=await F2();n(s)}catch(s){console.error("Error loading resources:",s)}}r()},[]),o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:o.jsxs("div",{className:"container mx-auto py-4 px-6 flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h1",{className:"text-xl font-bold text-ems-600 dark:text-ems-400",children:"Knowledge Base"})}),o.jsxs(U,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),"Back to Dashboard"]})]})}),o.jsxs("main",{className:"container mx-auto py-8 px-6",children:[o.jsxs(qt,{className:"mb-8",children:[o.jsxs(Dn,{children:[o.jsx(Ln,{children:"Upload Resources"}),o.jsx(Fn,{children:"Upload EMS protocols, guidelines, and samples for the AI to reference"})]}),o.jsx(an,{children:o.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg",children:[o.jsx(PA,{className:"h-16 w-16 mx-auto mb-4 opacity-40"}),o.jsx("p",{className:"text-lg font-medium",children:"Drag & Drop Files Here"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Or click to browse your files"}),o.jsx(U,{className:"mt-4",children:"Upload Files"})]})})]}),o.jsxs(qt,{children:[o.jsxs(Dn,{children:[o.jsx(Ln,{children:"Available Resources"}),o.jsx(Fn,{children:"Access your uploaded protocols and guidelines"})]}),o.jsx(an,{children:t.length>0?o.jsx("ul",{className:"space-y-2",children:t.map(r=>o.jsxs("li",{className:"flex flex-col p-2 border rounded",children:[o.jsx("span",{className:"font-medium",children:r.name}),o.jsx("span",{className:"text-sm text-gray-500",children:r.file_path})]},r.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(D_,{className:"h-12 w-12 mx-auto mb-4 opacity-40"}),o.jsx("p",{children:"No resources available"}),o.jsx("p",{className:"text-sm mt-2 text-gray-500 dark:text-gray-400",children:"Upload EMS protocols and guidelines to enhance AI-generated narratives"})]})})]})]})]})};function AB({onPreferencesChange:e}){const[t,n]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState(!0),[l,c]=m.useState(!0),[u,d]=m.useState(!1),{toast:f}=Ma();m.useEffect(()=>{async function _(){try{c(!0);const S=await F2();n(S);const{data:{user:C}}=await ut.auth.getUser();if(C){const j=await PB(C.id);j?(s(j.selected_sources),i(j.use_web_search)):s(S.map(N=>N.id))}}catch(S){console.error("Error fetching knowledge base data:",S),f({title:"Error",description:"Failed to load knowledge base options",variant:"destructive"})}finally{c(!1)}}_()},[f]);const h=(_,S)=>{s(C=>S?[...C,_]:C.filter(j=>j!==_))},v=_=>{i(_)},x=async()=>{try{d(!0);const{data:{user:_}}=await ut.auth.getUser();_&&(await TB(_.id,r,a),f({title:"Success",description:"Knowledge base preferences saved"}),e&&e(r,a))}catch(_){console.error("Error saving knowledge base preferences:",_),f({title:"Error",description:"Failed to save preferences",variant:"destructive"})}finally{d(!1)}},g=t.filter(_=>_.name.includes("National EMS Guidelines")),w=t.filter(_=>_.name.includes("Regional")),y=g.map(_=>_.id),p=y.every(_=>r.includes(_)),b=_=>{s(S=>{const C=S.filter(j=>!y.includes(j));return _?[...C,...y]:C})};return o.jsxs(qt,{className:"w-full",children:[o.jsxs(Dn,{children:[o.jsx(Ln,{children:"Knowledge Base Selection"}),o.jsx(Fn,{children:"Select which knowledge bases to use for narrative generation"})]}),o.jsx(an,{children:l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Jx,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"National EMS Protocols"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"national-ems-protocols-group",checked:p,onCheckedChange:_=>b(_===!0)}),o.jsx(R,{htmlFor:"national-ems-protocols-group",className:"text-sm",children:"National EMS Guidelines (full & chunked)"})]},"national-ems-protocols-group")]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Regional Protocols"}),w.map(_=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:_.id,checked:r.includes(_.id),onCheckedChange:S=>h(_.id,S===!0)}),o.jsx(R,{htmlFor:_.id,className:"text-sm",children:_.name})]},_.id))]}),o.jsx("div",{className:"pt-2 border-t",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(R,{htmlFor:"web-search",className:"text-sm",children:"Use web search when no knowledge base is selected"}),o.jsx(Ce,{id:"web-search",checked:a,onCheckedChange:v})]})})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsxs(U,{onClick:x,disabled:u,children:[u&&o.jsx(Jx,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Preferences"]})})]})})]})}const OB=()=>{const[e,t]=m.useState(!0),[n,r]=m.useState("professional"),[s,a]=m.useState("general"),[i,l]=m.useState(!1),c=(u,d)=>{console.log("Knowledge base preferences updated:",{selectedSources:u,useWebSearch:d})};return o.jsxs(qt,{children:[o.jsxs(Dn,{children:[o.jsx(Ln,{children:"Narrative Settings"}),o.jsx(Fn,{children:"Configure default settings for narrative generation"})]}),o.jsx(an,{children:o.jsxs(gi,{value:s,onValueChange:a,className:"w-full",children:[o.jsxs(Us,{className:"grid w-full grid-cols-2",children:[o.jsx(De,{value:"general",children:"General"}),o.jsx(De,{value:"knowledge-base",children:"Knowledge Base"})]}),o.jsxs(Fe,{value:"general",className:"space-y-5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(R,{htmlFor:"abbreviations",className:"text-base",children:"Use EMS Abbreviations"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Toggle standard EMS abbreviations in narratives"})]}),o.jsx(Ce,{id:"abbreviations",checked:e,onCheckedChange:t})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsxs("div",{children:[o.jsx(R,{htmlFor:"openrouter",className:"text-base",children:"Use OpenRouter API"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Use OpenRouter instead of OpenAI for narrative generation"})]}),o.jsx(Ce,{id:"openrouter",checked:i,onCheckedChange:l})]}),o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsxs("div",{children:[o.jsx(R,{className:"text-base",children:"Narrative Tone"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Select the default tone for generated narratives"})]}),o.jsxs(Xv,{type:"single",value:n,onValueChange:u=>u&&r(u),className:"justify-start",children:[o.jsx(_s,{value:"professional",children:"Professional"}),o.jsx(_s,{value:"friendly",children:"Friendly"}),o.jsx(_s,{value:"clinical",children:"Clinical"})]})]})]}),o.jsx(Fe,{value:"knowledge-base",children:o.jsx(AB,{onPreferencesChange:c})})]})})]})},Dw=()=>{const e=Un(),{user:t,refreshUser:n}=xf(),{toast:r}=Ma(),[s,a]=m.useState(!1),[i,l]=m.useState("profile"),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,v]=m.useState(""),[x,g]=m.useState(""),[w,y]=m.useState(""),[p,b]=m.useState(localStorage.getItem("theme")==="dark"),[_,S]=m.useState(localStorage.getItem("autoSaveDrafts")==="true"),[C,j]=m.useState(localStorage.getItem("enableNotifications")==="true");m.useEffect(()=>{(async()=>{var q,F;if(t)try{a(!0),v(t.email||""),u(((q=t.user_metadata)==null?void 0:q.first_name)||""),f(((F=t.user_metadata)==null?void 0:F.last_name)||"");const{data:K,error:H}=await ut.from("profiles").select("department, position").eq("id",t.id).single();K&&(g(K.department||""),y(K.position||"")),H&&H.code!=="PGRST116"&&console.error("Error loading profile:",H)}catch(K){console.error("Error:",K)}finally{a(!1)}})()},[t]);const N=I=>{b(I),localStorage.setItem("theme",I?"dark":"light"),document.documentElement.classList.toggle("dark",I)},E=I=>{S(I),localStorage.setItem("autoSaveDrafts",String(I))},M=I=>{j(I),localStorage.setItem("enableNotifications",String(I))},T=async()=>{if(t)try{a(!0);const{error:I}=await ut.auth.updateUser({data:{first_name:c,last_name:d}});if(I)throw I;const{error:q}=await ut.from("profiles").upsert({id:t.id,department:x,position:w,updated_at:new Date().toISOString()});if(q)throw q;await n(),r({title:"Profile Updated",description:"Your profile has been successfully updated."})}catch(I){console.error("Error saving profile:",I),r({title:"Update Failed",description:I.message||"Failed to update profile. Please try again.",variant:"destructive"})}finally{a(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:o.jsxs("div",{className:"container mx-auto py-4 px-6 flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h1",{className:"text-xl font-bold text-ems-600 dark:text-ems-400",children:"Account Settings"})}),o.jsxs(U,{variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[o.jsx($a,{className:"h-4 w-4"}),"Back to Dashboard"]})]})}),o.jsx("main",{className:"container mx-auto py-8 px-6",children:o.jsxs(gi,{value:i,onValueChange:l,className:"w-full",children:[o.jsxs(Us,{className:"mb-6",children:[o.jsx(De,{value:"profile",children:"Profile"}),o.jsx(De,{value:"preferences",children:"Preferences"}),o.jsx(De,{value:"knowledge-base",children:"Knowledge Base"})]}),o.jsx(Fe,{value:"profile",children:o.jsxs(qt,{children:[o.jsxs(Dn,{children:[o.jsxs(Ln,{className:"flex items-center gap-2",children:[o.jsx(X_,{className:"h-5 w-5"}),"Profile Settings"]}),o.jsx(Fn,{children:"Update your personal information"})]}),o.jsxs(an,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"firstName",children:"First Name"}),o.jsx(ce,{id:"firstName",value:c,onChange:I=>u(I.target.value),placeholder:"Enter your first name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"lastName",children:"Last Name"}),o.jsx(ce,{id:"lastName",value:d,onChange:I=>f(I.target.value),placeholder:"Enter your last name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"email",children:"Email"}),o.jsx(ce,{id:"email",type:"email",value:h,disabled:!0,className:"bg-gray-100"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Contact support to change your email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"department",children:"Department"}),o.jsx(ce,{id:"department",value:x,onChange:I=>g(I.target.value),placeholder:"Your EMS department"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"position",children:"Position"}),o.jsx(ce,{id:"position",value:w,onChange:I=>y(I.target.value),placeholder:"Your position (e.g., Paramedic)"})]})]}),o.jsxs(U,{className:"mt-4",onClick:T,disabled:s,children:[s?"Saving...":"Save Profile",!s&&o.jsx(K_,{className:"ml-2 h-4 w-4"})]})]})]})}),o.jsx(Fe,{value:"preferences",children:o.jsxs(qt,{children:[o.jsxs(Dn,{children:[o.jsx(Ln,{children:"App Settings"}),o.jsx(Fn,{children:"Customize your experience"})]}),o.jsxs(an,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(R,{htmlFor:"dark-mode",children:"Dark Mode"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Enable dark mode for the application"})]}),o.jsx(Ce,{id:"dark-mode",checked:p,onCheckedChange:N})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(R,{htmlFor:"auto-save",children:"Auto-Save Drafts"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Automatically save narratives as you type"})]}),o.jsx(Ce,{id:"auto-save",checked:_,onCheckedChange:E})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(R,{htmlFor:"notifications",children:"Notifications"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications about updates"})]}),o.jsx(Ce,{id:"notifications",checked:C,onCheckedChange:M})]})]})]})}),o.jsx(Fe,{value:"knowledge-base",children:o.jsx(OB,{})})]})})]})},MB=()=>{const e=ci();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},IB=({toggleSidebar:e,toggleSettings:t,sidebarVisible:n,isDarkMode:r,toggleDarkMode:s,userName:a="User"})=>o.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{onClick:e,feedbackColor:"#6366f1","aria-label":n?"Hide sidebar":"Show sidebar",children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-9 w-9",children:o.jsx(Yg,{className:"h-5 w-5"})})}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white bg-gradient-to-r from-ems-600 to-purple-600 dark:from-ems-400 dark:to-purple-400 bg-clip-text text-transparent",children:"NarrativeIQ"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Sr,{children:[o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx($e,{onClick:s,feedbackColor:"#6366f1","aria-label":r?"Switch to light mode":"Switch to dark mode",children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-9 w-9",children:r?o.jsx(rp,{className:"h-5 w-5"}):o.jsx(np,{className:"h-5 w-5"})})})}),o.jsx(vn,{children:o.jsx("p",{children:r?"Switch to light mode":"Switch to dark mode"})})]}),o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx($e,{feedbackColor:"#6366f1","aria-label":"Help and support",children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-9 w-9",children:o.jsx(qg,{className:"h-5 w-5"})})})}),o.jsx(vn,{children:o.jsx("p",{children:"Help and support"})})]}),o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx($e,{onClick:t,feedbackColor:"#6366f1","aria-label":"Open settings",children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-9 w-9",children:o.jsx(si,{className:"h-5 w-5"})})})}),o.jsx(vn,{children:o.jsx("p",{children:"Settings"})})]}),o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx($e,{feedbackColor:"#6366f1","aria-label":"View profile",children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-9 w-9",children:o.jsx(mA,{className:"h-5 w-5"})})})}),o.jsx(vn,{children:o.jsxs("p",{children:["Profile: ",a]})})]})]})})]})}),$B=Jl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kp({className:e,variant:t,...n}){return o.jsx("div",{className:re($B({variant:t}),e),...n})}const DB=({visible:e,sessions:t,activeSession:n,onNewSession:r,onSelectSession:s,onRenameSession:a,onDeleteSession:i})=>{const[l,c]=m.useState("");m.useState(!1);const[u,d]=m.useState("all"),[f,h]=m.useState(!0),v=t.reduce((g,w)=>{const y=w.date;return g[y]||(g[y]=[]),g[y].push(w),g},{}),x=Object.keys(v).reduce((g,w)=>{let y=v[w];if(l.trim()&&(y=y.filter(p=>p.name.toLowerCase().includes(l.toLowerCase()))),u!=="all"){const p=Wt(new Date,"MMM d, yyyy");if(u==="today"&&w!==p)y=[];else if(u==="week"){const b=new Date;b.setDate(b.getDate()-7),new Date(w)<b&&(y=[])}}return y.length>0&&(g[w]=y),g},{});return o.jsx("div",{className:`fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 pt-16 z-10 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,"aria-label":"Dashboard sidebar","aria-hidden":!e,children:o.jsxs("div",{className:"p-4 space-y-4 h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{},className:"p-1","aria-label":"Go to home",children:o.jsx(jA,{className:"h-4 w-4 text-ems-600 dark:text-ems-400"})})}),o.jsx(vn,{side:"right",children:o.jsx("p",{children:"Go to home"})})]})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Session Manager"}),o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{size:"sm",onClick:r,className:"h-8 w-8 p-0",variant:"ghost","aria-label":"Create new session",children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsx(vn,{side:"right",children:o.jsx("p",{children:"Create new session"})})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Y_,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500 dark:text-gray-400"}),o.jsx(ce,{placeholder:"Search sessions...",className:"pl-8 h-9 text-sm",value:l,onChange:g=>c(g.target.value),"aria-label":"Search sessions"})]}),o.jsxs(jE,{children:[o.jsx(CE,{asChild:!0,children:o.jsx(U,{variant:"outline",size:"icon",className:"h-9 w-9","aria-label":"Filter sessions",children:o.jsx(wA,{className:"h-4 w-4"})})}),o.jsx(ey,{className:"w-56 p-3",side:"right",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Filter Sessions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Period"}),o.jsxs($t,{value:u,onValueChange:d,children:[o.jsx(St,{className:"h-8 text-xs",children:o.jsx(Dt,{placeholder:"Select time period"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"all",children:"All Sessions"}),o.jsx(ge,{value:"today",children:"Today"}),o.jsx(ge,{value:"week",children:"Past Week"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Session Type"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"type-narrative",defaultChecked:!0}),o.jsx("label",{htmlFor:"type-narrative",className:"text-xs",children:"Narrative"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bt,{id:"type-chat",defaultChecked:!0}),o.jsx("label",{htmlFor:"type-chat",className:"text-xs",children:"Chat"})]})]})]})]})})]})]}),o.jsxs(U,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:r,children:[o.jsx(_r,{className:"h-4 w-4 mr-2"}),"New Session"]}),o.jsx(Sf,{className:"flex-1 pr-3",children:Object.keys(x).length===0?o.jsxs("div",{className:"text-center py-8 space-y-3",children:[o.jsx(Is,{className:"h-10 w-10 text-gray-400 mx-auto"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No sessions found"}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Try a different search term or filter"})]}),o.jsx(U,{variant:"link",onClick:()=>{c(""),d("all")},className:"text-xs",children:"Clear filters"})]}):Object.entries(x).map(([g,w])=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center mb-1 px-1",children:[o.jsx(L_,{className:"h-3 w-3 text-gray-500 dark:text-gray-400 mr-1"}),o.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:g}),o.jsx(Kp,{variant:"outline",className:"ml-2 text-[10px] px-1 py-0 h-4",children:w.length})]}),w.map(y=>o.jsxs("div",{className:`mt-1 px-3 py-2.5 rounded-md cursor-pointer flex items-center group hover:bg-gray-100 dark:hover:bg-gray-700/50 ${y.id===n?"bg-ems-50 dark:bg-ems-900/20 text-ems-600 dark:text-ems-400":""}`,onClick:()=>s(y.id),"aria-selected":y.id===n,role:"option",children:[o.jsx(Is,{className:`h-4 w-4 mr-2 flex-shrink-0 ${y.id===n?"text-ems-600 dark:text-ems-400":"text-gray-500 dark:text-gray-400"}`}),o.jsxs("div",{className:"truncate flex-1",children:[o.jsx("p",{className:"truncate text-sm font-medium",children:y.name}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[o.jsx(Kg,{className:"h-3 w-3 mr-1"}),Wt(new Date,"hh:mm a")]})]}),o.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-500",onClick:p=>{p.stopPropagation(),a(y.id)},"aria-label":`Rename session ${y.name}`,children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 15 15",fill:"currentColor",children:o.jsx("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fillRule:"evenodd",clipRule:"evenodd"})})})}),o.jsx(vn,{side:"bottom",children:o.jsx("p",{children:"Rename"})})]})}),o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500",onClick:p=>{p.stopPropagation(),i(y.id)},"aria-label":`Delete session ${y.name}`,children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 15 15",fill:"currentColor",children:o.jsx("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H3.5C3.22386 4 3 3.77614 3 3.5ZM3 5.5C3 5.22386 3.22386 5 3.5 5H11.5C11.7761 5 12 5.22386 12 5.5C12 5.77614 11.7761 6 11.5 6H3.5C3.22386 6 3 5.77614 3 5.5ZM3 7.5C3 7.22386 3.22386 7 3.5 7H11.5C11.7761 7 12 7.22386 12 7.5C12 7.77614 11.7761 8 11.5 8H3.5C3.22386 8 3 7.77614 3 7.5ZM3 9.5C3 9.22386 3.22386 9 3.5 9H11.5C11.7761 9 12 9.22386 12 9.5C12 9.77614 11.7761 10 11.5 10H3.5C3.22386 10 3 9.77614 3 9.5ZM3 11.5C3 11.2239 3.22386 11 3.5 11H11.5C11.7761 11 12 11.2239 12 11.5C12 11.7761 11.7761 12 11.5 12H3.5C3.22386 12 3 11.7761 3 11.5ZM3 13.5C3 13.2239 3.22386 13 3.5 13H11.5C11.7761 13 12 13.2239 12 13.5C12 13.7761 11.7761 14 11.5 14H3.5C3.22386 14 3 13.7761 3 13.5Z",fillRule:"evenodd",clipRule:"evenodd"})})})}),o.jsx(vn,{side:"bottom",children:o.jsx("p",{children:"Delete"})})]})})]})]},y.id))]},g))}),o.jsxs(pN,{open:f,onOpenChange:h,className:"border-t border-gray-200 dark:border-gray-700 pt-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Resources"}),o.jsx(gN,{asChild:!0,children:o.jsxs(U,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:[o.jsx(ri,{className:`h-4 w-4 transition-transform duration-200 ${f?"":"-rotate-90"}`}),o.jsx("span",{className:"sr-only",children:"Toggle resources"})]})})]}),o.jsxs(vN,{className:"space-y-1 pt-2",children:[o.jsxs(U,{variant:"ghost",size:"sm",className:"w-full justify-start text-sm h-9","aria-label":"Knowledge Base",children:[o.jsx(D_,{className:"h-4 w-4 mr-2"}),"Knowledge Base"]}),o.jsxs(U,{variant:"ghost",size:"sm",className:"w-full justify-start text-sm h-9","aria-label":"Saved Templates",children:[o.jsx(H_,{className:"h-4 w-4 mr-2"}),"Saved Templates"]}),o.jsxs(U,{variant:"ghost",size:"sm",className:"w-full justify-start text-sm h-9","aria-label":"Settings",children:[o.jsx(si,{className:"h-4 w-4 mr-2"}),"Settings"]}),o.jsxs(U,{variant:"ghost",size:"sm",className:"w-full justify-start text-sm h-9","aria-label":"Help & Support",children:[o.jsx(qg,{className:"h-4 w-4 mr-2"}),"Help & Support"]})]})]})]})})},LB=({visible:e,toggleSidebar:t,activeTab:n,onTabChange:r,onSubmit:s,onOpenSettings:a})=>{const[i,l]=m.useState(!0),[c,u]=m.useState(!1);return o.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 pt-16 pb-4 z-10 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,"aria-label":"Narrative form sidebar","aria-hidden":!e,children:[o.jsx("div",{className:"absolute -left-8 top-1/2 -translate-y-1/2",children:o.jsx(U,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-md",onClick:t,"aria-label":e?"Hide form sidebar":"Show form sidebar",children:e?o.jsx(dd,{className:"h-4 w-4"}):o.jsx(F_,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex items-center justify-between px-4 mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Patient Care Report"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",onClick:()=>u(!c),"aria-label":"Toggle advanced fields",children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsx(vn,{children:o.jsx("p",{children:"Toggle advanced fields"})})]})}),o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",onClick:a,"aria-label":"Form settings",children:o.jsx(si,{className:"h-4 w-4"})})}),o.jsx(vn,{children:o.jsx("p",{children:"Narrative settings"})})]})})]})]}),o.jsxs(gi,{value:n,onValueChange:r,className:"w-full px-2",children:[o.jsxs(Us,{className:"grid grid-cols-5 w-full mb-4",children:[o.jsxs(De,{value:"dispatch","aria-label":"Dispatch tab",className:"flex flex-col items-center p-2 text-xs",children:[o.jsx($_,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Dispatch"})]}),o.jsxs(De,{value:"patient","aria-label":"Patient tab",className:"flex flex-col items-center p-2 text-xs",children:[o.jsx(_A,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Patient"})]}),o.jsxs(De,{value:"assessment","aria-label":"Assessment tab",className:"flex flex-col items-center p-2 text-xs",children:[o.jsx(I_,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Assessment"})]}),o.jsxs(De,{value:"treatment","aria-label":"Treatment tab",className:"flex flex-col items-center p-2 text-xs",children:[o.jsx(q_,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Treatment"})]}),o.jsxs(De,{value:"transport","aria-label":"Transport tab",className:"flex flex-col items-center p-2 text-xs",children:[o.jsx(Is,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Transport"})]})]}),o.jsx(Sf,{className:"h-[calc(100vh-170px)]",children:o.jsxs("div",{className:"px-2 space-y-6",children:[o.jsxs(Fe,{value:"dispatch",className:"mt-0 space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(R,{htmlFor:"unit",className:"text-sm font-medium",children:"Unit Number"}),o.jsx(Kp,{variant:"outline",className:"text-xs bg-ems-50 text-ems-700 dark:bg-ems-900/20 dark:text-ems-400",children:"Required"})]}),o.jsx(ce,{id:"unit",placeholder:"e.g., M42, E15",className:"h-9"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(R,{htmlFor:"dispatch_reason",className:"text-sm font-medium",children:"Dispatch Reason"}),o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-5 w-5 text-gray-500",children:o.jsx(Xx,{className:"h-3.5 w-3.5"})})}),o.jsx(vn,{children:o.jsx("p",{className:"text-xs max-w-xs",children:"Include the dispatch reason, location, and nature of the call"})})]})})]}),o.jsx(et,{id:"dispatch_reason",placeholder:"Enter dispatch details, location, nature of call...",rows:3,className:"resize-none"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"response_delay",className:"text-sm font-medium",children:"Response Delay"}),o.jsxs($t,{defaultValue:"No response delays",children:[o.jsx(St,{className:"h-9",children:o.jsx(Dt,{placeholder:"Select response delay"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"No response delays",children:"No response delays"}),o.jsx(ge,{value:"Traffic congestion",children:"Traffic congestion"}),o.jsx(ge,{value:"Weather conditions",children:"Weather conditions"}),o.jsx(ge,{value:"Multiple calls",children:"Multiple calls"}),o.jsx(ge,{value:"Custom",children:"Custom reason"})]})]})]}),c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"incident_number",className:"text-sm font-medium",children:"Incident Number"}),o.jsx(ce,{id:"incident_number",placeholder:"e.g., 2023-12345",className:"h-9"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"dispatch_priority",className:"text-sm font-medium",children:"Dispatch Priority"}),o.jsxs($t,{defaultValue:"2",children:[o.jsx(St,{className:"h-9",children:o.jsx(Dt,{placeholder:"Select priority"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"1",children:"Priority 1 - Emergent"}),o.jsx(ge,{value:"2",children:"Priority 2 - Urgent"}),o.jsx(ge,{value:"3",children:"Priority 3 - Non-urgent"})]})]})]})]})]}),o.jsxs(Fe,{value:"patient",className:"mt-0 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"patient_sex",className:"text-sm font-medium",children:"Patient Sex"}),o.jsxs($t,{children:[o.jsx(St,{className:"h-9",children:o.jsx(Dt,{placeholder:"Select"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"male",children:"Male"}),o.jsx(ge,{value:"female",children:"Female"}),o.jsx(ge,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"patient_age",className:"text-sm font-medium",children:"Patient Age"}),o.jsx(ce,{id:"patient_age",placeholder:"Age",type:"number",className:"h-9"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(R,{htmlFor:"chief_complaint",className:"text-sm font-medium",children:"Chief Complaint"}),o.jsx(Kp,{variant:"outline",className:"text-xs bg-ems-50 text-ems-700 dark:bg-ems-900/20 dark:text-ems-400",children:"Required"})]}),o.jsx(et,{id:"chief_complaint",placeholder:"Patient's primary complaint...",rows:3,className:"resize-none"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"duration",className:"text-sm font-medium",children:"Duration"}),o.jsx(ce,{id:"duration",placeholder:"e.g., 2 hours, 3 days",className:"h-9"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"patient_presentation",className:"text-sm font-medium",children:"Presentation"}),o.jsx(et,{id:"patient_presentation",placeholder:"Describe how the patient presented...",rows:3,className:"resize-none"})]}),c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"allergies",className:"text-sm font-medium",children:"Allergies"}),o.jsx(et,{id:"allergies",placeholder:"Known allergies...",rows:2,className:"resize-none"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"medications",className:"text-sm font-medium",children:"Current Medications"}),o.jsx(et,{id:"medications",placeholder:"Current medications...",rows:2,className:"resize-none"})]})]})]}),o.jsxs(Fe,{value:"assessment",className:"mt-0 space-y-4",children:[o.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-md text-amber-800 dark:text-amber-200 text-sm flex items-start gap-2",children:[o.jsx(Zl,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:["Complete the assessment fields to generate a detailed narrative. Fields marked with ",o.jsx("span",{className:"text-ems-700 dark:text-ems-400",children:"•"})," are required."]})]}),o.jsxs("div",{className:"space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4",children:[o.jsx(R,{className:"text-sm font-medium",children:"Mental Status"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"aao_person",defaultChecked:!0}),o.jsx(R,{htmlFor:"aao_person",className:"text-sm",children:"Alert to Person"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"aao_place",defaultChecked:!0}),o.jsx(R,{htmlFor:"aao_place",className:"text-sm",children:"Alert to Place"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"aao_time",defaultChecked:!0}),o.jsx(R,{htmlFor:"aao_time",className:"text-sm",children:"Alert to Time"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"aao_event",defaultChecked:!0}),o.jsx(R,{htmlFor:"aao_event",className:"text-sm",children:"Alert to Event"})]})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"is_unresponsive"}),o.jsx(R,{htmlFor:"is_unresponsive",className:"text-sm",children:"Patient is unresponsive"})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"gcs_score",className:"text-sm font-medium",children:"GCS Score"}),o.jsxs("div",{className:"relative",children:[o.jsx(ce,{id:"gcs_score",defaultValue:"15",className:"h-9 pr-8"}),o.jsx(Sr,{children:o.jsxs(Pn,{children:[o.jsx(Tn,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"icon",className:"h-5 w-5 absolute right-1 top-2 text-gray-500",children:o.jsx(Xx,{className:"h-3.5 w-3.5"})})}),o.jsx(vn,{children:o.jsx("p",{className:"text-xs",children:"Glasgow Coma Scale (3-15)"})})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"pupils",className:"text-sm font-medium",children:"Pupils"}),o.jsx(ce,{id:"pupils",defaultValue:"PERRL",className:"h-9"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"vital_signs",className:"text-sm font-medium",children:"Vital Signs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"bp",className:"text-xs text-gray-500",children:"Blood Pressure"}),o.jsx(ce,{id:"bp",placeholder:"e.g., 120/80",className:"h-8"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"hr",className:"text-xs text-gray-500",children:"Heart Rate"}),o.jsx(ce,{id:"hr",placeholder:"e.g., 72",className:"h-8"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"rr",className:"text-xs text-gray-500",children:"Resp Rate"}),o.jsx(ce,{id:"rr",placeholder:"e.g., 16",className:"h-8"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"spo2",className:"text-xs text-gray-500",children:"SpO2"}),o.jsx(ce,{id:"spo2",placeholder:"e.g., 98%",className:"h-8"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"additional_assessment",className:"text-sm font-medium",children:"Additional Assessment Notes"}),o.jsx(et,{id:"additional_assessment",placeholder:"Any additional assessment findings...",rows:3,className:"resize-none"})]}),c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"secondary_assessment",className:"text-sm font-medium",children:"Secondary Assessment"}),o.jsx(et,{id:"secondary_assessment",placeholder:"Secondary assessment findings...",rows:3,className:"resize-none"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{className:"text-sm font-medium",children:"DCAP-BTLS Assessment"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"dcap_head",defaultChecked:!0}),o.jsx(R,{htmlFor:"dcap_head",className:"text-sm",children:"Head"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"dcap_neck",defaultChecked:!0}),o.jsx(R,{htmlFor:"dcap_neck",className:"text-sm",children:"Neck"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"dcap_chest",defaultChecked:!0}),o.jsx(R,{htmlFor:"dcap_chest",className:"text-sm",children:"Chest"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"dcap_abdomen",defaultChecked:!0}),o.jsx(R,{htmlFor:"dcap_abdomen",className:"text-sm",children:"Abdomen"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"dcap_pelvis",defaultChecked:!0}),o.jsx(R,{htmlFor:"dcap_pelvis",className:"text-sm",children:"Pelvis"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"dcap_extremities",defaultChecked:!0}),o.jsx(R,{htmlFor:"dcap_extremities",className:"text-sm",children:"Extremities"})]})]})]})]})]}),o.jsxs(Fe,{value:"treatment",className:"mt-0 space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"treatment_provided",className:"text-sm font-medium",children:"Treatment Provided"}),o.jsx(et,{id:"treatment_provided",placeholder:"Describe interventions, medications, procedures...",rows:3,className:"resize-none"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{className:"text-sm font-medium",children:"Medications Administered"}),o.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-md space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"med_name",className:"text-xs text-gray-500",children:"Medication"}),o.jsx(ce,{id:"med_name",placeholder:"e.g., Epinephrine",className:"h-8"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"med_dose",className:"text-xs text-gray-500",children:"Dose"}),o.jsx(ce,{id:"med_dose",placeholder:"e.g., 1:10,000 1mg",className:"h-8"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"med_route",className:"text-xs text-gray-500",children:"Route"}),o.jsxs($t,{defaultValue:"IV",children:[o.jsx(St,{className:"h-8",children:o.jsx(Dt,{placeholder:"Select route"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"IV",children:"IV"}),o.jsx(ge,{value:"IM",children:"IM"}),o.jsx(ge,{value:"IO",children:"IO"}),o.jsx(ge,{value:"PO",children:"PO"}),o.jsx(ge,{value:"SL",children:"SL"}),o.jsx(ge,{value:"IN",children:"IN"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"med_time",className:"text-xs text-gray-500",children:"Time"}),o.jsx(ce,{id:"med_time",placeholder:"e.g., 14:30",className:"h-8"})]})]}),o.jsxs(U,{variant:"outline",size:"sm",className:"w-full h-7 mt-1",children:[o.jsx(_r,{className:"h-3.5 w-3.5 mr-1"}),"Add Medication"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{className:"text-sm font-medium",children:"Procedures"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"proc_airway"}),o.jsx(R,{htmlFor:"proc_airway",className:"text-sm",children:"Airway Management"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"proc_iv"}),o.jsx(R,{htmlFor:"proc_iv",className:"text-sm",children:"IV Access"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"proc_cardiac"}),o.jsx(R,{htmlFor:"proc_cardiac",className:"text-sm",children:"Cardiac Monitoring"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"proc_splinting"}),o.jsx(R,{htmlFor:"proc_splinting",className:"text-sm",children:"Splinting"})]})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"add_protocol_treatments"}),o.jsx(R,{htmlFor:"add_protocol_treatments",className:"text-sm",children:"Treatment per protocol"})]})}),c&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"treatment_response",className:"text-sm font-medium",children:"Patient Response to Treatment"}),o.jsx(et,{id:"treatment_response",placeholder:"Describe how the patient responded to treatments...",rows:3,className:"resize-none"})]})]}),o.jsxs(Fe,{value:"transport",className:"mt-0 space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"refused_transport"}),o.jsx(R,{htmlFor:"refused_transport",className:"text-sm",children:"Patient refused transport"})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"transport_destination",className:"text-sm font-medium",children:"Transport Destination"}),o.jsx(ce,{id:"transport_destination",placeholder:"Hospital name",className:"h-9"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"transport_position",className:"text-sm font-medium",children:"Transport Position"}),o.jsxs($t,{defaultValue:"Position of comfort",children:[o.jsx(St,{className:"h-9",children:o.jsx(Dt,{placeholder:"Select position"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"Position of comfort",children:"Position of comfort"}),o.jsx(ge,{value:"Supine",children:"Supine"}),o.jsx(ge,{value:"Fowlers",children:"Fowlers"}),o.jsx(ge,{value:"Left lateral recumbent",children:"Left lateral recumbent"}),o.jsx(ge,{value:"Right lateral recumbent",children:"Right lateral recumbent"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"room_number",className:"text-sm font-medium",children:"Room #"}),o.jsx(ce,{id:"room_number",placeholder:"Room number",className:"h-9"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"nurse_name",className:"text-sm font-medium",children:"RN Name"}),o.jsx(ce,{id:"nurse_name",placeholder:"Nurse name",className:"h-9"})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"unit_in_service",defaultChecked:!0}),o.jsx(R,{htmlFor:"unit_in_service",className:"text-sm",children:"Unit returned to service"})]})}),c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"transport_mode",className:"text-sm font-medium",children:"Transport Mode"}),o.jsxs($t,{defaultValue:"Emergent",children:[o.jsx(St,{className:"h-9",children:o.jsx(Dt,{placeholder:"Select mode"})}),o.jsxs(jt,{children:[o.jsx(ge,{value:"Emergent",children:"Emergent (Lights & Siren)"}),o.jsx(ge,{value:"Non-emergent",children:"Non-emergent"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(R,{htmlFor:"transport_time",className:"text-sm font-medium",children:"Transport Time (min)"}),o.jsx(ce,{id:"transport_time",placeholder:"e.g., 12",type:"number",className:"h-9"})]})]})]})]})})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"auto_save",checked:i,onCheckedChange:l}),o.jsx(R,{htmlFor:"auto_save",className:"text-xs text-gray-500",children:"Auto-save"})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"Last saved: 2 min ago"})]}),o.jsxs(U,{className:"w-full button-gradient",onClick:s,"aria-label":"Generate narrative",children:[o.jsx(Is,{className:"h-4 w-4 mr-2"}),"Generate Narrative"]})]})]})};function FB({activeSession:e,onNewSession:t,onOpenSessionDrawer:n,onOpenSettingsDrawer:r,userName:s}){const a=fi(),i=Un(),[l,c]=P.useState(!1);return a?o.jsxs(fc,{open:l,onOpenChange:c,children:[o.jsx(Z6,{asChild:!0,children:o.jsx(U,{variant:"outline",size:"icon",className:"fixed bottom-4 right-4 z-50 rounded-full shadow-lg border-2","aria-label":"Open menu",children:o.jsx(Yg,{className:"h-5 w-5"})})}),o.jsx(hc,{className:"p-4",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"EMS Narrative Pro"}),o.jsx(U,{variant:"ghost",size:"icon",onClick:()=>c(!1),"aria-label":"Close menu",children:o.jsx(ec,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx($e,{children:o.jsxs(U,{className:"h-24 flex flex-col items-center justify-center gap-2 w-full",variant:"outline",onClick:()=>{t&&t(),c(!1)},children:[o.jsx(Is,{className:"h-6 w-6"}),o.jsx("span",{children:"New Session"})]})}),o.jsx($e,{children:o.jsxs(U,{className:"h-24 flex flex-col items-center justify-center gap-2 w-full",variant:"outline",onClick:()=>{n&&n(),c(!1)},children:[o.jsx(SA,{className:"h-6 w-6"}),o.jsx("span",{children:"Sessions"})]})})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"User"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx($e,{children:o.jsxs(U,{className:"w-full justify-start",variant:"ghost",onClick:()=>{r&&r(),c(!1)},children:[o.jsx(si,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Settings"})]})}),o.jsx($e,{children:o.jsxs(U,{className:"w-full justify-start",variant:"ghost",onClick:()=>{i("/help"),c(!1)},children:[o.jsx(qg,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Help & Support"})]})})]})]}),s&&o.jsx("div",{className:"border-t pt-4 mt-2",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Signed in as ",o.jsx("span",{className:"font-medium text-foreground",children:s})]})})]})})]}):null}function UB({open:e,onOpenChange:t,onGenerateNarrative:n}){const r=fi(),[s,a]=P.useState("dispatch");return r?o.jsx(fc,{open:e,onOpenChange:t,children:o.jsx(hc,{className:"max-h-[90vh]",children:o.jsxs("div",{className:"max-h-[85vh] overflow-auto pb-8",children:[o.jsxs(Bv,{className:"sticky top-0 z-10 bg-background pb-2 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(zv,{children:"Narrative Details"}),o.jsx(qN,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(ec,{className:"h-4 w-4"})})})]}),o.jsxs(gi,{value:s,onValueChange:a,className:"w-full",children:[o.jsxs(Us,{className:"w-full grid grid-cols-4 h-auto mt-2 bg-muted/50",children:[o.jsxs(De,{value:"dispatch",className:"px-0 py-1.5",children:[o.jsx(z_,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Dispatch"})]}),o.jsxs(De,{value:"patient",className:"px-0 py-1.5",children:[o.jsx(X_,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Patient"})]}),o.jsxs(De,{value:"assessment",className:"px-0 py-1.5",children:[o.jsx(Q_,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Assessment"})]}),o.jsxs(De,{value:"treatment",className:"px-0 py-1.5",children:[o.jsx(q_,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Treatment"})]})]}),o.jsxs(Us,{className:"w-full grid grid-cols-4 h-auto mt-1 bg-muted/50",children:[o.jsxs(De,{value:"transport",className:"px-0 py-1.5",children:[o.jsx($_,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Transport"})]}),o.jsxs(De,{value:"vitals",className:"px-0 py-1.5",children:[o.jsx(I_,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Vitals"})]}),o.jsxs(De,{value:"unit",className:"px-0 py-1.5",children:[o.jsx(hA,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Unit"})]}),o.jsxs(De,{value:"settings",className:"px-0 py-1.5",children:[o.jsx(si,{className:"h-4 w-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Format"})]})]})]})]}),o.jsxs("div",{className:"px-4 pt-4 pb-16",children:[o.jsxs(Fe,{value:"dispatch",className:"space-y-4 mt-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"unit",children:"Unit Number"}),o.jsx(ce,{id:"unit",placeholder:"e.g. Medic 42"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"dispatch_reason",children:"Dispatch Reason"}),o.jsx(ce,{id:"dispatch_reason",placeholder:"e.g. Chest Pain"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"location",children:"Location"}),o.jsx(ce,{id:"location",placeholder:"e.g. 123 Main St"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"delay",children:"Response Delay"}),o.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[o.jsx("div",{className:"space-y-0.5",children:o.jsx(R,{htmlFor:"delay_switch",children:"No response delays"})}),o.jsx(Ce,{id:"delay_switch"})]})]})]}),o.jsxs(Fe,{value:"patient",className:"space-y-4 mt-0",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"age",children:"Age"}),o.jsx(ce,{id:"age",type:"number",placeholder:"Age"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"gender",children:"Gender"}),o.jsxs("select",{id:"gender",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"chief_complaint",children:"Chief Complaint"}),o.jsx(et,{id:"chief_complaint",placeholder:"Chief complaint as stated by patient",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"duration",children:"Duration of Symptoms"}),o.jsx(ce,{id:"duration",placeholder:"e.g. 2 hours"})]})]}),o.jsxs(Fe,{value:"assessment",className:"space-y-4 mt-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{children:"Patient Status"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[o.jsx("div",{className:"space-y-0.5",children:o.jsx(R,{htmlFor:"conscious",children:"Conscious"})}),o.jsx(Ce,{id:"conscious",defaultChecked:!0})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[o.jsx("div",{className:"space-y-0.5",children:o.jsx(R,{htmlFor:"alert",children:"Alert"})}),o.jsx(Ce,{id:"alert",defaultChecked:!0})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"gcs",children:"GCS Score"}),o.jsx(ce,{id:"gcs",type:"number",placeholder:"15"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"pupils",children:"Pupils"}),o.jsxs("select",{id:"pupils",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[o.jsx("option",{value:"PERRL",children:"PERRL"}),o.jsx("option",{value:"sluggish",children:"Sluggish"}),o.jsx("option",{value:"dilated",children:"Dilated"}),o.jsx("option",{value:"constricted",children:"Constricted"}),o.jsx("option",{value:"unequal",children:"Unequal"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"assessment_notes",children:"Additional Assessment"}),o.jsx(et,{id:"assessment_notes",placeholder:"Additional assessment details",rows:4})]})]}),o.jsxs(Fe,{value:"treatment",className:"space-y-4 mt-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"treatment_provided",children:"Treatment Provided"}),o.jsx(et,{id:"treatment_provided",placeholder:"Describe interventions, medications, procedures...",rows:5})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"protocol_treatments"}),o.jsx(R,{htmlFor:"protocol_treatments",children:"Add protocol treatments"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"protocol_exclusions",children:"Protocol Exclusions"}),o.jsx(ce,{id:"protocol_exclusions",placeholder:"Any protocol exclusions"})]})]}),o.jsxs(Fe,{value:"transport",className:"space-y-4 mt-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 pb-4",children:[o.jsx(Ce,{id:"refused_transport"}),o.jsx(R,{htmlFor:"refused_transport",children:"Patient refused transport"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"destination",children:"Transport Destination"}),o.jsx(ce,{id:"destination",placeholder:"e.g. Memorial Hospital"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"position",children:"Transport Position"}),o.jsxs("select",{id:"position",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[o.jsx("option",{value:"position_of_comfort",children:"Position of comfort"}),o.jsx("option",{value:"supine",children:"Supine"}),o.jsx("option",{value:"semi_fowlers",children:"Semi-Fowler's"}),o.jsx("option",{value:"recovery",children:"Recovery position"}),o.jsx("option",{value:"trendelenburg",children:"Trendelenburg"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"room",children:"Room #"}),o.jsx(ce,{id:"room",placeholder:"Room number"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{htmlFor:"nurse",children:"Nurse Name"}),o.jsx(ce,{id:"nurse",placeholder:"Receiving nurse"})]})]})]}),o.jsxs(Fe,{value:"settings",className:"space-y-4 mt-0",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(R,{children:"Narrative Format"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(U,{variant:"outline",className:"justify-start",children:"D.R.A.T.T."}),o.jsx(U,{variant:"outline",className:"justify-start",children:"S.O.A.P."}),o.jsx(U,{variant:"outline",className:"justify-start",children:"C.H.A.R.T."}),o.jsx(U,{variant:"outline",className:"justify-start",children:"Custom"})]})]}),o.jsxs("div",{className:"space-y-4 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"abbreviations",defaultChecked:!0}),o.jsx(R,{htmlFor:"abbreviations",children:"Use EMS Abbreviations"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ce,{id:"headers",defaultChecked:!0}),o.jsx(R,{htmlFor:"headers",children:"Include Section Headers"})]})]})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t z-10",children:o.jsx(U,{className:"w-full",onClick:()=>{n(),t(!1)},children:"Generate Narrative"})})]})})}):null}function BB({open:e,onOpenChange:t,sessions:n,activeSession:r,onNewSession:s,onSelectSession:a,onRenameSession:i,onDeleteSession:l}){const c=fi(),[u,d]=m.useState("");if(!c)return null;const f=n.reduce((v,x)=>{const g=x.date;return v[g]||(v[g]=[]),v[g].push(x),v},{}),h=Object.keys(f).reduce((v,x)=>{let g=f[x];return u.trim()&&(g=g.filter(w=>w.name.toLowerCase().includes(u.toLowerCase()))),g.length>0&&(v[x]=g),v},{});return o.jsx(fc,{open:e,onOpenChange:t,children:o.jsx(hc,{className:"max-h-[90vh]",children:o.jsxs("div",{className:"max-h-[85vh] overflow-auto",children:[o.jsx(Bv,{className:"sticky top-0 z-10 bg-background pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(zv,{children:"Sessions"}),o.jsx(qN,{asChild:!0,children:o.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(ec,{className:"h-4 w-4"})})})]})}),o.jsxs("div",{className:"px-4 pb-16",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Y_,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ce,{placeholder:"Search sessions...",className:"pl-9",value:u,onChange:v=>d(v.target.value)})]}),o.jsx($e,{children:o.jsxs(U,{variant:"outline",size:"sm",className:"w-full justify-start mb-4",onClick:()=>{s(),t(!1)},children:[o.jsx(_r,{className:"h-4 w-4 mr-2"}),"New Session"]})}),Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8 space-y-3",children:[o.jsx(Is,{className:"h-10 w-10 text-muted-foreground mx-auto"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"No sessions found"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Try a different search term"})]}),u&&o.jsx(U,{variant:"link",onClick:()=>d(""),className:"text-xs",children:"Clear search"})]}):Object.entries(h).map(([v,x])=>o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center mb-1 px-1",children:[o.jsx(L_,{className:"h-3 w-3 text-muted-foreground mr-1"}),o.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:v})]}),x.map(g=>o.jsx($e,{children:o.jsxs("div",{className:`mt-1 px-3 py-2.5 rounded-md cursor-pointer flex items-center justify-between group hover:bg-accent/50 ${g.id===r?"bg-accent/70 text-accent-foreground":""}`,onClick:()=>{a(g.id),t(!1)},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Is,{className:`h-4 w-4 mr-2 ${g.id===r?"text-accent-foreground":"text-muted-foreground"}`}),o.jsxs("div",{className:"truncate",children:[o.jsx("p",{className:"truncate text-sm font-medium",children:g.name}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[o.jsx(Kg,{className:"h-3 w-3 mr-1"}),Wt(new Date,"hh:mm a")]})]})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-foreground",onClick:w=>{w.stopPropagation(),i(g.id)},children:o.jsx(CA,{className:"h-3.5 w-3.5"})}),o.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:w=>{w.stopPropagation(),l(g.id)},children:o.jsx(EA,{className:"h-3.5 w-3.5"})})]})]})},g.id))]},v))]})]})})})}const vu={unit:"",dispatch_reason:"",response_delay:"No response delays",response_delay_custom:"",patient_sex:"",patient_age:"",chief_complaint:"",duration:"",patient_presentation:"",aao_person:!0,aao_place:!0,aao_time:!0,aao_event:!0,is_unresponsive:!1,gcs_score:"15",pupils:"PERRL",selected_pertinent_negatives:[],unable_to_obtain_negatives:!1,vital_signs_normal:!0,selected_abnormal_vitals:[],all_other_vitals_normal:!0,dcap_btls:!0,additional_assessment:"",treatment_provided:"",add_protocol_treatments:!1,protocol_exclusions:"",refused_transport:!1,refusal_details:"",transport_destination:"",transport_position:"Position of comfort",room_number:"",nurse_name:"",unit_in_service:!0,format_type:"D.R.A.T.T.",use_abbreviations:!0,include_headers:!0,default_unit:"",default_hospital:"",custom_format:""},Lw=()=>{Un();const e=m.useRef(null),t=fi(),[n,r]=m.useState(!1),[s,a]=m.useState(""),[i,l]=m.useState([]),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,v]=m.useState(!t),[x,g]=m.useState(!1),[w,y]=m.useState("dispatch"),[p,b]=m.useState(!1),[_,S]=m.useState({format_type:"D.R.A.T.T.",use_abbreviations:!0,include_headers:!0,default_unit:"",default_hospital:"",custom_format:""}),[C,j]=m.useState(!1),[N,E]=m.useState(null),[M,T]=m.useState(""),[I,q]=m.useState(!0),[F,K]=m.useState(!1),[H,X]=m.useState(!1),[k,A]=m.useState(!1);m.useEffect(()=>{i.length===0&&he(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(r(!0),document.documentElement.classList.add("dark")),W()},[]),m.useEffect(()=>{t&&(v(!1),g(!1))},[t]),m.useEffect(()=>{if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){const $=window.SpeechRecognition||window.webkitSpeechRecognition,de=new $;de.continuous=!0,de.interimResults=!0,de.onresult=te=>{let Pt="";for(let je=te.resultIndex;je<te.results.length;je++){const Tt=te.results[je][0].transcript;te.results[je].isFinal&&(Pt+=Tt)}Pt?(a(je=>je+" "+Pt),T("")):T(te.results[te.resultIndex][0].transcript)},de.onerror=te=>{console.error("Speech recognition error",te.error),j(!1),nt.error("Speech recognition error: "+te.error)},de.onend=()=>{C&&de.start()},E(de)}else nt.error("Speech recognition is not supported in this browser");return()=>{N&&(N.onend=null,N.abort())}},[C]);const W=()=>{var $;($=e.current)==null||$.scrollIntoView({behavior:"smooth"})},V=()=>{r(!n),document.documentElement.classList.toggle("dark")},J=()=>{N&&(C?(N.stop(),j(!1),T(""),nt.success("Voice input stopped")):(N.start(),j(!0),nt.success("Voice input started")))},ie=()=>{const $=`session-${Date.now()}`,de=new Date,te={id:$,name:`Session ${Wt(de,"MMM d, yyyy hh:mm a")}`,date:Wt(de,"MMM d, yyyy"),messages:[],active:!0};return l(Pt=>[...Pt.map(Tt=>({...Tt,active:!1})),te]),$},he=()=>{const $=ie();u($),a(""),q(!0)},Re=$=>{u($),l(de=>de.map(te=>({...te,active:te.id===$}))),q(!1)},se=$=>{const de=prompt("Enter a new name for this session");de&&l(te=>te.map(Pt=>Pt.id===$?{...Pt,name:de}:Pt))},Z=$=>{if(confirm("Are you sure you want to delete this session?")&&(l(de=>de.filter(te=>te.id!==$)),c===$))if(i.length>1){const de=i.filter(te=>te.id!==$);u(de[0].id)}else he()},me=()=>{if(!s.trim())return;const $=Wt(new Date,"hh:mm a");pe({type:"user",content:s,timestamp:$}),a(""),q(!1),f(!0),setTimeout(()=>{O(s),f(!1)},1500),setTimeout(W,100)},pe=$=>{c&&l(de=>de.map(te=>te.id===c?{...te,messages:[...te.messages,$]}:te))},O=$=>{const de=Wt(new Date,"hh:mm a");if($.toLowerCase().includes("generate")||$.toLowerCase().includes("create narrative")||$.toLowerCase().includes("new narrative")){Q({...vu,..._});return}const te={type:"assistant",content:`I've received your message: "${$}". How can I help with your EMS narrative?`,timestamp:de};pe(te),setTimeout(W,100)},Q=$=>{if(!c)return;const de=Wt(new Date,"hh:mm a");let te=`EMS NARRATIVE REPORT

`;if($){$.include_headers&&(te+=`=== DISPATCH ===
`),te+=`${$.unit||"Unit"} dispatched to ${$.dispatch_reason||"[location]"} for a medical emergency.

`,$.include_headers&&(te+=`=== RESPONSE ===
`),te+=`${$.response_delay!=="No response delays"?`Unit responded with delay due to ${$.response_delay_custom||$.response_delay||"unspecified reason"}.`:"Unit responded without delay."}

`,$.include_headers&&(te+=`=== ARRIVAL ===
`),te+=`Upon arrival, found ${$.patient_sex||""} ${$.patient_age||""} patient with chief complaint of ${$.chief_complaint||"[complaint]"} for ${$.duration||"unknown duration"}. ${$.patient_presentation||""}

`,$.include_headers&&(te+=`=== ASSESSMENT ===
`);let je="";if($.is_unresponsive)je="Patient unresponsive. ";else{const Tt=[$.aao_person,$.aao_place,$.aao_time,$.aao_event].filter(Boolean).length;if(je=`Patient was AAOx${Tt}`,Tt<4){const Tr=[];$.aao_person||Tr.push("person"),$.aao_place||Tr.push("place"),$.aao_time||Tr.push("time"),$.aao_event||Tr.push("event"),je+=` (could not answer ${Tr.join(", ")} questions appropriately)`}je+=`, GCS-${$.gcs_score}, ${$.pupils}. `}te+=je,$.unable_to_obtain_negatives?te+="Unable to obtain pertinent negatives due to patient's condition. ":$.selected_pertinent_negatives&&$.selected_pertinent_negatives.length>0&&(te+=`Patient denied: ${$.selected_pertinent_negatives.join(", ")}. `),$.vital_signs_normal?te+="Vital signs checked and within normal limits for the patient. ":$.selected_abnormal_vitals&&$.selected_abnormal_vitals.length>0&&(te+=`Vital signs: Patient was ${$.selected_abnormal_vitals.join(", ")}. `,$.all_other_vitals_normal&&(te+="All other vital signs within normal limits. ")),$.dcap_btls&&(te+="Full assessment performed; no DCAP-BTLS noted throughout the body. "),$.additional_assessment?te+=`${$.additional_assessment}

`:te+=`

`,$.include_headers&&(te+=`=== TREATMENT ===
`),te+=`${$.treatment_provided||"No interventions required."}

`,$.add_protocol_treatments&&(te+="Additional treatments per protocol administered. ",$.protocol_exclusions?te+=`Protocol exclusions: ${$.protocol_exclusions}.

`:te+=`

`),$.include_headers&&(te+=`=== TRANSPORT ===
`),$.refused_transport?te+=`Patient refused transport. ${$.refusal_details||"Risks of refusal explained to patient who demonstrated understanding and signed refusal form."}

`:te+=`Patient transported to ${$.transport_destination||"[hospital]"} in ${$.transport_position||"position of comfort"}. Patient monitored en route with vitals reassessed. Patient left in Room #${$.room_number||"[room]"} and care transferred to RN ${$.nurse_name||"[name]"}.

`,$.unit_in_service&&(te+=`${$.unit||"Unit"} returned to service.`)}else te+="This is a sample narrative. To generate a custom narrative, please fill out the form fields below.";pe({type:"assistant",content:te,timestamp:de}),nt.success("Narrative generated successfully"),setTimeout(W,100)},D=$=>{S(de=>({...de,...$})),localStorage.setItem("narrative_settings",JSON.stringify({..._,...$})),nt.success("Settings updated")},Y=i.find($=>$.id===c),Te={type:"assistant",content:`# Welcome to NarrativeIQ
    
I'm your AI narrative assistant, designed to help EMS professionals create detailed, accurate PCR narratives quickly and efficiently.

## How to Use
- **Type directly** in the input below to ask questions or create a narrative
- **Click the mic button** to use voice input
- **${t?"Tap the form button":"Use the form on the right"}** to enter patient details
- **Access sessions** from the ${t?"sessions drawer":"left panel"} to continue previous work

## Quick Actions
- Type "Generate narrative" to create a new narrative
- Click on past sessions to view and edit previous reports
- Use the settings icon to customize narrative formatting

Need help? Just ask me anything about EMS narratives, protocols, or how to use this application.`,timestamp:Wt(new Date,"hh:mm a")};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[t?o.jsxs("div",{className:"fixed top-0 inset-x-0 h-14 border-b bg-background z-30 flex items-center justify-between px-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>X(!0),children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),o.jsx("path",{d:"M9 3v18"})]})}),o.jsx("h1",{className:"text-lg font-semibold",children:"NarrativeIQ"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:V,children:n?o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"5"}),o.jsx("path",{d:"M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"})]}):o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})})}),o.jsx(U,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>b(!0),children:o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}):o.jsx(IB,{toggleSidebar:()=>v(!h),toggleSettings:()=>b(!0),sidebarVisible:h,isDarkMode:n,toggleDarkMode:V,userName:"John"}),!t&&o.jsxs(o.Fragment,{children:[o.jsx(DB,{visible:h,sessions:i,activeSession:c,onNewSession:he,onSelectSession:Re,onRenameSession:se,onDeleteSession:Z}),o.jsx(LB,{visible:x,toggleSidebar:()=>g(!x),activeTab:w,onTabChange:y,onSubmit:()=>Q({...vu,..._}),onOpenSettings:()=>b(!0)})]}),o.jsx("main",{className:`flex-1 ${t?"pt-14":"pt-16"} transition-all duration-300 ease-in-out ${h&&!t?"ml-64":"ml-0"} ${x&&!t?"mr-80":"mr-0"}`,children:o.jsx("div",{className:`${t?"p-1":"container mx-auto p-4 max-w-5xl"} h-[calc(100vh-64px)]`,children:o.jsx(qt,{className:`h-full flex flex-col overflow-hidden shadow-md ${t?"rounded-b-none border-b-0":""}`,children:o.jsxs(an,{className:"p-0 flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[!I&&(Y!=null&&Y.messages)&&Y.messages.length>0?o.jsx(kp,{messages:Y.messages,onSavePreset:()=>{}}):o.jsx(kp,{messages:[Te],onSavePreset:()=>{}}),o.jsx("div",{ref:e})]}),t&&k&&o.jsxs("div",{className:"p-2 border-t flex items-center gap-1 overflow-x-auto bg-background/95 backdrop-blur-sm",children:[o.jsx($e,{children:o.jsxs(U,{size:"sm",variant:"outline",className:"whitespace-nowrap",onClick:()=>{a($=>$+" Generate a full arrest narrative"),A(!1)},children:[o.jsx(e0,{className:"h-3.5 w-3.5 mr-1"}),"Full Arrest"]})}),o.jsx($e,{children:o.jsxs(U,{size:"sm",variant:"outline",className:"whitespace-nowrap",onClick:()=>{a($=>$+" Generate a chest pain narrative"),A(!1)},children:[o.jsx(Q_,{className:"h-3.5 w-3.5 mr-1"}),"Chest Pain"]})}),o.jsx($e,{children:o.jsxs(U,{size:"sm",variant:"outline",className:"whitespace-nowrap",onClick:()=>{a($=>$+" Generate a trauma narrative"),A(!1)},children:[o.jsx(fA,{className:"h-3.5 w-3.5 mr-1"}),"Trauma"]})})]}),o.jsxs("div",{className:`${t?"p-2":"p-4"} border-t border-gray-200 dark:border-gray-700`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(et,{value:s,onChange:$=>a($.target.value),placeholder:C?"Listening...":"Type your message here or ask for help...",className:`min-h-[${t?"50":"60"}px] ${t?"text-base":""} pr-24 ${C?"bg-red-50 dark:bg-red-900/10":""}`,onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),me())}}),M&&o.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-1 bg-gray-100 dark:bg-gray-800 p-2 rounded-md text-sm",children:M}),o.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center gap-1",children:[t&&o.jsx($e,{feedbackColor:"#6366f1",children:o.jsx(U,{onClick:()=>A(!k),variant:"secondary",size:"icon",className:"h-8 w-8",title:"Quick actions","aria-label":"Quick actions",children:o.jsx(e0,{className:"h-4 w-4"})})}),o.jsx($e,{feedbackColor:"#6366f1",children:o.jsx(U,{onClick:J,variant:C?"destructive":"secondary",size:"icon",className:"h-8 w-8",title:C?"Stop recording":"Start voice recording","aria-label":C?"Stop recording":"Start voice recording",children:C?o.jsx(V_,{className:"h-4 w-4"}):o.jsx(G_,{className:"h-4 w-4"})})}),o.jsx($e,{feedbackColor:"#6366f1",children:o.jsx(U,{onClick:()=>t?K(!0):g(!x),variant:"secondary",size:"icon",className:"h-8 w-8",title:"Narrative form","aria-label":"Narrative form",children:o.jsx(Zx,{className:"h-4 w-4"})})}),o.jsx($e,{feedbackColor:"#4f46e5",children:o.jsx(U,{onClick:me,disabled:d||!s.trim(),className:"h-8 w-8 button-gradient","aria-label":"Send message",children:d?o.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-white border-t-transparent animate-spin"}):o.jsx(uA,{className:"h-4 w-4"})})})]})]}),!t&&o.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-500 dark:text-gray-400",children:[o.jsx("div",{children:o.jsxs("span",{children:["Press ",o.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded border border-gray-300 dark:border-gray-700",children:"Enter"})," to send"]})}),o.jsx("div",{children:o.jsxs("button",{className:"text-ems-600 dark:text-ems-400 hover:underline flex items-center",onClick:()=>{Q({...vu,..._})},children:[o.jsx(Zx,{className:"h-3 w-3 mr-1"}),o.jsx("span",{children:"Generate Full Narrative"})]})})]})]})]})})})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:o.jsxs("div",{className:`bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg ${t?"max-w-[95%] w-full":"max-w-md w-full"}`,children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Narrative Settings"}),o.jsx(fE,{initialSettings:_,onSave:$=>{D($),b(!1)},onClose:()=>b(!1)})]})}),t&&o.jsxs(o.Fragment,{children:[o.jsx(FB,{userName:"John",activeSession:c,onNewSession:he,onOpenSessionDrawer:()=>X(!0),onOpenSettingsDrawer:()=>b(!0)}),o.jsx(UB,{open:F,onOpenChange:K,onGenerateNarrative:()=>Q({...vu,..._})}),o.jsx(BB,{open:H,onOpenChange:X,sessions:i,activeSession:c,onNewSession:he,onSelectSession:Re,onRenameSession:se,onDeleteSession:Z})]})]})},zB=new DI({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}}),HB=()=>{R4();const[e,t]=m.useState(!0);return m.useEffect(()=>{t(Q5())},[]),e?o.jsx(FI,{client:zB,children:o.jsx(X5,{children:o.jsxs(Sr,{children:[o.jsx(hO,{}),o.jsx(zO,{}),o.jsx(O4,{}),o.jsx(T4,{children:o.jsxs(k4,{children:[o.jsx(Ut,{path:"/",element:o.jsx(p$,{})}),o.jsx(Ut,{path:"/login",element:o.jsx(y$,{})}),o.jsx(Ut,{path:"/forgot-password",element:o.jsx(x$,{})}),o.jsx(Ut,{path:"/reset-password",element:o.jsx(w$,{})}),o.jsx(Ut,{path:"/subscribe",element:o.jsx(b$,{})}),o.jsx(Ut,{path:"/success",element:o.jsx(_$,{})}),o.jsx(Ut,{path:"/dashboard",element:o.jsx(ta,{children:o.jsx(Lw,{})})}),o.jsx(Ut,{path:"/integrated-dashboard",element:o.jsx(ta,{children:o.jsx(Lw,{})})}),o.jsx(Ut,{path:"/create-narrative",element:o.jsx(ta,{children:o.jsx(xU,{})})}),o.jsx(Ut,{path:"/view-narrative/:id",element:o.jsx(ta,{children:o.jsx(wU,{})})}),o.jsx(Ut,{path:"/knowledge-base",element:o.jsx(ta,{children:o.jsx(RB,{})})}),o.jsx(Ut,{path:"/settings",element:o.jsx(ta,{children:o.jsx(Dw,{})})}),o.jsx(Ut,{path:"/settings/admin",element:o.jsx(ta,{requireAdmin:!0,children:o.jsx(Dw,{})})}),o.jsx(Ut,{path:"*",element:o.jsx(MB,{})})]})})]})})}):o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"w-full max-w-md p-8 space-y-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"Supabase Configuration Required"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"This application requires Supabase environment variables to be configured."}),o.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-700 rounded-md text-left",children:[o.jsx("p",{className:"font-mono text-sm mb-2",children:"Required environment variables:"}),o.jsxs("ul",{className:"list-disc pl-5 font-mono text-sm",children:[o.jsx("li",{children:"VITE_SUPABASE_URL"}),o.jsx("li",{children:"VITE_SUPABASE_ANON_KEY"})]})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Please contact your administrator or check the documentation for setup instructions."})]})})};window.addEventListener("error",e=>{console.error("Global error caught:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});console.log("Application starting...");try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");console.log("Root element found, mounting application"),l_(e).render(o.jsx(HB,{})),console.log("Application mounted successfully")}catch(e){console.error("Failed to start application:",e);try{document.body.innerHTML=`
      <div style="display:flex; justify-content:center; align-items:center; height:100vh; flex-direction:column; font-family:sans-serif;">
        <h1>Something went wrong</h1>
        <p>Please check the console for more information</p>
      </div>
    `}catch(t){console.error("Could not render fallback UI:",t)}}export{qw as g};
